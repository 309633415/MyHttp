/*
Navicat MySQL Data Transfer

Source Server         : mySql
Source Server Version : 50027
Source Host           : localhost:3306
Source Database       : myhttp

Target Server Type    : MYSQL
Target Server Version : 50027
File Encoding         : 65001

Date: 2016-02-17 15:44:35
*/

SET FOREIGN_KEY_CHECKS=0;

-- ----------------------------
-- Table structure for album
-- ----------------------------
DROP TABLE IF EXISTS `album`;
CREATE TABLE `album` (
  `id` int(11) NOT NULL auto_increment,
  `addTime` datetime default NULL,
  `name` varchar(30) default NULL COMMENT '相册名称',
  `description` varchar(400) default NULL COMMENT '相册描述',
  `photo` varchar(100) default NULL,
  `photoSize` int(11) default NULL COMMENT '照片数目',
  `userId` int(11) default NULL,
  PRIMARY KEY  (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=15 DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of album
-- ----------------------------

-- ----------------------------
-- Table structure for album_copy
-- ----------------------------
DROP TABLE IF EXISTS `album_copy`;
CREATE TABLE `album_copy` (
  `id` int(11) NOT NULL auto_increment,
  `addTime` datetime default NULL,
  `name` varchar(30) default NULL COMMENT '相册名称',
  `description` varchar(400) default NULL COMMENT '相册描述',
  `photo` varchar(100) default NULL,
  `photoSize` int(11) default NULL COMMENT '照片数目',
  `userId` int(11) default NULL,
  PRIMARY KEY  (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=15 DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of album_copy
-- ----------------------------

-- ----------------------------
-- Table structure for album_copy1
-- ----------------------------
DROP TABLE IF EXISTS `album_copy1`;
CREATE TABLE `album_copy1` (
  `id` int(11) NOT NULL auto_increment,
  `addTime` datetime default NULL,
  `name` varchar(30) default NULL COMMENT '相册名称',
  `description` varchar(400) default NULL COMMENT '相册描述',
  `photo` varchar(100) default NULL,
  `photoSize` int(11) default NULL COMMENT '照片数目',
  `userId` int(11) default NULL,
  PRIMARY KEY  (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=15 DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of album_copy1
-- ----------------------------

-- ----------------------------
-- Table structure for album_copy2
-- ----------------------------
DROP TABLE IF EXISTS `album_copy2`;
CREATE TABLE `album_copy2` (
  `id` int(11) NOT NULL auto_increment,
  `addTime` datetime default NULL,
  `name` varchar(30) default NULL COMMENT '相册名称',
  `description` varchar(400) default NULL COMMENT '相册描述',
  `photo` varchar(100) default NULL,
  `photoSize` int(11) default NULL COMMENT '照片数目',
  `userId` int(11) default NULL,
  PRIMARY KEY  (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=15 DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of album_copy2
-- ----------------------------

-- ----------------------------
-- Table structure for app
-- ----------------------------
DROP TABLE IF EXISTS `app`;
CREATE TABLE `app` (
  `id` int(11) NOT NULL auto_increment,
  `addTime` datetime default NULL,
  `updateTime` datetime default NULL,
  `flag` bit(1) default NULL,
  `name` varchar(50) default NULL,
  `url` varchar(100) default NULL,
  `sequence` int(11) default NULL,
  PRIMARY KEY  (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of app
-- ----------------------------

-- ----------------------------
-- Table structure for bc_order
-- ----------------------------
DROP TABLE IF EXISTS `bc_order`;
CREATE TABLE `bc_order` (
  `obid` int(11) NOT NULL auto_increment COMMENT '主键ID',
  `ob_salerid` varchar(100) default NULL COMMENT '卖方ID',
  `ob_saler` varchar(100) default NULL COMMENT '卖方名称',
  `ob_buyerid` varchar(100) default NULL COMMENT '买方ID',
  `ob_buyer` varchar(100) default NULL COMMENT '买方名称',
  `ob_productid` varchar(100) default NULL COMMENT '商品ID',
  `ob_productname` varchar(100) default NULL COMMENT '商品ID',
  `ob_temproductid` varchar(100) default NULL COMMENT '临时商品ID',
  `ob_temproductname` varchar(100) default NULL COMMENT '临时商品名称',
  `ob_ordertime` datetime default NULL COMMENT '订单生成时间',
  `ob_status` varchar(100) default NULL COMMENT '订单状态 00 未确认  01 已确认 02已付款  03已分配车间 04 生产完毕待配货  05 已配货 06 已完成',
  `ob_logisticid` varchar(100) default NULL COMMENT '物流表ID',
  `ob_creatorid` varchar(50) default NULL COMMENT '订单创建人ID',
  `ob_creatorName` varchar(50) default NULL COMMENT '订单创建人名称',
  PRIMARY KEY  (`obid`)
) ENGINE=MyISAM DEFAULT CHARSET=gbk;

-- ----------------------------
-- Records of bc_order
-- ----------------------------

-- ----------------------------
-- Table structure for blog
-- ----------------------------
DROP TABLE IF EXISTS `blog`;
CREATE TABLE `blog` (
  `id` int(11) NOT NULL auto_increment,
  `addTime` datetime default NULL,
  `updateTime` datetime default NULL,
  `title` varchar(100) NOT NULL,
  `content` text,
  `commentSize` int(11) default NULL,
  `count` int(11) default NULL,
  `userId` int(11) default NULL,
  `categoryId` int(11) default NULL,
  PRIMARY KEY  (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=11 DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of blog
-- ----------------------------

-- ----------------------------
-- Table structure for blog_comment
-- ----------------------------
DROP TABLE IF EXISTS `blog_comment`;
CREATE TABLE `blog_comment` (
  `id` int(11) NOT NULL auto_increment,
  `addTime` datetime default NULL,
  `name` varchar(100) default NULL,
  `content` varchar(400) default NULL,
  `ip` varchar(20) default NULL,
  `im` varchar(50) default NULL,
  `email` varchar(50) default NULL,
  `website` varchar(50) default NULL,
  `userId` int(11) default NULL,
  `blogId` int(11) default NULL,
  PRIMARY KEY  (`id`),
  KEY `userId` (`userId`),
  KEY `blogId` (`blogId`)
) ENGINE=MyISAM AUTO_INCREMENT=12 DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of blog_comment
-- ----------------------------

-- ----------------------------
-- Table structure for board
-- ----------------------------
DROP TABLE IF EXISTS `board`;
CREATE TABLE `board` (
  `id` int(11) NOT NULL auto_increment,
  `addTime` datetime default NULL,
  `name` varchar(100) default NULL COMMENT '版块名称',
  `description` varchar(400) default NULL COMMENT '板块描述',
  `sequence` int(11) default NULL COMMENT '序号',
  PRIMARY KEY  (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=7 DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of board
-- ----------------------------

-- ----------------------------
-- Table structure for category
-- ----------------------------
DROP TABLE IF EXISTS `category`;
CREATE TABLE `category` (
  `id` int(11) NOT NULL auto_increment,
  `addTime` datetime default NULL,
  `updateTime` datetime default NULL,
  `name` varchar(20) default NULL,
  `remark` varchar(200) default NULL,
  `sequence` tinyint(2) default NULL,
  PRIMARY KEY  (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=8 DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of category
-- ----------------------------

-- ----------------------------
-- Table structure for demoinfo
-- ----------------------------
DROP TABLE IF EXISTS `demoinfo`;
CREATE TABLE `demoinfo` (
  `id` int(11) NOT NULL auto_increment,
  `Title` varchar(255) default NULL,
  `KnowLedgeReady` text,
  `ResourceReady` text,
  `Example` text,
  `Remark` text,
  PRIMARY KEY  (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=gbk;

-- ----------------------------
-- Records of demoinfo
-- ----------------------------
INSERT INTO `demoinfo` VALUES ('23', 'strutsValidDemo', '1:struts提供了一套完整的校验框架，使用校验框架既可以方便地实现表单数据校验，又能够将校验与Action分离。<br/>\r\n2:使用方法Action类必须继承ActionSupport，校验配置文件命名为Xxx-validation.xml（Xxx为Action的类名），该文件和Action在同一个包下<br/>', ' 1:jar包下载地址：<a href=\"http://struts.apache.org/download.cgi\" target=\"_blank\">struts2 jar包</a> （jar包介绍不在多说）', '  <p>1:编写Action的Code，使用校验框架必须继承ActionSupport</p>\r\n   <pre  name=\"code\" class=\"java\">\r\nimport com.opensymphony.xwork2.ActionSupport;\r\n\r\n/**\r\n * 框架校验Action实例\r\n */\r\npublic class ValidationAction  extends ActionSupport{  // 框架校验必须继承ActionSupport\r\n	private static final long serialVersionUID = 1L;\r\n	private String username;\r\n	private String password;\r\n	private String actionInfo;\r\n	public String getUsername() {\r\n		return username;\r\n	}\r\n	public void setUsername(String username) {\r\n		this.username = username;\r\n	}\r\n	public String getPassword() {\r\n		return password;\r\n	}\r\n	public void setPassword(String password) {\r\n		this.password = password;\r\n	}\r\n	public String getActionInfo() {\r\n		return actionInfo;\r\n	}\r\n	public void setActionInfo(String actionInfo) {\r\n		this.actionInfo = actionInfo;\r\n	}\r\n	\r\n	public String checkLogin(){\r\n		//会在执行该法时先进行框架校验 如果失败返回 input\r\n		setActionInfo(\"****************校验框架校验成功****************\");\r\n		return \"success\";\r\n	}\r\n}\r\n\r\n   </pre>\r\n   <p>2:编写展示页面</p>\r\n   <pre name=\"code\" class=\"php\">\r\n   &lt;%@ page  contentType=\"text/html; charset=GBK\"%&gt;\r\n&lt;%@taglib prefix=\"s\" uri=\"/struts-tags\"%&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n    &lt; title&gt;框架校验&lt; /title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;h2&gt;当输入用户名或者密码为空时给予提示&lt; /h2&gt;\r\n&lt div style=\"color:red\"&gt;\r\n&lt; !--显示提示的信息--&gt;\r\n    &lt; s:fielderror &gt; \r\n&lt;/div&gt;\r\n    &lt; s:form action=\"/strut/validationAction\" method=\"post\"&gt;   \r\n       &lt; s:textfield name=\"username\" label=\"用户名\" &gt;\r\n       &lt; s:password name=\"password\" label=\"密码\"&gt;\r\n       &lt; s:submit value=\"提交\"&gt;\r\n    &lt; /s:form&gt;    \r\n&lt; /body&gt;\r\n&lt; /html&gt;\r\n   </pre>\r\n   <p>3:校验文件的配置如下，和Action在同一目录下，请注意命名规则</p>\r\n     <pre  name=\"code\" class=\"xml\">\r\n		<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n		<!DOCTYPE validators PUBLIC \"-//OpenSymphony Group//XWork Validator 1.0.2//EN\" \r\n		\"http://www.opensymphony.com/xwork/xwork-validator-1.0.2.dtd\">\r\n		<!--校验规则定义的根源素-->\r\n		<!--注意框架的命名   ActioName-validation.xml  并且该文件最好和Action在同一个包下-->\r\n		<validators>\r\n			<field name=\"username\">\r\n				<field-validator type=\"requiredstring\">\r\n					<message>Validation框架校验：用户名不能为空</message>\r\n				</field-validator>\r\n			</field>\r\n			<field name=\"password\">\r\n				<field-validator type=\"requiredstring\">\r\n					<message>Validation框架校验：密码不能为空</message>\r\n				</field-validator>\r\n			</field>\r\n		</validators>\r\n\r\n   </pre>\r\n   <p>4:配置文件中加上对应Action</p>\r\n   <pre name=\"code\" class=\"xml\">\r\n   		<!--使用校验框架的action-->\r\n        <action name=\"validationAction\" class=\"demoinfo.struts2.validation.ValidationAction\" method=\"checkLogin\">\r\n<!--        校验框架校验不成功会返回input-->\r\n              <result name=\"input\">/strut/validation/login.jsp</result>\r\n              <result name=\"success\">/common/success.jsp</result>   \r\n        </action>\r\n   </pre>', '');
INSERT INTO `demoinfo` VALUES ('24', 'strutsLoginDemo', '&nbsp;&nbsp;1:MVC思想将一个应用分成三个基本部分：Model（模型）、View（视图）和Controller（控制器），这三个部分以最少的耦合协同工作，从而提高应用的可扩展性\r\n及可维护性。<br/>\r\n&nbsp;&nbsp;2:在Model 2模式下，模型（Model）由JavaBean 充当，视图（View）由JSP页面充当，而控制器（Controller）则由Servlet充当。<br/>\r\n&nbsp;&nbsp;3:个人对MVC理解就一句话：视图层（View）显示数据，控制层（controller）接受Http请求后决定执行怎样的业务动作，对业务的处理代码则在模型层（Model）中实现<br>\r\n(如果有不当之处请指出）<br/>\r\n&nbsp;&nbsp;4：strut2的配置文件为strut2.xml；默认在SRC下。<br/>', '   1:jar包下载地址：<a href=\"http://struts.apache.org/download.cgi\" target=\"_blank\">struts2 jar包</a> （jar包介绍不在多说）', ' <p>1:为web.xml文件添加Strut2的拦截器代码如下</p>\r\n   <pre  name=\"code\" class=\"xml\">\r\n    &lt;filter&gt;\r\n	  &lt;filter-name&gt;struts2&lt;/filter-name&gt;\r\n	  &lt;filter-class&gt;org.apache.struts2.dispatcher.FilterDispatcher&lt;/filter-class&gt;\r\n	&lt;/filter&gt;\r\n	&lt;filter-mapping&gt;\r\n			&lt;filter-name&gt;struts2&lt;/filter-name&gt;\r\n			&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n	&lt;/filter-mapping&gt;\r\n   </pre>\r\n   <p>2:添加Struts2核心包到工程目录的WEB-INF/lib/下</p>\r\n   <p>3:编写Action的Code</p>\r\n   <pre  name=\"code\" class=\"java\">\r\npackage login;\r\n/**\r\n * 登陆简单示例Action\r\n * **/\r\npublic class LoginAction {\r\n\r\n	private String username;\r\n	private String password;\r\n	\r\n	public String getUsername() {\r\n		return username;\r\n	}\r\n	public void setUsername(String username) {\r\n		this.username = username;\r\n	}\r\n	public String getPassword() {\r\n		return password;\r\n	}\r\n	public void setPassword(String password) {\r\n		this.password = password;\r\n	}\r\n	\r\n	public String checkLogin(){\r\n		if(username.trim().equals(\"tom\")&& password.trim().equals(\"123\")){\r\n		  return \"success\";\r\n		}else{\r\n			return \"fail\";\r\n		}\r\n	}\r\n }\r\n   </pre>\r\n   <p>4:编写展示页面</p>\r\n   <pre name=\"code\" class=\"php\">\r\n   &lt;%@ page  contentType=\"text/html; charset=GBK\"%&gt;\r\n&lt;%@taglib prefix=\"s\" uri=\"/struts-tags\"%&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n    &lt;title&gt;Hello World&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;s:form action=\"checkLogin\" method=\"post\"&gt;            \r\n       &lt;s:textfield name=\"username\" label=\"用户名\" /&gt;\r\n       &lt;s:password name=\"password\" label=\"密码\"/&gt;\r\n       &lt;s:submit value=\"提交\"/&gt;\r\n    &lt;/s:form&gt;    \r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n   </pre>\r\n   <p>5:文件struts.xml的配置,注意该文件在src/下</p>\r\n     <pre  name=\"code\" class=\"xml\">\r\n    &lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\r\n&lt;!DOCTYPE struts PUBLIC\r\n    \"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN\"\r\n    \"http://struts.apache.org/dtds/struts-2.0.dtd\"&gt;\r\n\r\n&lt;struts&gt;\r\n    &lt;constant name=\"struts.enable.DynamicMethodInvocation\" value=\"false\" /&gt;\r\n    &lt;constant name=\"struts.devMode\" value=\"false\" /&gt;\r\n    &lt;constant name=\"struts.multipart.saveDir\" value=\"/tmp\"/&gt; \r\n    &lt;include file =\"struts-default.xml\" /&gt;  \r\n    &lt;package name=\"default\"  extends=\"struts-default\"&gt;\r\n&lt;!--       action  name与页面中Form的Action相同  Class 指定对应的Java文件 如果用到了Spring 应该对应Bean-ID method对应Java类中的方法--&gt;\r\n        &lt;action name=\"checkLogin\" class=\"login.LoginAction\" method=\"checkLogin\"&gt;\r\n              &lt;result name=\"fail\"&gt;/common/fail.jsp&lt;/result&gt;\r\n              &lt;result name=\"success\"&gt;/common/success.jsp&lt;/result&gt;   \r\n        &lt;/action&gt;\r\n&lt;!--使用校验框架的action--&gt;\r\n        &lt;action name=\"validationAction\" class=\"validation.ValidationAction\" method=\"checkLogin\"&gt;\r\n&lt;!--        校验框架校验不成功会返回input--&gt;\r\n              &lt;result name=\"input\"&gt;/validation/login.jsp&lt;/result&gt;\r\n              &lt;result name=\"success\"&gt;/common/success.jsp&lt;/result&gt;   \r\n        &lt;/action&gt;\r\n\r\n   \r\n   &lt;/package&gt;\r\n&lt;!-- Add packages here   用include包含子xml文件  指定文件的相对路径就可以了--&gt;\r\n&lt;!--&lt;include file=\"/ch7/ch7.xml\"&gt;&lt;/include&gt;--&gt;\r\n&lt;/struts&gt;\r\n   </pre>', '');
INSERT INTO `demoinfo` VALUES ('26', 'ormCrudDemo', '<p>在Java应用总使用hibernate的步骤：</br>\r\n&nbsp;&nbsp;1.创建hibernate的配置文件</br>\r\n&nbsp;&nbsp;2.创建持久化类</br>\r\n&nbsp;&nbsp;&nbsp;1>持久化类符合javabean的规范，包含一些属性，以及与之对应的getxxx()和setxxx()方法。</br>\r\n&nbsp;&nbsp;&nbsp;2>持久化类有一个id属性，用来唯一标志Person类的每个对象。在面向对象术语中，这个id属性被称为对象标识符</br>\r\n&nbsp;&nbsp;&nbsp;3>Hibernate要求持久化类必须提供一个不带参数的默认构造方法</br>\r\n&nbsp;&nbsp;&nbsp;一个SessionFactory实例对应着一个数据存储源，应用从SessionFactory中获得Session实例,Session也被成为持久化管理器，它提供了和持久化相关的操作，如添加、更新、删除、加载和查询对象</br>\r\n&nbsp;&nbsp;&nbsp;注意：此session非彼session（HttpSession）</br>\r\n&nbsp;&nbsp;&nbsp;HQL面向的是类（对象）而不是数据库中的表，这是与SQL之间的差别。Session的get的load方法都可以获取相应的持久化对象，如果该对象存在，那么这两个方法的行为是一样的；如果该对象不存在，那么get方法会返回null而load方法则抛出异常,setAutoCommit(boolean autoCommit)：事物是否自动提交,一般设置为false（比如有5组实物，前4组成功，但第5组失败，则必须全部认为失败回滚，若为true则前4组自动提交）</br>\r\n&nbsp;&nbsp;3.创建对象-关系映射文件</br>\r\n&nbsp;&nbsp;4.通过hibernate API编写访问数据库的代码</p>', ' 1:jar包下载地址：<a href=\"http://sourceforge.net/projects/hibernate/files/hibernate4/4.1.3.Final/hibernate-release-4.1.3.Final.zip/download \">hibernate jar包</a> （jar包介绍不在多说）', '<p style=\"text-indent:2em\">1:导入必要的jar包，新建一个 Java 工程，然后引入必要的 jar 包，右击项目工程，依次选择 Properties->Java Build Path->Libraries->Add External JARs。一般需要Hibernate.jar包和mysql-connector.jar包还有一些基本jar包</p>\r\n<p style=\"text-indent:2em\">2:编写Code<br/>\r\n&nbsp;&nbsp;1>创建数据库hibernate_user_info<br/>\r\n&nbsp;&nbsp;2>新建实体类 User.java<br/>\r\n&nbsp;&nbsp;这个没什么太多说的，一个用户具有：id、username、password 三个属性。</p>\r\n<pre name=\"code\" class=\"java\">\r\npublic class User {\r\n\r\n    private int id;\r\n    private String username;\r\n    private String password;\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n}\r\n</pre>\r\n&nbsp;&nbsp;3>配置 hibernate.cfg.xml（仅供参考，具体配置自行变换）<br/>\r\n&nbsp;&nbsp;在 src 目录下，新建 hibernate.cfg.xml 文件（配置文件存放的位置要求统一化，命名规范化），其配置如下：\r\n<pre name=\"code\" class=\"xml\">\r\n<?xml version=\'1.0\' encoding=\'utf-8\'?>\r\n<!DOCTYPE hibernate-configuration PUBLIC\r\n        \"-//Hibernate/Hibernate Configuration DTD 3.0//EN\"\r\n        \"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd\">\r\n<hibernate-configuration>\r\n    <session-factory>\r\n        <!-- Database connection settings -->\r\n        <!-- 表示使用 mysql 数据库驱动类 -->\r\n        <property name=\"connection.driver_class\">com.mysql.jdbc.Driver</property>\r\n        <!-- jdbc 的连接 url 和数据库（使用我们之前新建的 hibernate）-->\r\n        <property name=\"connection.url\">jdbc:mysql://localhost:3306/mynet</property>\r\n        <!-- 数据库用户名 -->\r\n        <property name=\"connection.username\">root</property>\r\n        <!-- 密码（这里为空） -->\r\n        <property name=\"connection.password\"></property>\r\n        <!-- JDBC connection pool (use the built-in) -->\r\n        <!-- <property name=\"connection.pool_size\">1</property>-->\r\n        <!-- 数据库使用的方言 -->\r\n        <property name=\"dialect\">org.hibernate.dialect.MySQLDialect</property>\r\n        <!-- Echo all executed SQL to stdout -->\r\n        <!-- 设置 打印输出 sql 语句 为真 -->\r\n        <property name=\"show_sql\">true</property>\r\n        <!-- 设置格式为 sql -->\r\n        <property name=\"format_sql\">true</property>\r\n        <!-- 第一次加载 hibernate 时根据实体类自动建立表结构，以后自动更新表结构 -->\r\n        <property name=\"hbm2ddl.auto\">update</property>         \r\n        <!-- 映射文件 -->\r\n        <mapping resource=\"MyHttp/test/hibernate/relationship/pojo/User.hbm.xml\"/>\r\n    </session-factory>\r\n</hibernate-configuration>\r\n</pre>\r\n&nbsp;&nbsp;注：对于MySql查询url端口号，可以通过下面的命令来查看:show variables like \'port\';<br/>\r\n&nbsp;&nbsp;查询用户名和密码可以通过下面的命令来查看：select host,user,password from mysql.user;<br/>\r\n&nbsp;&nbsp;在创建SessionFactory时,如果不是放在ｓｒｃ下第一层，则应该对加载语句进行修改，以防找不到配置文件，例子如下:\r\n<pre name=\"code\" class=\"java\">\r\nConfiguration cfg=newConfiguration().configure(\"hibernate/hibernate.cfg.xml\");  //实例化Configuration并加载hibernate.cfg.xml文件  \r\n</pre>\r\n&nbsp;&nbsp;4>配置 User.hbm.xml<br/>\r\n&nbsp;&nbsp;一个实体类对应一个映射文件，且位于同一个包（package）下。<br/>\r\n<pre name=\"code\" class=\"xml\">\r\n<?xml version=\"1.0\"?>\r\n<!DOCTYPE hibernate-mapping PUBLIC\r\n        \"-//Hibernate/Hibernate Mapping DTD 3.0//EN\"\r\n        \"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd\">\r\n<!-- 映射对应的 package -->\r\n<hibernate-mapping package=\"demoinfo.hibernate.relationship.pojo.User\">\r\n    <!-- 实体类和数据库中的表对应（如果没有这个表则新建） -->\r\n    <class name=\"User\" table=\"hibernate_user_info\">\r\n        <!-- id主键 和其他属性对应表中相应的字段（这些都是在 User.java 实体类中定义的） -->\r\n        <id name=\"id\" column=\"user_id\"/>\r\n        <property name=\"username\" column=\"user_username\"></property>\r\n        <property name=\"password\" column=\"user_password\"></property>\r\n    </class>\r\n</hibernate-mapping>\r\n</pre>\r\n&nbsp;&nbsp;5>创建Test测试运行<br/>\r\n<pre name=\"code\" class=\"java\">\r\npublic class Test {\r\n    @SuppressWarnings(\"unchecked\")\r\n    public static void main(String[] args) {\r\n        // 获取 Hibernate 配置信息\r\n        Configuration configuration = new Configuration().configure();\r\n        // 根据 configuration 建立 sessionFactory\r\n        SessionFactory sessionFactory = configuration.buildSessionFactory();\r\n        // 开启 session（相当于开启 JDBC 的 connection）\r\n        Session session = sessionFactory.openSession();\r\n        // 创建并开启事务对象\r\n        session.beginTransaction();\r\n        // 新建对象，并赋值\r\n        User user = new User();\r\n        user.setId(1);\r\n        user.setUsername(\"admin\");\r\n        user.setPassword(\"admin\");\r\n        // 保存对象\r\n        session.save(user);\r\n        // 提交事务\r\n        session.getTransaction().commit();\r\n        // 关闭 session 和 sessionFactory\r\n        session.close();\r\n        sessionFactory.close();\r\n    }\r\n}\r\n</pre>\r\n&nbsp;&nbsp;注：1>如上的代码是最基本的流程，现在公司使用的框架表面上或许赋值后只会出现XXXDao.sava（user）;<br/>\r\n&nbsp;&nbsp;2>通过JPA注解的方式，我们能将第２步和第４步整合在一起．代码如下：<br/>\r\n<pre name=\"code\" class=\"java\">\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\n\r\n@Entity\r\n@Table(name=\"hibernate_user_info\")\r\n// 数据库中默认会对应生成同名的 Table\r\n// 如果要修改 Table 名，使用 @Table(name=\"\")\r\n// \"\" 内为自定义的 Table 名\r\npublic class User {\r\n    private int id;\r\n    private String username;\r\n    private String password;\r\n    @Id\r\n    public int getId() {\r\n        return id;\r\n    }\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n}\r\n</pre>\r\n&nbsp;&nbsp;其他步骤基本不变。', '1:为web.xml文件添加Strut2的拦截器代码如下\r\n\r\nview plaincopy to clipboardprint?\r\n   <filter>  \r\n  <filter-name>struts2</filter-name>  \r\n  <filter-class>org.apache.struts2.dispatcher.FilterDispatcher</filter-class>  \r\n</filter>  \r\n<filter-mapping>  \r\n        <filter-name>struts2</filter-name>  \r\n        <url-pattern>/*</url-pattern>  \r\n</filter-mapping>  \r\n    \r\n\r\n    <filter>\r\n	  <filter-name>struts2</filter-name>\r\n	  <filter-class>org.apache.struts2.dispatcher.FilterDispatcher</filter-class>\r\n	</filter>\r\n	<filter-mapping>\r\n			<filter-name>struts2</filter-name>\r\n			<url-pattern>/*</url-pattern>\r\n	</filter-mapping>\r\n   \r\n2:添加Struts2核心包到工程目录的WEB-INF/lib/下\r\n\r\n3:编写Action的Code\r\n\r\n');
INSERT INTO `demoinfo` VALUES ('27', 'relationshipDemo', '<p style=\"text-indent:2em\">Hibernate的主要目的就是是Java程序员可以随心所欲的使用对象编程思维来操纵数据库。所以,一些数据库表的关系我们应该可以通过hibernate实现,比如在数据库中我们常用到的主外键关系,还有一些跟主外键有关系的设置,比如主键的信息被删除,外键关联的信息也要删除等等,所以,Hibernate同样应该实现这种映射关系。</p>', ' 1:jar包下载地址：<a href=\"http://sourceforge.net/projects/hibernate/files/hibernate4/4.1.3.Final/hibernate-release-4.1.3.Final.zip/download \">hibernate jar包</a> （jar包介绍不在多说）', '&nbsp;&nbsp;一对一单向[OneToOne] </br>\r\n&nbsp;&nbsp;一对一关系这里定义了一个Person对象以及一个PersonInform对象</br>\r\n&nbsp;&nbsp;Person类：</br>\r\n   <pre  name=\"code\" class=\"java\">\r\n@Entity  \r\n@Table(name=\"hibernate_relationship_person\")  \r\npublic class Person implements java.io.Serializable{\r\n	private static final long serialVersionUID = 1L;\r\n	private String personCode;\r\n	private String personName;\r\n	private PersonInform personInform;\r\n\r\n	@Id\r\n	@Column(name=\"personCode\",length=20,nullable=false)\r\n	public String getPersonCode() {\r\n		return personCode;\r\n	}\r\n	public void setPersonCode(String personCode) {\r\n		this.personCode = personCode;\r\n	}\r\n\r\n	@Column(name=\"personName\",length=15,nullable=false)\r\n	public String getPersonName() {\r\n		return personName;\r\n	}\r\n	public void setPersonName(String personName) {\r\n		this.personName = personName;\r\n	}\r\n\r\n	//指定了OneToOne的关联关系，mappedBy同样指定由对方来进行维护关联关系;\r\n	//CascadeType.ALL包含所有；fetch=FetchType.LAZY懒加载\r\n	@OneToOne(mappedBy=\"person\",cascade=CascadeType.ALL,fetch=FetchType.LAZY)\r\n	public PersonInform getPersonInform() {\r\n		return personInform;\r\n	}\r\n	public void setPersonInform(PersonInform personInform) {\r\n		this.personInform = personInform;\r\n	}\r\n\r\n}\r\n</pre>\r\n&nbsp;&nbsp;PersonInform类：</br>\r\n<pre  name=\"code\" class=\"java\">\r\n@Entity  \r\n@Table(name=\"hibernate_relationship_personinform\")\r\npublic class PersonInform   implements java.io.Serializable\r\n{  \r\n	private static final long serialVersionUID = 1L;\r\n	private int id;\r\n	private int age;\r\n	private String mailBox;  \r\n	private Person person;\r\n	\r\n	@Id\r\n	@GeneratedValue(strategy = GenerationType.AUTO) \r\n	@Column(name=\"Id\",length=50,nullable=false)\r\n	public int getId() {\r\n		return id;\r\n	}\r\n	public void setId(int id) {\r\n		this.id = id;\r\n	}\r\n	@Column(name=\"age\",length=10)\r\n	public int getAge() {\r\n		return age;\r\n	}\r\n	public void setAge(int age) {\r\n		this.age = age;\r\n	}\r\n	@Column(name=\"mailBox\",length=30)\r\n	public String getMailBox() {\r\n		return mailBox;\r\n	}\r\n	public void setMailBox(String mailBox) {\r\n		this.mailBox = mailBox;\r\n	}\r\n	// OneToOne指定了一对一的关联关系，一对一中随便指定一方来维护映射关系，这里选择PersonInform来进行维护 \r\n	@OneToOne(cascade=CascadeType.ALL,fetch=FetchType.LAZY)\r\n	@JoinColumn(name=\"personCode\",unique=true,nullable=false)		//指定外键的名字personCode\r\n	public Person getPerson() {\r\n		return person;\r\n	}\r\n	public void setPerson(Person person) {\r\n		this.person = person;\r\n	}\r\n	\r\n}  \r\n</pre>\r\n\r\n&nbsp;&nbsp;注意:在判断到底是谁维护关联关系时，可以通过查看外键，哪个实体类定义了外键，哪个类就负责维护关联关系。</br>', null);
INSERT INTO `demoinfo` VALUES ('28', 'ormCrudDeleteDemo', '<p>在Java应用总使用hibernate的步骤：</br>\r\n&nbsp;&nbsp;1.创建hibernate的配置文件</br>\r\n&nbsp;&nbsp;2.创建持久化类</br>\r\n&nbsp;&nbsp;&nbsp;1>持久化类符合javabean的规范，包含一些属性，以及与之对应的getxxx()和setxxx()方法。</br>\r\n&nbsp;&nbsp;&nbsp;2>持久化类有一个id属性，用来唯一标志Person类的每个对象。在面向对象术语中，这个id属性被称为对象标识符</br>\r\n&nbsp;&nbsp;&nbsp;3>Hibernate要求持久化类必须提供一个不带参数的默认构造方法</br>\r\n&nbsp;&nbsp;&nbsp;一个SessionFactory实例对应着一个数据存储源，应用从SessionFactory中获得Session实例,Session也被成为持久化管理器，它提供了和持久化相关的操作，如添加、更新、删除、加载和查询对象</br>\r\n&nbsp;&nbsp;&nbsp;注意：此session非彼session（HttpSession）</br>\r\n&nbsp;&nbsp;&nbsp;HQL面向的是类（对象）而不是数据库中的表，这是与SQL之间的差别。Session的get的load方法都可以获取相应的持久化对象，如果该对象存在，那么这两个方法的行为是一样的；如果该对象不存在，那么get方法会返回null而load方法则抛出异常,setAutoCommit(boolean autoCommit)：事物是否自动提交,一般设置为false（比如有5组实物，前4组成功，但第5组失败，则必须全部认为失败回滚，若为true则前4组自动提交）</br>\r\n&nbsp;&nbsp;3.创建对象-关系映射文件</br>\r\n&nbsp;&nbsp;4.通过hibernate API编写访问数据库的代码</p>', ' 1:jar包下载地址：<a href=\"http://sourceforge.net/projects/hibernate/files/hibernate4/4.1.3.Final/hibernate-release-4.1.3.Final.zip/download \">hibernate jar包</a> （jar包介绍不在多说）', '<p style=\"text-indent:2em\">1:导入必要的jar包，新建一个 Java 工程，然后引入必要的 jar 包，右击项目工程，依次选择 Properties->Java Build Path->Libraries->Add External JARs。一般需要Hibernate.jar包和mysql-connector.jar包还有一些基本jar包<br/>2:编写Code<br/>\r\n&nbsp;&nbsp;1>创建数据库hibernate_user_info<br/>\r\n&nbsp;&nbsp;2>新建实体类 User.java<br/>\r\n&nbsp;&nbsp;这个没什么太多说的，一个用户具有：id、username、password 三个属性。</p>\r\n<pre name=\"code\" class=\"java\">\r\npublic class User {\r\n\r\n    private int id;\r\n    private String username;\r\n    private String password;\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n}\r\n</pre>\r\n&nbsp;&nbsp;3>配置 hibernate.cfg.xml（仅供参考，具体配置自行变换）<br/>\r\n&nbsp;&nbsp;在 src 目录下，新建 hibernate.cfg.xml 文件（配置文件存放的位置要求统一化，命名规范化），其配置如下：\r\n<pre name=\"code\" class=\"xml\">\r\n<?xml version=\'1.0\' encoding=\'utf-8\'?>\r\n<!DOCTYPE hibernate-configuration PUBLIC\r\n        \"-//Hibernate/Hibernate Configuration DTD 3.0//EN\"\r\n        \"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd\">\r\n<hibernate-configuration>\r\n    <session-factory>\r\n        <!-- Database connection settings -->\r\n        <!-- 表示使用 mysql 数据库驱动类 -->\r\n        <property name=\"connection.driver_class\">com.mysql.jdbc.Driver</property>\r\n        <!-- jdbc 的连接 url 和数据库（使用我们之前新建的 hibernate）-->\r\n        <property name=\"connection.url\">jdbc:mysql://localhost:3306/mynet</property>\r\n        <!-- 数据库用户名 -->\r\n        <property name=\"connection.username\">root</property>\r\n        <!-- 密码（这里为空） -->\r\n        <property name=\"connection.password\"></property>\r\n        <!-- JDBC connection pool (use the built-in) -->\r\n        <!-- <property name=\"connection.pool_size\">1</property>-->\r\n        <!-- 数据库使用的方言 -->\r\n        <property name=\"dialect\">org.hibernate.dialect.MySQLDialect</property>\r\n        <!-- Echo all executed SQL to stdout -->\r\n        <!-- 设置 打印输出 sql 语句 为真 -->\r\n        <property name=\"show_sql\">true</property>\r\n        <!-- 设置格式为 sql -->\r\n        <property name=\"format_sql\">true</property>\r\n        <!-- 第一次加载 hibernate 时根据实体类自动建立表结构，以后自动更新表结构 -->\r\n        <property name=\"hbm2ddl.auto\">update</property>         \r\n        <!-- 映射文件 -->\r\n        <mapping resource=\"MyHttp/test/hibernate/relationship/pojo/User.hbm.xml\"/>\r\n    </session-factory>\r\n</hibernate-configuration>\r\n</pre>\r\n&nbsp;&nbsp;注：<1>对于MySql查询url端口号，可以通过下面的命令来查看:show variables like \'port\';<br/>\r\n&nbsp;&nbsp;查询用户名和密码可以通过下面的命令来查看：select host,user,password from mysql.user;<br/>\r\n&nbsp;&nbsp;<2>在创建SessionFactory时,如果不是放在ｓｒｃ下第一层，则应该对加载语句进行修改，以防找不到配置文件，例子如下\r\n<pre name=\"code\" class=\"java\">\r\nConfiguration cfg=newConfiguration().configure(\"hibernate/hibernate.cfg.xml\");  //实例化Configuration并加载hibernate.cfg.xml文件  \r\n</pre>&nbsp;&nbsp;4>配置 User.hbm.xml<br/>\r\n&nbsp;&nbsp;一个实体类对应一个映射文件，且位于同一个包（package）下。<br/>\r\n<pre name=\"code\" class=\"xml\">\r\n<?xml version=\"1.0\"?>\r\n<!DOCTYPE hibernate-mapping PUBLIC\r\n        \"-//Hibernate/Hibernate Mapping DTD 3.0//EN\"\r\n        \"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd\">\r\n<!-- 映射对应的 package -->\r\n<hibernate-mapping package=\"demoinfo.hibernate.relationship.pojo.User\">\r\n    <!-- 实体类和数据库中的表对应（如果没有这个表则新建） -->\r\n    <class name=\"User\" table=\"hibernate_user_info\">\r\n        <!-- id主键 和其他属性对应表中相应的字段（这些都是在 User.java 实体类中定义的） -->\r\n        <id name=\"id\" column=\"user_id\"/>\r\n        <property name=\"username\" column=\"user_username\"></property>\r\n        <property name=\"password\" column=\"user_password\"></property>\r\n    </class>\r\n</hibernate-mapping>\r\n</pre>\r\n&nbsp;&nbsp;5>创建Test测试运行<br/>\r\n<pre name=\"code\" class=\"java\">\r\npublic class Test {\r\n    @SuppressWarnings(\"unchecked\")\r\n    public static void main(String[] args) {\r\n        Configuration configuration = new Configuration().configure();\r\n        SessionFactory sessionFactory = configuration.buildSessionFactory();\r\n        Session session = sessionFactory.openSession();\r\n        session.beginTransaction();\r\n        StringBuilder hq = new StringBuilder();\r\n        // 对比查找时候的操作来看，因为我们需要修改指定 name 的用户密码，后面需要再添加查询条件\r\n        // 注意 from、where 的空格，\":name\" 表示一个参数\r\n        hq.append(\"from \").append(User.class.getName()).append(\" where user_username=:name\");\r\n        Query query = session.createQuery(hq.toString());\r\n        // 这里就设定参数 name 的值为\"user1\"\r\n        query.setString(\"name\",\"user1\" ); \r\n        List<User> users = query.list();\r\n        for (User user : users) {\r\n            // 注意这里是 delete\r\n            session.delete(user);\r\n        }\r\n        session.getTransaction().commit();\r\n        session.close();\r\n        sessionFactory.close();\r\n    }\r\n</pre>\r\n&nbsp;&nbsp;注：1>如上的代码是最基本的流程<br/>\r\n&nbsp;&nbsp;2>通过JPA注解的方式，我们能将第２步和第４步整合在一起．代码如下：<br/>\r\n<pre name=\"code\" class=\"java\">\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\n\r\n@Entity\r\n@Table(name=\"hibernate_user_info\")\r\n// 数据库中默认会对应生成同名的 Table\r\n// 如果要修改 Table 名，使用 @Table(name=\"\")\r\n// \"\" 内为自定义的 Table 名\r\npublic class User {\r\n    private int id;\r\n    private String username;\r\n    private String password;\r\n    @Id\r\n    public int getId() {\r\n        return id;\r\n    }\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n}\r\n</pre>\r\n&nbsp;&nbsp;其他步骤基本不变。', '1:为web.xml文件添加Strut2的拦截器代码如下\r\n\r\nview plaincopy to clipboardprint?\r\n   <filter>  \r\n  <filter-name>struts2</filter-name>  \r\n  <filter-class>org.apache.struts2.dispatcher.FilterDispatcher</filter-class>  \r\n</filter>  \r\n<filter-mapping>  \r\n        <filter-name>struts2</filter-name>  \r\n        <url-pattern>/*</url-pattern>  \r\n</filter-mapping>  \r\n    \r\n\r\n    <filter>\r\n	  <filter-name>struts2</filter-name>\r\n	  <filter-class>org.apache.struts2.dispatcher.FilterDispatcher</filter-class>\r\n	</filter>\r\n	<filter-mapping>\r\n			<filter-name>struts2</filter-name>\r\n			<url-pattern>/*</url-pattern>\r\n	</filter-mapping>\r\n   \r\n2:添加Struts2核心包到工程目录的WEB-INF/lib/下\r\n\r\n3:编写Action的Code\r\n\r\n');
INSERT INTO `demoinfo` VALUES ('29', 'ormCrudQueryDemo', '<p>在Java应用总使用hibernate的步骤：</br>\r\n&nbsp;&nbsp;1.创建hibernate的配置文件</br>\r\n&nbsp;&nbsp;2.创建持久化类</br>\r\n&nbsp;&nbsp;&nbsp;1>持久化类符合javabean的规范，包含一些属性，以及与之对应的getxxx()和setxxx()方法。</br>\r\n&nbsp;&nbsp;&nbsp;2>持久化类有一个id属性，用来唯一标志Person类的每个对象。在面向对象术语中，这个id属性被称为对象标识符</br>\r\n&nbsp;&nbsp;&nbsp;3>Hibernate要求持久化类必须提供一个不带参数的默认构造方法</br>\r\n&nbsp;&nbsp;&nbsp;一个SessionFactory实例对应着一个数据存储源，应用从SessionFactory中获得Session实例,Session也被成为持久化管理器，它提供了和持久化相关的操作，如添加、更新、删除、加载和查询对象</br>\r\n&nbsp;&nbsp;&nbsp;注意：此session非彼session（HttpSession）</br>\r\n&nbsp;&nbsp;&nbsp;HQL面向的是类（对象）而不是数据库中的表，这是与SQL之间的差别。Session的get的load方法都可以获取相应的持久化对象，如果该对象存在，那么这两个方法的行为是一样的；如果该对象不存在，那么get方法会返回null而load方法则抛出异常,setAutoCommit(boolean autoCommit)：事物是否自动提交,一般设置为false（比如有5组实物，前4组成功，但第5组失败，则必须全部认为失败回滚，若为true则前4组自动提交）</br>\r\n&nbsp;&nbsp;3.创建对象-关系映射文件</br>\r\n&nbsp;&nbsp;4.通过hibernate API编写访问数据库的代码</p>', ' 1:jar包下载地址：<a href=\"http://sourceforge.net/projects/hibernate/files/hibernate4/4.1.3.Final/hibernate-release-4.1.3.Final.zip/download \">hibernate jar包</a> （jar包介绍不在多说）', '<p style=\"text-indent:2em\">\r\n1:导入必要的jar包，新建一个 Java 工程，然后引入必要的 jar 包，右击项目工程，依次选择 Properties->Java Build Path->Libraries->Add External JARs。一般需要Hibernate.jar包和mysql-connector.jar包还有一些基本jar包</p>\r\n<p style=\"text-indent:2em\">2:编写Code<br/>\r\n&nbsp;&nbsp;1>创建数据库hibernate_user_info<br/>\r\n&nbsp;&nbsp;2>新建实体类 User.java<br/>\r\n&nbsp;&nbsp;这个没什么太多说的，一个用户具有：id、username、password 三个属性。</p>\r\n<pre name=\"code\" class=\"java\">\r\npublic class User {\r\n\r\n    private int id;\r\n    private String username;\r\n    private String password;\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n}\r\n</pre>\r\n&nbsp;&nbsp;3>配置 hibernate.cfg.xml（仅供参考，具体配置自行变换）<br/>\r\n&nbsp;&nbsp;在 src 目录下，新建 hibernate.cfg.xml 文件（配置文件存放的位置要求统一化，命名规范化），其配置如下：\r\n<pre name=\"code\" class=\"xml\">\r\n<?xml version=\'1.0\' encoding=\'utf-8\'?>\r\n<!DOCTYPE hibernate-configuration PUBLIC\r\n        \"-//Hibernate/Hibernate Configuration DTD 3.0//EN\"\r\n        \"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd\">\r\n<hibernate-configuration>\r\n    <session-factory>\r\n        <!-- Database connection settings -->\r\n        <!-- 表示使用 mysql 数据库驱动类 -->\r\n        <property name=\"connection.driver_class\">com.mysql.jdbc.Driver</property>\r\n        <!-- jdbc 的连接 url 和数据库（使用我们之前新建的 hibernate）-->\r\n        <property name=\"connection.url\">jdbc:mysql://localhost:3306/mynet</property>\r\n        <!-- 数据库用户名 -->\r\n        <property name=\"connection.username\">root</property>\r\n        <!-- 密码（这里为空） -->\r\n        <property name=\"connection.password\"></property>\r\n        <!-- JDBC connection pool (use the built-in) -->\r\n        <!-- <property name=\"connection.pool_size\">1</property>-->\r\n        <!-- 数据库使用的方言 -->\r\n        <property name=\"dialect\">org.hibernate.dialect.MySQLDialect</property>\r\n        <!-- Echo all executed SQL to stdout -->\r\n        <!-- 设置 打印输出 sql 语句 为真 -->\r\n        <property name=\"show_sql\">true</property>\r\n        <!-- 设置格式为 sql -->\r\n        <property name=\"format_sql\">true</property>\r\n        <!-- 第一次加载 hibernate 时根据实体类自动建立表结构，以后自动更新表结构 -->\r\n        <property name=\"hbm2ddl.auto\">update</property>         \r\n        <!-- 映射文件 -->\r\n        <mapping resource=\"MyHttp/test/hibernate/relationship/pojo/User.hbm.xml\"/>\r\n    </session-factory>\r\n</hibernate-configuration>\r\n</pre>\r\n&nbsp;&nbsp;注：<1>对于MySql查询url端口号，可以通过下面的命令来查看:show variables like \'port\';<br/>\r\n&nbsp;&nbsp;查询用户名和密码可以通过下面的命令来查看：select host,user,password from mysql.user;<br/>\r\n&nbsp;&nbsp;<2>在创建SessionFactory时,如果不是放在ｓｒｃ下第一层，则应该对加载语句进行修改，以防找不到配置文件，例子如下\r\n<pre name=\"code\" class=\"java\">\r\nConfiguration cfg=newConfiguration().configure(\"hibernate/hibernate.cfg.xml\");  //实例化Configuration并加载hibernate.cfg.xml文件  \r\n</pre>\r\n&nbsp;&nbsp;4>配置 User.hbm.xml<br/>\r\n&nbsp;&nbsp;一个实体类对应一个映射文件，且位于同一个包（package）下。<br/>\r\n<pre name=\"code\" class=\"xml\">\r\n<?xml version=\"1.0\"?>\r\n<!DOCTYPE hibernate-mapping PUBLIC\r\n        \"-//Hibernate/Hibernate Mapping DTD 3.0//EN\"\r\n        \"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd\">\r\n<!-- 映射对应的 package -->\r\n<hibernate-mapping package=\"demoinfo.hibernate.relationship.pojo.User\">\r\n    <!-- 实体类和数据库中的表对应（如果没有这个表则新建） -->\r\n    <class name=\"User\" table=\"hibernate_user_info\">\r\n        <!-- id主键 和其他属性对应表中相应的字段（这些都是在 User.java 实体类中定义的） -->\r\n        <id name=\"id\" column=\"user_id\"/>\r\n        <property name=\"username\" column=\"user_username\"></property>\r\n        <property name=\"password\" column=\"user_password\"></property>\r\n    </class>\r\n</hibernate-mapping>\r\n</pre>\r\n&nbsp;&nbsp;5>创建Test测试运行<br/>\r\n<pre name=\"code\" class=\"java\">\r\npublic class Test {\r\n    @SuppressWarnings(\"unchecked\")\r\n    public static void main(String[] args) {\r\n        Configuration configuration = new Configuration().configure();\r\n        SessionFactory sessionFactory = configuration.buildSessionFactory();\r\n        Session session = sessionFactory.openSession();\r\n        session.beginTransaction();\r\n        // 利用 StringBuilder 来连接查询语句\r\n        StringBuilder hq = new StringBuilder();\r\n        // 从 User 里面查找（注意 from 后有空格）\r\n        // 相当于 \"select * from user_info;\"\r\n        hq.append(\"from \").append( User.class.getName() );\r\n        // 利用 session 建立 query\r\n        Query query = session.createQuery( hq.toString() );\r\n        // 序列化 query 的结果为一个 list 集合\r\n        List<User> users = query.list();\r\n        // 打印每一个 User 信息（这里只打印了名字，你也可以打印其他信息）\r\n        for (User user : users) {\r\n            System.out.println( user.getUsername() );\r\n        }\r\n/*      User user = new User();\r\n        user.setId(3);\r\n        user.setUsername(\"user2\");\r\n        user.setPassword(\"helloworld\");\r\n        session.save(user);*/\r\n        session.getTransaction().commit();\r\n        session.close();\r\n        sessionFactory.close();\r\n    }\r\n}\r\n</pre>\r\n&nbsp;&nbsp;注：1>如上的代码是最基本的流程<br/>\r\n&nbsp;&nbsp;2>通过JPA注解的方式，我们能将第２步和第４步整合在一起．代码如下：<br/>\r\n<pre name=\"code\" class=\"java\">\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\n\r\n@Entity\r\n@Table(name=\"hibernate_user_info\")\r\n// 数据库中默认会对应生成同名的 Table\r\n// 如果要修改 Table 名，使用 @Table(name=\"\")\r\n// \"\" 内为自定义的 Table 名\r\npublic class User {\r\n    private int id;\r\n    private String username;\r\n    private String password;\r\n    @Id\r\n    public int getId() {\r\n        return id;\r\n    }\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n}\r\n</pre>\r\n&nbsp;&nbsp;其他步骤基本不变。', '1:为web.xml文件添加Strut2的拦截器代码如下\r\n\r\nview plaincopy to clipboardprint?\r\n   <filter>  \r\n  <filter-name>struts2</filter-name>  \r\n  <filter-class>org.apache.struts2.dispatcher.FilterDispatcher</filter-class>  \r\n</filter>  \r\n<filter-mapping>  \r\n        <filter-name>struts2</filter-name>  \r\n        <url-pattern>/*</url-pattern>  \r\n</filter-mapping>  \r\n    \r\n\r\n    <filter>\r\n	  <filter-name>struts2</filter-name>\r\n	  <filter-class>org.apache.struts2.dispatcher.FilterDispatcher</filter-class>\r\n	</filter>\r\n	<filter-mapping>\r\n			<filter-name>struts2</filter-name>\r\n			<url-pattern>/*</url-pattern>\r\n	</filter-mapping>\r\n   \r\n2:添加Struts2核心包到工程目录的WEB-INF/lib/下\r\n\r\n3:编写Action的Code\r\n\r\n');
INSERT INTO `demoinfo` VALUES ('30', 'ormCrudUpdateDemo', '<p>在Java应用总使用hibernate的步骤：</br>\r\n&nbsp;&nbsp;1.创建hibernate的配置文件</br>\r\n&nbsp;&nbsp;2.创建持久化类</br>\r\n&nbsp;&nbsp;&nbsp;1>持久化类符合javabean的规范，包含一些属性，以及与之对应的getxxx()和setxxx()方法。</br>\r\n&nbsp;&nbsp;&nbsp;2>持久化类有一个id属性，用来唯一标志Person类的每个对象。在面向对象术语中，这个id属性被称为对象标识符</br>\r\n&nbsp;&nbsp;&nbsp;3>Hibernate要求持久化类必须提供一个不带参数的默认构造方法</br>\r\n&nbsp;&nbsp;&nbsp;一个SessionFactory实例对应着一个数据存储源，应用从SessionFactory中获得Session实例,Session也被成为持久化管理器，它提供了和持久化相关的操作，如添加、更新、删除、加载和查询对象</br>\r\n&nbsp;&nbsp;&nbsp;注意：此session非彼session（HttpSession）</br>\r\n&nbsp;&nbsp;&nbsp;HQL面向的是类（对象）而不是数据库中的表，这是与SQL之间的差别。Session的get的load方法都可以获取相应的持久化对象，如果该对象存在，那么这两个方法的行为是一样的；如果该对象不存在，那么get方法会返回null而load方法则抛出异常,setAutoCommit(boolean autoCommit)：事物是否自动提交,一般设置为false（比如有5组实物，前4组成功，但第5组失败，则必须全部认为失败回滚，若为true则前4组自动提交）</br>\r\n&nbsp;&nbsp;3.创建对象-关系映射文件</br>\r\n&nbsp;&nbsp;4.通过hibernate API编写访问数据库的代码</p>', ' 1:jar包下载地址：<a href=\"http://sourceforge.net/projects/hibernate/files/hibernate4/4.1.3.Final/hibernate-release-4.1.3.Final.zip/download \">hibernate jar包</a> （jar包介绍不在多说）', '<p style=\"text-indent:2em\">\r\n1:导入必要的jar包，新建一个 Java 工程，然后引入必要的 jar 包，右击项目工程，依次选择 Properties->Java Build Path->Libraries->Add External JARs。一般需要Hibernate.jar包和mysql-connector.jar包还有一些基本jar包</p>\r\n <p style=\"text-indent:2em\">\r\n2:编写Code<br/>\r\n&nbsp;&nbsp;1>创建数据库hibernate_user_info<br/>\r\n&nbsp;&nbsp;2>新建实体类 User.java<br/>\r\n&nbsp;&nbsp;这个没什么太多说的，一个用户具有：id、username、password 三个属性。</p>\r\n<pre name=\"code\" class=\"java\">\r\npublic class User {\r\n\r\n    private int id;\r\n    private String username;\r\n    private String password;\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n}\r\n</pre>\r\n&nbsp;&nbsp;3>配置 hibernate.cfg.xml（仅供参考，具体配置自行变换）<br/>\r\n&nbsp;&nbsp;在 src 目录下，新建 hibernate.cfg.xml 文件（配置文件存放的位置要求统一化，命名规范化），其配置如下：\r\n<pre name=\"code\" class=\"xml\">\r\n<?xml version=\'1.0\' encoding=\'utf-8\'?>\r\n<!DOCTYPE hibernate-configuration PUBLIC\r\n        \"-//Hibernate/Hibernate Configuration DTD 3.0//EN\"\r\n        \"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd\">\r\n<hibernate-configuration>\r\n    <session-factory>\r\n        <!-- Database connection settings -->\r\n        <!-- 表示使用 mysql 数据库驱动类 -->\r\n        <property name=\"connection.driver_class\">com.mysql.jdbc.Driver</property>\r\n        <!-- jdbc 的连接 url 和数据库（使用我们之前新建的 hibernate）-->\r\n        <property name=\"connection.url\">jdbc:mysql://localhost:3306/mynet</property>\r\n        <!-- 数据库用户名 -->\r\n        <property name=\"connection.username\">root</property>\r\n        <!-- 密码（这里为空） -->\r\n        <property name=\"connection.password\"></property>\r\n        <!-- JDBC connection pool (use the built-in) -->\r\n        <!-- <property name=\"connection.pool_size\">1</property>-->\r\n        <!-- 数据库使用的方言 -->\r\n        <property name=\"dialect\">org.hibernate.dialect.MySQLDialect</property>\r\n        <!-- Echo all executed SQL to stdout -->\r\n        <!-- 设置 打印输出 sql 语句 为真 -->\r\n        <property name=\"show_sql\">true</property>\r\n        <!-- 设置格式为 sql -->\r\n        <property name=\"format_sql\">true</property>\r\n        <!-- 第一次加载 hibernate 时根据实体类自动建立表结构，以后自动更新表结构 -->\r\n        <property name=\"hbm2ddl.auto\">update</property>         \r\n        <!-- 映射文件 -->\r\n        <mapping resource=\"MyHttp/test/hibernate/relationship/pojo/User.hbm.xml\"/>\r\n    </session-factory>\r\n</hibernate-configuration>\r\n</pre>\r\n注：<1>对于MySql查询url端口号，可以通过下面的命令来查看:show variables like \'port\';<br/>\r\n&nbsp;&nbsp;查询用户名和密码可以通过下面的命令来查看：select host,user,password from mysql.user;<br/>\r\n&nbsp;&nbsp;<2>在创建SessionFactory时,如果不是放在ｓｒｃ下第一层，则应该对加载语句进行修改，以防找不到配置文件，例子如下\r\n<pre name=\"code\" class=\"java\">\r\nConfiguration cfg=newConfiguration().configure(\"hibernate/hibernate.cfg.xml\");  //实例化Configuration并加载hibernate.cfg.xml文件  \r\n</pre>&nbsp;&nbsp;4>配置 User.hbm.xml<br/>\r\n&nbsp;&nbsp;一个实体类对应一个映射文件，且位于同一个包（package）下。<br/>\r\n<pre name=\"code\" class=\"xml\">\r\n<?xml version=\"1.0\"?>\r\n<!DOCTYPE hibernate-mapping PUBLIC\r\n        \"-//Hibernate/Hibernate Mapping DTD 3.0//EN\"\r\n        \"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd\">\r\n<!-- 映射对应的 package -->\r\n<hibernate-mapping package=\"demoinfo.hibernate.relationship.pojo.User\">\r\n    <!-- 实体类和数据库中的表对应（如果没有这个表则新建） -->\r\n    <class name=\"User\" table=\"hibernate_user_info\">\r\n        <!-- id主键 和其他属性对应表中相应的字段（这些都是在 User.java 实体类中定义的） -->\r\n        <id name=\"id\" column=\"user_id\"/>\r\n        <property name=\"username\" column=\"user_username\"></property>\r\n        <property name=\"password\" column=\"user_password\"></property>\r\n    </class>\r\n</hibernate-mapping>\r\n</pre>\r\n&nbsp;&nbsp;5>创建Test测试运行<br/>\r\n&nbsp;&nbsp;假设现在我们需要把 user1 的密码改成一个比较复杂的 “123-user”。<br>\r\n<pre name=\"code\" class=\"java\">\r\npublic class Test {\r\n\r\n    @SuppressWarnings(\"unchecked\")\r\n    public static void main(String[] args) {\r\n        Configuration configuration = new Configuration().configure();\r\n        SessionFactory sessionFactory = configuration.buildSessionFactory();\r\n        Session session = sessionFactory.openSession();\r\n        session.beginTransaction();\r\n        StringBuilder hq = new StringBuilder();\r\n        // 对比查找的操作来看，因为我们需要修改指定 name 的用户密码，后面需要再添加查询条件\r\n        // 注意 from、where 的空格，\":name\" 表示一个参数\r\n        hq.append(\"from \").append(User.class.getName()).append(\" where user_username=:name\");\r\n        Query query = session.createQuery(hq.toString());\r\n        // 这里就设定参数 name 的值为\"user1\"\r\n        query.setString(\"name\",\"user1\" ); \r\n        List<User> users = query.list();\r\n        for (User user : users) {\r\n            // 修改 user1 的密码\r\n            user.setPassword(\"123-user\");\r\n            // 注意这里是 update\r\n            session.update(user);\r\n        }\r\n        session.getTransaction().commit();\r\n        session.close();\r\n        sessionFactory.close();\r\n    }\r\n</pre>\r\n&nbsp;&nbsp;另外，你也可以直接通过这样的方式实现修改：<br/>\r\n<pre name=\"code\" class=\"java\">\r\nUser user = new User();\r\nuser.setId(2);\r\nuser.setUsername(\"user1\");\r\nuser.setPassword(\"123-user\");\r\n// update\r\nsession.update(user)\r\n</pre>\r\n注：1>如上的代码是最基本的流程<br/>\r\n&nbsp;&nbsp;2>通过JPA注解的方式，我们能将第２步和第４步整合在一起．代码如下：<br/>\r\n<pre name=\"code\" class=\"java\">\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\n\r\n@Entity\r\n@Table(name=\"hibernate_user_info\")\r\n// 数据库中默认会对应生成同名的 Table\r\n// 如果要修改 Table 名，使用 @Table(name=\"\")\r\n// \"\" 内为自定义的 Table 名\r\npublic class User {\r\n    private int id;\r\n    private String username;\r\n    private String password;\r\n    @Id\r\n    public int getId() {\r\n        return id;\r\n    }\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n}\r\n</pre>\r\n&nbsp;&nbsp;其他步骤基本不变。', '1:为web.xml文件添加Strut2的拦截器代码如下\r\n\r\nview plaincopy to clipboardprint?\r\n   <filter>  \r\n  <filter-name>struts2</filter-name>  \r\n  <filter-class>org.apache.struts2.dispatcher.FilterDispatcher</filter-class>  \r\n</filter>  \r\n<filter-mapping>  \r\n        <filter-name>struts2</filter-name>  \r\n        <url-pattern>/*</url-pattern>  \r\n</filter-mapping>  \r\n    \r\n\r\n    <filter>\r\n	  <filter-name>struts2</filter-name>\r\n	  <filter-class>org.apache.struts2.dispatcher.FilterDispatcher</filter-class>\r\n	</filter>\r\n	<filter-mapping>\r\n			<filter-name>struts2</filter-name>\r\n			<url-pattern>/*</url-pattern>\r\n	</filter-mapping>\r\n   \r\n2:添加Struts2核心包到工程目录的WEB-INF/lib/下\r\n\r\n3:编写Action的Code\r\n\r\n');
INSERT INTO `demoinfo` VALUES ('31', 'ormCrudQueryHqlDemo', '&nbsp;&nbsp;Hibernate 提供了强大的查询系统，使用 Hibernate 有多种查询方法可以选择：可以使用 Hibernate 的 HQL 查询，也可以使用条件查询，甚至可以使用原生的 SQL 查询语句。\r\nHQL 语言看上去很像 SQL。但是 HQL 是一种面向对象的查询语句，它的操作对象是类、实例、属性等，而 SQL 的操作对象是数据表、列等数据库对象。由于 HQL 是完全面向对象的查询语句，因此可以支持继承、多态等特性。\r\n执行HQL查询的步骤：</br>\r\n1、获得 Hibernate Session 对象</br>\r\n2、编写 HQL 语句</br>\r\n（1）from 子句</br>\r\n&nbsp;&nbsp;Hibernate 中最简单的查询语句的形式如 from table_name，因为是面向对象的语言，所以这里一般写成from Name(Name是table_name)的实体类,例如：</br>\r\n<pre name=\"code\" class=\"java\">\r\nfrom  User \r\n</pre>\r\n&nbsp;&nbsp;有时候需要使用到别名：</br>\r\n<pre name=\"code\" class=\"java\">\r\n from User as u\r\n</pre>\r\n（2）where 子句</br>\r\n&nbsp;&nbsp;where 子句允许你将返回的实例列表的范围缩小。如果没有指定别名，你可以使用属性名来直接引用属性：</br>\r\n<pre name=\"code\" class=\"java\">\r\nfrom User where name= \'admin\' \r\n</pre>\r\n&nbsp;&nbsp;如果指派了别名，需要使用完整的属性名：</br>\r\n<pre name=\"code\" class=\"java\">\r\nfrom User as u where u.name= \'admin\' \r\n</pre>\r\n（3）select 子句</br>\r\n&nbsp;&nbsp;select子句会选择将哪些对象与属性返回到查询结果集中。</br>\r\n<pre name=\"code\" class=\"java\">\r\nselect u.username from User as u\r\n</pre>\r\n（４）SQL 查询</br>\r\n&nbsp;&nbsp;可以直接使用原生 SQL 语句格式进行查询。</br>\r\n<pre name=\"code\" class=\"java\">\r\nSQLQuery q = session.createSQLQuery(\"select * from user_info\").addEntity(User.class);\r\n</pre>\r\n3、调用 Session 的 createQuery() 方法创建查询对象</br>\r\n4、如果 HQL 语句包含参数，则调用 Query 的 setXxx 方法为参数赋值</br>\r\n5、调用 Query 对象的 list 等方法返回查询结果。</br>', ' 1:jar包下载地址：<a href=\"http://sourceforge.net/projects/hibernate/files/hibernate4/4.1.3.Final/hibernate-release-4.1.3.Final.zip/download \">hibernate jar包</a> （jar包介绍不在多说）', ' <p style=\"text-indent:2em\"> \r\n1:导入必要的jar包，新建一个 Java 工程，然后引入必要的 jar 包，右击项目工程，依次选择 Properties->Java Build Path->Libraries->Add External JARs。一般需要Hibernate.jar包和mysql-connector.jar包还有一些基本jar包</p>\r\n<p style=\"text-indent:2em\"> \r\n2:编写Code<br/>\r\n　&nbsp;&nbsp;1>创建数据库hibernate_user_info<br/>\r\n	&nbsp;&nbsp;&nbsp;2>新建实体类 User.java<br/>\r\n	&nbsp;&nbsp;&nbsp;这个没什么太多说的，一个用户具有：id、username、password 三个属性。</p>\r\n<pre name=\"code\" class=\"java\">\r\npublic class User {\r\n\r\n    private int id;\r\n    private String username;\r\n    private String password;\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n}\r\n</pre>\r\n&nbsp;&nbsp;3>配置 hibernate.cfg.xml（仅供参考，具体配置自行变换）<br/>\r\n&nbsp;&nbsp;在 src 目录下，新建 hibernate.cfg.xml 文件（配置文件存放的位置要求统一化，命名规范化），其配置如下：\r\n<pre name=\"code\" class=\"xml\">\r\n<?xml version=\'1.0\' encoding=\'utf-8\'?>\r\n<!DOCTYPE hibernate-configuration PUBLIC\r\n        \"-//Hibernate/Hibernate Configuration DTD 3.0//EN\"\r\n        \"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd\">\r\n<hibernate-configuration>\r\n    <session-factory>\r\n        <!-- Database connection settings -->\r\n        <!-- 表示使用 mysql 数据库驱动类 -->\r\n        <property name=\"connection.driver_class\">com.mysql.jdbc.Driver</property>\r\n        <!-- jdbc 的连接 url 和数据库（使用我们之前新建的 hibernate）-->\r\n        <property name=\"connection.url\">jdbc:mysql://localhost:3306/mynet</property>\r\n        <!-- 数据库用户名 -->\r\n        <property name=\"connection.username\">root</property>\r\n        <!-- 密码（这里为空） -->\r\n        <property name=\"connection.password\"></property>\r\n        <!-- JDBC connection pool (use the built-in) -->\r\n        <!-- <property name=\"connection.pool_size\">1</property>-->\r\n        <!-- 数据库使用的方言 -->\r\n        <property name=\"dialect\">org.hibernate.dialect.MySQLDialect</property>\r\n        <!-- Echo all executed SQL to stdout -->\r\n        <!-- 设置 打印输出 sql 语句 为真 -->\r\n        <property name=\"show_sql\">true</property>\r\n        <!-- 设置格式为 sql -->\r\n        <property name=\"format_sql\">true</property>\r\n        <!-- 第一次加载 hibernate 时根据实体类自动建立表结构，以后自动更新表结构 -->\r\n        <property name=\"hbm2ddl.auto\">update</property>         \r\n        <!-- 映射文件 -->\r\n        <mapping resource=\"demoinfo/hibernate/relationship/pojo/User.hbm.xml\" />  \r\n    </session-factory>\r\n</hibernate-configuration>\r\n</pre>\r\n注：<1>对于MySql查询url端口号，可以通过下面的命令来查看:show variables like \'port\';<br/>\r\n&nbsp;&nbsp;查询用户名和密码可以通过下面的命令来查看：select host,user,password from mysql.user;<br/>\r\n&nbsp;&nbsp;<2>在创建SessionFactory时,如果不是放在ｓｒｃ下第一层，则应该对加载语句进行修改，以防找不到配置文件，例子如下\r\n<pre name=\"code\" class=\"java\">\r\nConfiguration cfg=newConfiguration().configure(\"hibernate/hibernate.cfg.xml\");  //实例化Configuration并加载hibernate.cfg.xml文件  \r\n</pre>\r\n&nbsp;&nbsp;4>配置 User.hbm.xml<br/>\r\n&nbsp;&nbsp;一个实体类对应一个映射文件，且位于同一个包（package）下。<br/>\r\n<pre name=\"code\" class=\"xml\">\r\n<?xml version=\"1.0\"?>\r\n<!DOCTYPE hibernate-mapping PUBLIC\r\n        \"-//Hibernate/Hibernate Mapping DTD 3.0//EN\"\r\n        \"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd\">\r\n<!-- 映射对应的 package -->\r\n<hibernate-mapping package=\"demoinfo.hibernate.relationship.pojo.User\">\r\n    <!-- 实体类和数据库中的表对应（如果没有这个表则新建） -->\r\n    <class name=\"User\" table=\"hibernate_user_info\">\r\n        <!-- id主键 和其他属性对应表中相应的字段（这些都是在 User.java 实体类中定义的） -->\r\n        <id name=\"id\" column=\"user_id\"/>\r\n        <property name=\"username\" column=\"user_username\"></property>\r\n        <property name=\"password\" column=\"user_password\"></property>\r\n    </class>\r\n</hibernate-mapping>\r\n</pre>\r\n&nbsp;&nbsp;5>创建Test测试运行<br/>\r\n<pre name=\"code\" class=\"java\">\r\npublic class CustomTest {\r\n	@SuppressWarnings(\"unchecked\")\r\n    public static void main(String[] args) {\r\n    	AnnotationConfiguration configuration = new AnnotationConfiguration().configure();\r\n        SessionFactory sessionFactory = configuration.buildSessionFactory();\r\n        Session session = sessionFactory.openSession();\r\n        session.beginTransaction();\r\n        // 1. 普通查询  \r\n        Query q = session.createQuery(\" from User as u\");  \r\n        \r\n        // 2. 条件查询  \r\n        //Query q = session.createQuery(\" from User as u where u.username = ?\");  \r\n        \r\n        // 3. 原生 SQL 查询  \r\n        //SQLQuery q = session.createSQLQuery(\"select * from hibernate_user_info\").addEntity(User.class); \r\n        \r\n        /* \r\n        // 4.criteria 查询  \r\n       	//创造criteria\r\n        Criteria q = session.createCriteria(User.class);\r\n        //添加查询条件\r\n        Criterion cc = Restrictions.between(\"id\", 1, 3); \r\n        Criterion cc1 = Restrictions.idEq(2);     \r\n        q.add(cc); \r\n        q.add(cc1);\r\n        //如果想分页,下面我是把它写死的,写活也比较容易的,自己试.  \r\n        // q.setFirstResult(0);  \r\n        //q.setMaxResults(10);          \r\n         */      \r\n        List&lt;User&gt; list = q.list();  \r\n        for (User e : list) {  \r\n            System.out.println(\"username: \" + e.getUsername() + \"  , password: \" + e.getPassword());  \r\n        }   \r\n        session.getTransaction().commit();\r\n        session.close();\r\n        sessionFactory.close();\r\n    }\r\n}\r\n</pre>', '1:为web.xml文件添加Strut2的拦截器代码如下\r\n\r\nview plaincopy to clipboardprint?\r\n   <filter>  \r\n  <filter-name>struts2</filter-name>  \r\n  <filter-class>org.apache.struts2.dispatcher.FilterDispatcher</filter-class>  \r\n</filter>  \r\n<filter-mapping>  \r\n        <filter-name>struts2</filter-name>  \r\n        <url-pattern>/*</url-pattern>  \r\n</filter-mapping>  \r\n    \r\n\r\n    <filter>\r\n	  <filter-name>struts2</filter-name>\r\n	  <filter-class>org.apache.struts2.dispatcher.FilterDispatcher</filter-class>\r\n	</filter>\r\n	<filter-mapping>\r\n			<filter-name>struts2</filter-name>\r\n			<url-pattern>/*</url-pattern>\r\n	</filter-mapping>\r\n   \r\n2:添加Struts2核心包到工程目录的WEB-INF/lib/下\r\n\r\n3:编写Action的Code\r\n\r\n');
INSERT INTO `demoinfo` VALUES ('32', 'ormCrudQueryLinkDemo', '&nbsp;&nbsp;Hibernate 提供了强大的查询系统，使用 Hibernate 有多种查询方法可以选择：可以使用 Hibernate 的 HQL 查询，也可以使用条件查询，甚至可以使用原生的 SQL 查询语句。\r\nHQL 语言看上去很像 SQL。但是 HQL 是一种面向对象的查询语句，它的操作对象是类、实例、属性等，而 SQL 的操作对象是数据表、列等数据库对象。由于 HQL 是完全面向对象的查询语句，因此可以支持继承、多态等特性。\r\n执行HQL查询的步骤：</br>\r\n1、获得 Hibernate Session 对象</br>\r\n2、编写 HQL 语句</br>\r\n（1）from 子句</br>\r\n&nbsp;&nbsp;Hibernate 中最简单的查询语句的形式如 from table_name，因为是面向对象的语言，所以这里一般写成from Name(Name是table_name)的实体类,例如：</br>\r\n<pre name=\"code\" class=\"java\">\r\nfrom  User \r\n</pre>\r\n&nbsp;&nbsp;有时候需要使用到别名：</br>\r\n<pre name=\"code\" class=\"java\">\r\n from User as u\r\n</pre>\r\n（2）where 子句</br>\r\n&nbsp;&nbsp;where 子句允许你将返回的实例列表的范围缩小。如果没有指定别名，你可以使用属性名来直接引用属性：</br>\r\n<pre name=\"code\" class=\"java\">\r\nfrom User where name= \'admin\' \r\n</pre>\r\n&nbsp;&nbsp;如果指派了别名，需要使用完整的属性名：</br>\r\n<pre name=\"code\" class=\"java\">\r\nfrom User as u where u.name= \'admin\' \r\n</pre>\r\n（3）select 子句</br>\r\n&nbsp;&nbsp;select子句会选择将哪些对象与属性返回到查询结果集中。</br>\r\n<pre name=\"code\" class=\"java\">\r\nselect u.username from User as u\r\n</pre>\r\n（４）SQL 查询</br>\r\n&nbsp;&nbsp;可以直接使用原生 SQL 语句格式进行查询。</br>\r\n<pre name=\"code\" class=\"java\">\r\nSQLQuery q = session.createSQLQuery(\"select * from user_info\").addEntity(User.class);\r\n</pre>\r\n3、调用 Session 的 createQuery() 方法创建查询对象</br>\r\n4、如果 HQL 语句包含参数，则调用 Query 的 setXxx 方法为参数赋值</br>\r\n5、调用 Query 对象的 list 等方法返回查询结果。</br>', ' 1:jar包下载地址：<a href=\"http://sourceforge.net/projects/hibernate/files/hibernate4/4.1.3.Final/hibernate-release-4.1.3.Final.zip/download \">hibernate jar包</a> （jar包介绍不在多说）', '<p style=\"text-indent:2em\">\r\n 1:导入必要的jar包，新建一个 Java 工程，然后引入必要的 jar 包，右击项目工程，依次选择 Properties->Java Build Path->Libraries->Add External JARs。一般需要Hibernate.jar包和mysql-connector.jar包还有一些基本jar包。</p>\r\n<p style=\"text-indent:2em\">\r\n2:编写Code<br/>\r\n&nbsp;&nbsp;1>创建数据库hibernate_user_info<br/>\r\n&nbsp;&nbsp;2>新建实体类 User.java和Goods.java<br/>\r\n&nbsp;&nbsp;这个没什么太多说的，一个用户具有：id、username、password 三个属性。每个用户可以有多个商品，而一个商品只能对应一个用户。</p>\r\n<pre name=\"code\" class=\"java\">\r\npublic class User {\r\n    private int id;\r\n    private String username;\r\n    private String password;\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n}\r\n</pre>\r\n<pre name=\"code\" class=\"java\">\r\npublic class Goods {  \r\n    private int id;  \r\n    private String goodsname;  \r\n    private String userId;  \r\n  \r\n    public int getId() {  \r\n        return id;  \r\n    }  \r\n    public void setId(int id) {  \r\n        this.id = id;  \r\n    }  \r\n    public String getGoodsname() {  \r\n        return goodsname;  \r\n    }  \r\n    public void setGoodsname(String goodsname) {  \r\n        this.goodsname = goodsname;  \r\n    }  \r\n    public String getUserId() {  \r\n        return userId;  \r\n    }  \r\n    public void setUserId(String userId) {  \r\n        this.userId = userId;  \r\n    }  \r\n}  \r\n</pre>\r\n&nbsp;&nbsp;现在要实现两表连接查询，查出每个用户所拥有的商品，并把该用户的信息和其商品信息显示出来。<br/>\r\n&nbsp;&nbsp;使用Hibernate反向生成的实体类分别是Users和Goods。<br/>\r\n&nbsp;&nbsp;3>配置 hibernate.cfg.xml（仅供参考，具体配置自行变换）<br/>\r\n&nbsp;&nbsp;在 src 目录下，新建 hibernate.cfg.xml 文件（配置文件存放的位置要求统一化，命名规范化），其配置如下：\r\n<pre name=\"code\" class=\"xml\">\r\n<?xml version=\'1.0\' encoding=\'utf-8\'?>\r\n<!DOCTYPE hibernate-configuration PUBLIC\r\n        \"-//Hibernate/Hibernate Configuration DTD 3.0//EN\"\r\n        \"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd\">\r\n<hibernate-configuration>\r\n    <session-factory>\r\n        <!-- Database connection settings -->\r\n        <!-- 表示使用 mysql 数据库驱动类 -->\r\n        <property name=\"connection.driver_class\">com.mysql.jdbc.Driver</property>\r\n        <!-- jdbc 的连接 url 和数据库（使用我们之前新建的 hibernate）-->\r\n        <property name=\"connection.url\">jdbc:mysql://localhost:3306/mynet</property>\r\n        <!-- 数据库用户名 -->\r\n        <property name=\"connection.username\">root</property>\r\n        <!-- 密码（这里为空） -->\r\n        <property name=\"connection.password\"></property>\r\n        <!-- JDBC connection pool (use the built-in) -->\r\n        <!-- <property name=\"connection.pool_size\">1</property>-->\r\n        <!-- 数据库使用的方言 -->\r\n        <property name=\"dialect\">org.hibernate.dialect.MySQLDialect</property>\r\n        <!-- Echo all executed SQL to stdout -->\r\n        <!-- 设置 打印输出 sql 语句 为真 -->\r\n        <property name=\"show_sql\">true</property>\r\n        <!-- 设置格式为 sql -->\r\n        <property name=\"format_sql\">true</property>\r\n        <!-- 第一次加载 hibernate 时根据实体类自动建立表结构，以后自动更新表结构 -->\r\n        <property name=\"hbm2ddl.auto\">update</property>         \r\n        <!-- 映射文件 -->\r\n        <mapping resource=\"demoinfo/hibernate/relationship/pojo/User.hbm.xml\" /> \r\n        <mapping resource=\"demoinfo/hibernate/relationship/pojo/Goods.hbm.xml\" />  \r\n    </session-factory>\r\n</hibernate-configuration>\r\n</pre>\r\n注：<1>对于MySql查询url端口号，可以通过下面的命令来查看:show variables like \'port\';<br/>\r\n&nbsp;&nbsp;查询用户名和密码可以通过下面的命令来查看：select host,user,password from mysql.user;<br/>\r\n&nbsp;&nbsp;<2>在创建SessionFactory时,如果不是放在ｓｒｃ下第一层，则应该对加载语句进行修改，以防找不到配置文件，例子如下\r\n<pre name=\"code\" class=\"java\">\r\nConfiguration cfg=newConfiguration().configure(\"hibernate/hibernate.cfg.xml\");  //实例化Configuration并加载hibernate.cfg.xml文件  \r\n</pre>&nbsp;&nbsp;4>配置 User.hbm.xml和Goods.hbm.xml<br/>\r\n&nbsp;&nbsp;一个实体类对应一个映射文件，且位于同一个包（package）下。<br/>\r\n<pre name=\"code\" class=\"xml\">\r\n<?xml version=\"1.0\"?>\r\n<!DOCTYPE hibernate-mapping PUBLIC\r\n        \"-//Hibernate/Hibernate Mapping DTD 3.0//EN\"\r\n        \"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd\">\r\n<!-- 映射对应的package -->\r\n<hibernate-mapping package=\"demoinfo.hibernate.relationship.pojo\">\r\n    <!-- 实体类和数据库中的表对应（如果没有这个表则新建） -->\r\n    <class name=\"User\" table=\"hibernate_user_info\">\r\n        <!-- id主键 和其他属性对应表中相应的字段（这些都是在 User.java 实体类中定义的） -->\r\n        <id name=\"id\" column=\"user_id\" ></id>\r\n        <property name=\"username\" column=\"user_username\"></property>\r\n        <property name=\"password\" column=\"user_password\"></property>\r\n   </class>\r\n</hibernate-mapping>\r\n</pre>\r\n<pre name=\"code\" class=\"xml\">\r\n<?xml version=\"1.0\"?>\r\n<!DOCTYPE hibernate-mapping PUBLIC\r\n        \"-//Hibernate/Hibernate Mapping DTD 3.0//EN\"\r\n        \"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd\">\r\n<!-- 映射对应的package -->\r\n<hibernate-mapping package=\"demoinfo.hibernate.relationship.pojo\">\r\n     <!-- 实体类和数据库中的表对应（如果没有这个表则新建） -->\r\n    <class name=\"Goods\" table=\"hibernate_goods_info\">\r\n         <!-- id主键 和其他属性对应表中相应的字段（这些都是在 Goods.java 实体类中定义的） -->\r\n        <id name=\"id\" column=\"goods_id\" ></id>\r\n        <property name=\"goodsname\" column=\"goods_goodsname\"></property>\r\n        <property name=\"userId\" column=\"goods_userId\"></property>\r\n   </class>\r\n</hibernate-mapping>\r\n</pre>\r\n&nbsp;&nbsp;5>实现语句<br/>\r\n&nbsp;&nbsp;有两种方式：<br/>\r\n&nbsp;&nbsp;（1）使用传统方式：<br/>\r\n<pre name=\"code\" class=\"java\">\r\nString hql=\"select u.userame,g.goodsname from User u, Goods g where u.id=g.userId\";\r\n</pre>\r\n&nbsp;&nbsp;根据这个查询语句，调用query.list()方法得到一个List值，这个List中的每一个值都是Object[]类型的，里面包含了查询出来的所有值，剩下的自个儿去处理就行了<br/>\r\n&nbsp;&nbsp;（2）增加一个映射类<br/>\r\n&nbsp;&nbsp;增加一个映射类UserVoGoods.java，添加需要查询的信息相关的所有属性，本例中添加username, goodsame。并为这几个属性添加setter和getter方法，增加构造函数，参数与这两个属性对应，那么可以用hql查询方式：<br/>\r\n<pre name=\"code\" class=\"java\">\r\n String hql=\"select new demoinfo.hibernate.pojo.UsersVoGoods(u.id,g.id,u.username, g.goodsname) from User u,Goods g where u.id=g.userId\"; \r\n</pre>\r\n&nbsp;&nbsp;query.list()的返回值List中的值都是UserVoGoods型的，直接使用get()就能获取。<br/>\r\n&nbsp;&nbsp;其实不增加映射类也是可以的，只需要在User.java实体类里增加一个构造函数，函数参数还是需要的所有字段，并为这些参数中User实体原来没有的字段添加属性和getter() setter()即可。<br/>\r\n&nbsp;&nbsp;创建Test运行<br/>\r\n<pre name=\"code\" class=\"java\">\r\npublic class QueryLink {\r\n    @SuppressWarnings(\"unchecked\")\r\n    public static void main(String[] args) {\r\n    	AnnotationConfiguration configuration = new AnnotationConfiguration().configure();\r\n        SessionFactory sessionFactory = configuration.buildSessionFactory();\r\n        Session session = sessionFactory.openSession();\r\n        session.beginTransaction();\r\n        // hibernate 实现多表连接查询 查询结果映射到自定义类中\r\n        String hql=\"select new demoinfo.hibernate.pojo.UserVoGoods(u.id,g.id,u.username, g.goodsname) from User u,Goods g where u.id=g.userId\";  \r\n        // 利用 session 建立 query  \r\n        Query query = session.createQuery(hql);  \r\n        // 序列化 query 的结果为一个 list 集合  \r\n        List&lt;UserVoGoods&gt; list = query.list();  \r\n        // 打印每一个 User 信息（这里只打印了名字，你也可以打印其他信息）  \r\n        for (UserVoGoods li : list) {  \r\n            System.out.println( \"用户名：\"+li.getUsername() +\"  商品名：\"+li.getGoodsname() );  \r\n        }  \r\n        session.getTransaction().commit();\r\n        session.close();\r\n        sessionFactory.close();\r\n    }\r\n}\r\n</pre>', '1:为web.xml文件添加Strut2的拦截器代码如下\r\n\r\nview plaincopy to clipboardprint?\r\n   <filter>  \r\n  <filter-name>struts2</filter-name>  \r\n  <filter-class>org.apache.struts2.dispatcher.FilterDispatcher</filter-class>  \r\n</filter>  \r\n<filter-mapping>  \r\n        <filter-name>struts2</filter-name>  \r\n        <url-pattern>/*</url-pattern>  \r\n</filter-mapping>  \r\n    \r\n\r\n    <filter>\r\n	  <filter-name>struts2</filter-name>\r\n	  <filter-class>org.apache.struts2.dispatcher.FilterDispatcher</filter-class>\r\n	</filter>\r\n	<filter-mapping>\r\n			<filter-name>struts2</filter-name>\r\n			<url-pattern>/*</url-pattern>\r\n	</filter-mapping>\r\n   \r\n2:添加Struts2核心包到工程目录的WEB-INF/lib/下\r\n\r\n3:编写Action的Code\r\n\r\n');
INSERT INTO `demoinfo` VALUES ('33', 'webServiceConf', '<p style=\"text-indent:2em\"><strong>什么是WebService?</strong><br/>\r\n&nbsp;&nbsp;Web Service也叫XML Web Service WebService是一种可以接收从Internet或者Intranet上的其它系统中传递过来的请求，轻量级的独立的通讯技术。是:通过SOAP在Web上提供的软件服务，使用WSDL文件进行说明，并通过UDDI进行注册。\r\n</p>\r\n<p style=\"text-indent:2em\"><strong>WebService能做什么?</strong><br/>\r\n&nbsp;&nbsp;我们可以调用互联网上查询天气信息Web服务，然后将它嵌入到我们的程序(C/S或B/S程序)当中来，当用户从我们的网点看到天气信息时，他会认为我们为他提供了很多的信息服务，但其实我们什么也没有做，只是简单了调用了一下别人服务器上的一段代码而已。\r\n</p>\r\n<p style=\"text-indent:2em\"><strong>为什么要学习WebService?</strong><br/>\r\n&nbsp;&nbsp;学习WebSerice可以将你的服务(一段代码)发布到互联网上让别人去调用,也可以调用别人机器上发布的WebService,就像使用自己的代码一样.。\r\n</p>\r\n<p style=\"text-indent:2em\"><strong>Web Service基本概念</strong><br/>\r\n&nbsp;&nbsp;XML：(Extensible Markup Language)扩展型可标记语言。面向短期的临时数据处理、面向万维网络，是Soap的基础。<br/>\r\n&nbsp;&nbsp;Soap：(Simple Object Access Protocol)简单对象存取协议。是XML Web Service 的通信协议。当用户通过UDDI找到你的WSDL描述文档后，他通过可以SOAP调用你建立的Web服务中的一个或多个操作。SOAP是XML文档形式的调用方法的规范，它可以支持不同的底层接口，像HTTP(S)或者SMTP。<br/>\r\n&nbsp;&nbsp;WSDL：(Web Services Description Language) WSDL 文件是一个 XML 文档，用于说明一组 SOAP 消息以及如何交换这些消息。大多数情况下由软件自动生成和使用。<br/>\r\n&nbsp;&nbsp;UDDI (Universal Description, Discovery, and Integration) 是一个主要针对Web服务供应商和使用者的新项目。在用户能够调用Web服务之前，必须确定这个服务内包含哪些商务方法，找到被调用的接口定义，还要在服务端来编制软件，UDDI是一种根据描述文档来引导系统查找相应服务的机制。UDDI利用SOAP消息机制（标准的XML/HTTP）来发布，编辑，浏览以及查找注册信息。它采用XML格式来封装各种不同类型的数据，并且发送到注册中心或者由注册中心来返回需要的数据。\r\n</p>', ' 1:jar包下载地址：<a href=\"http://download.csdn.net/detail/jiashubing/9411845\" target=\"_blank\">XFire+WebService的jar包合集</a>（jar包介绍这里就不嗦了）', '<p style=\"text-indent:2em\">\r\n1:建立webservice首先需要建立一个服务接口，我们的例子是HelloWebService。</p>\r\n<pre name=\"code\" class=\"java\">\r\npackage demoinfo.webservice.xfire;\r\n\r\nimport javax.jws.WebService;  \r\n@WebService \r\npublic interface HelloWebService {\r\n	public String sayHello(String name);\r\n	public String sayLove(String name);\r\n}\r\n</pre>\r\n<p style=\"text-indent:2em\">\r\n2:建立这个接口的实现类。</p>\r\n<pre name=\"code\" class=\"java\">\r\npackage demoinfo.webservice.xfire;\r\n\r\npublic class HelloWebServiceImpl implements HelloWebService {\r\n	public String sayHello(String name) {\r\n		return \"&lt;font color=\'red\'&gt;\"+name+\"&lt;/font&gt; Hello , welcome to Webservice !\";\r\n	}\r\n	public String sayLove(String name) {\r\n		return \"&lt;font color=\'red\'&gt;\"+name+\"&lt;/font&gt; I Love You !\";\r\n	}\r\n}\r\n</pre>\r\n<p style=\"text-indent:2em\">\r\n3:建立服务端，将服务发布出去。<br/>\r\n&nbsp;&nbsp;这里有两种方法，一种是运行java类，手动将其发布；另一种是通过XML配置文件，在项目启动的时候自动发布。<br/>\r\n&nbsp;&nbsp;第一种方法，需要新建一个服务类WebServiceServer。\r\n</p>\r\n<pre name=\"code\" class=\"java\">\r\npackage demoinfo.webservice.xfire;\r\n\r\nimport javax.xml.ws.Endpoint;\r\nimport demoinfo.webservice.xfire.HelloWebServiceImpl;  \r\n  \r\npublic class WebServiceServer {  \r\n    public static void main(String[] args) {  \r\n    	Endpoint.publish(\"http://localhost:8080/hellowebservice\", new HelloWebServiceImpl());  \r\n    	System.out.println(\"server is ready...\");  \r\n        try {  \r\n            Thread.sleep(1000*300);  \r\n        } catch (InterruptedException e) {  \r\n            e.printStackTrace();  \r\n        }  \r\n        System.out.println(\"server exit...\");  \r\n        System.exit(0);  \r\n    }  \r\n}  \r\n\r\n</pre>\r\n<p style=\"text-indent:2em\">\r\n这时候我们就可以通过浏览器访问http://localhost:8080/hellowebservice来访问我们这个类，看到它的类的描述文件了。<br/>\r\n&nbsp;&nbsp;我们还可以使用另外一种方法，通过XML配置文件来发布服务，这也是比较常用的方法。<br/>\r\n&nbsp;&nbsp;首先在web.xml中增加Xfire Servlet的配置。\r\n</p>\r\n<pre name=\"code\" class=\"xml\">\r\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\r\n&lt;web-app xmlns=\"http://java.sun.com/xml/ns/j2ee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n	version=\"2.4\"\r\n	xsi:schemaLocation=\"http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd\"&gt;\r\n\r\n	&lt;!-- struts2的配置 Start --&gt;\r\n	&lt;filter&gt;\r\n		&lt;filter-name&gt;struts2&lt;/filter-name&gt;\r\n		&lt;filter-class&gt;org.apache.struts2.dispatcher.FilterDispatcher&lt;/filter-class&gt;\r\n	&lt;/filter&gt;\r\n	&lt;filter-mapping&gt;\r\n		&lt;filter-name&gt;struts2&lt;/filter-name&gt;\r\n		&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n	&lt;/filter-mapping&gt;\r\n	&lt;!-- struts2的配置 end --&gt;\r\n\r\n	&lt;!-- Spring配置和监听start --&gt;\r\n	&lt;context-param&gt;\r\n		&lt;!-- 配置多个文件时需要的参数 --&gt;\r\n		&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n		&lt;!-- 需要加载的配置文件，可以有多个，用逗号或者空格或者分号隔开 --&gt;\r\n		&lt;param-value&gt;/WEB-INF/classes/spring/application*.xml\r\n		&lt;/param-value&gt;\r\n	&lt;/context-param&gt;\r\n	&lt;listener&gt;\r\n		&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n	&lt;/listener&gt;\r\n	&lt;!--end --&gt;\r\n\r\n	&lt;!-- Xfire Servlet start --&gt;\r\n	&lt;servlet&gt;\r\n		&lt;servlet-name&gt;XFireServlet&lt;/servlet-name&gt;\r\n		&lt;display-name&gt;XFire Servlet&lt;/display-name&gt;\r\n		&lt;!-- 不整合时使用org.codehaus.xfire.transport.http.XFireConfigurableServlet --&gt;\r\n		&lt;servlet-class&gt;org.codehaus.xfire.spring.XFireSpringServlet&lt;/servlet-class&gt;\r\n		&lt;load-on-startup&gt;0&lt;/load-on-startup&gt;\r\n	&lt;/servlet&gt;\r\n	&lt;servlet-mapping&gt;\r\n		&lt;servlet-name&gt;XFireServlet&lt;/servlet-name&gt;\r\n		&lt;url-pattern&gt;/services/*&lt;/url-pattern&gt;\r\n	&lt;/servlet-mapping&gt;\r\n	&lt;!-- Xfire Servlet end --&gt;\r\n\r\n	&lt;welcome-file-list&gt;\r\n		&lt;welcome-file&gt;frame.jsp&lt;/welcome-file&gt;\r\n	&lt;/welcome-file-list&gt;\r\n&lt;/web-app&gt;\r\n\r\n</pre>\r\n<p style=\"text-indent:2em\">\r\n注意为了不让struts对他进行拦截，需要在struts.xml里为它放行,struts.xml里面添加如下代码：\r\n</p>\r\n<pre name=\"code\" class=\"xml\">\r\n\r\n&lt;package name=\"XFireServlet\" extends=\"struts-default\" &gt;\r\n	    &lt;action name=\"*\"&gt;\r\n	        &lt;result&gt;{1}&lt;/result&gt;\r\n	    &lt;/action&gt;\r\n	&lt;/package&gt;\r\n&lt;/pre&gt;\r\n&lt;!--webService的xml文件，下一步调用服务需要用到--&gt;\r\n&lt;include file=\"/struts/webservice.xml\"&gt;&lt;/include&gt;\r\n\r\n<p style=\"text-indent:2em\">\r\n同时也要在spring包下增加xfir的配置文件applicationContext-xfire.xml。</p>\r\n<pre name=\"code\" class=\"xml\">\r\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\r\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\r\n	xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:tx=\"http://www.springframework.org/schema/tx\"\r\n	xmlns:aop=\"http://www.springframework.org/schema/aop\" xmlns:p=\"http://www.springframework.org/schema/p\"\r\n	xmlns:context=\"http://www.springframework.org/schema/context\"\r\n	xsi:schemaLocation=\"http://www.springframework.org/schema/beans \r\n	http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n	http://www.springframework.org/schema/context   \r\n     http://www.springframework.org/schema/context/spring-context-3.0.xsd   \r\n     http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd \r\n     http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd\"\r\n	default-autowire=\"byName\"&gt;\r\n\r\n	&lt;!-- 引入xfire.xml--&gt;\r\n     &lt;import resource=\"classpath:org/codehaus/xfire/spring/xfire.xml\"/&gt;\r\n     &lt;!-- Service实现类--&gt;\r\n     &lt;bean id=\"hello\" class=\"demoinfo.webservice.xfire.HelloWebServiceImpl\"/&gt;\r\n     &lt;!-- 这里的name属性并不是调用时的Service名字；调用时要用类名，不知道为什么，所以这个bean的名字随便定义--&gt;\r\n     &lt;bean name=\"webService\" class=\"org.codehaus.xfire.spring.ServiceBean\"&gt;\r\n		&lt;property name=\"serviceBean\" ref=\"hello\"/&gt;                          &lt;!-- Service实现类--&gt;\r\n        &lt;property name=\"serviceClass\" value=\"demoinfo.webservice.xfire.HelloWebService\"/&gt;       &lt;!-- Service接口--&gt;\r\n        &lt;property name=\"inHandlers\"&gt;\r\n			&lt;list&gt;\r\n				&lt;ref bean=\"addressingHandler\"/&gt;\r\n			&lt;/list&gt;\r\n		&lt;/property&gt;\r\n     &lt;/bean&gt;\r\n\r\n     &lt;bean id=\"addressingHandler\" class=\"org.codehaus.xfire.addressing.AddressingInHandler\"/&gt;\r\n	\r\n&lt;/beans&gt;\r\n</pre>\r\n<p style=\"text-indent:2em\">\r\n这样的话项目启动以后，服务会自动发布，可以通过浏览器访问http://localhost:8080/MyHttp/services/HelloWebService来访问这个服务。</p>', null);
INSERT INTO `demoinfo` VALUES ('34', 'webServiceTake', '<p style=\"text-indent:2em\"><strong>什么是WebService?</strong><br/>\r\n&nbsp;&nbsp;Web Service也叫XML Web Service WebService是一种可以接收从Internet或者Intranet上的其它系统中传递过来的请求，轻量级的独立的通讯技术。是:通过SOAP在Web上提供的软件服务，使用WSDL文件进行说明，并通过UDDI进行注册。\r\n</p>\r\n<p style=\"text-indent:2em\"><strong>WebService能做什么?</strong><br/>\r\n&nbsp;&nbsp;我们可以调用互联网上查询天气信息Web服务，然后将它嵌入到我们的程序(C/S或B/S程序)当中来，当用户从我们的网点看到天气信息时，他会认为我们为他提供了很多的信息服务，但其实我们什么也没有做，只是简单了调用了一下别人服务器上的一段代码而已。\r\n</p>\r\n<p style=\"text-indent:2em\"><strong>为什么要学习WebService?</strong><br/>\r\n&nbsp;&nbsp;学习WebSerice可以将你的服务(一段代码)发布到互联网上让别人去调用,也可以调用别人机器上发布的WebService,就像使用自己的代码一样.。\r\n</p>\r\n<p style=\"text-indent:2em\"><strong>Web Service基本概念</strong><br/>\r\n&nbsp;&nbsp;XML：(Extensible Markup Language)扩展型可标记语言。面向短期的临时数据处理、面向万维网络，是Soap的基础。<br/>\r\n&nbsp;&nbsp;Soap：(Simple Object Access Protocol)简单对象存取协议。是XML Web Service 的通信协议。当用户通过UDDI找到你的WSDL描述文档后，他通过可以SOAP调用你建立的Web服务中的一个或多个操作。SOAP是XML文档形式的调用方法的规范，它可以支持不同的底层接口，像HTTP(S)或者SMTP。<br/>\r\n&nbsp;&nbsp;WSDL：(Web Services Description Language) WSDL 文件是一个 XML 文档，用于说明一组 SOAP 消息以及如何交换这些消息。大多数情况下由软件自动生成和使用。<br/>\r\n&nbsp;&nbsp;UDDI (Universal Description, Discovery, and Integration) 是一个主要针对Web服务供应商和使用者的新项目。在用户能够调用Web服务之前，必须确定这个服务内包含哪些商务方法，找到被调用的接口定义，还要在服务端来编制软件，UDDI是一种根据描述文档来引导系统查找相应服务的机制。UDDI利用SOAP消息机制（标准的XML/HTTP）来发布，编辑，浏览以及查找注册信息。它采用XML格式来封装各种不同类型的数据，并且发送到注册中心或者由注册中心来返回需要的数据。\r\n</p>', ' 1:jar包下载地址：<a href=\"http://download.csdn.net/detail/jiashubing/9411845\" target=\"_blank\">XFire+WebService的jar包合集</a>（jar包介绍这里就不嗦了）', '<p style=\"text-indent:2em\">\r\n在发布服务项目的基础上调用服务，这里有两种方法，一种是直接在java测试类中调用，一种是从页面传值后，在action中调用，其实质是一样的。<br/>\r\n&nbsp;&nbsp;第一种方法，建立测试类ClientTest，代码如下：</p>\r\n<pre name=\"code\" class=\"java\">\r\npackage demoinfo.webservice.xfire;\r\n\r\nimport java.net.URL;\r\nimport org.codehaus.xfire.client.Client;\r\n\r\npublic class ClientTest {\r\n	public static void main(String[] args)throws Exception {\r\n		Client client= new Client(new URL(\"http://localhost:8080/MyHttp/services/HelloWebService?WSDL\")); \r\n	    Object[] results=client.invoke(\"sayHello\", new Object[]{\"  HelloWorld，WebService！\"});\r\n	    System.out.println(results[0]);\r\n    }\r\n}\r\n\r\n</pre>\r\n<p style=\"text-indent:2em\">第二种方法：<br/>\r\n&nbsp;&nbsp;1:首先建立WebServiceAction类：</p>\r\n<pre name=\"code\" class=\"java\">\r\npackage demoinfo.webservice.xfire;\r\n\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\n\r\nimport org.apache.struts2.ServletActionContext;\r\nimport org.codehaus.xfire.client.Client;\r\n\r\nimport com.opensymphony.xwork2.ActionSupport;\r\n\r\n@SuppressWarnings(\"serial\")\r\npublic class WebServiceAction extends ActionSupport{\r\n	private String name;\r\n	private String message;\r\n	private Object[] results;\r\n	\r\n	public Object[] getResults() {\r\n		return results;\r\n	}\r\n\r\n	public void setResults(Object[] results) {\r\n		this.results = results;\r\n	}\r\n\r\n	public String getName() {\r\n		return name;\r\n	}\r\n\r\n	public void setName(String name) {\r\n		this.name = name;\r\n	}\r\n\r\n	public String getMessage() {\r\n		return message;\r\n	}\r\n\r\n	public void setMessage(String message) {\r\n		this.message = message;\r\n	}\r\n\r\n	public String webService(){\r\n		HttpServletRequest request = ServletActionContext.getRequest();\r\n		Client client;\r\n		try {\r\n			client = new Client(new URL(\"http://localhost:8080/MyHttp/services/HelloWebService?WSDL\"));\r\n			results=client.invoke(name, new Object[]{message});\r\n			System.out.print(results); \r\n			if(results!=null&&results.length!=0){\r\n				request.setAttribute(\"results\",results);\r\n			}\r\n		} catch (MalformedURLException e) {\r\n			e.printStackTrace();\r\n			return ERROR;\r\n		} catch (Exception e) {\r\n			e.printStackTrace();\r\n			return ERROR;\r\n		} \r\n 		return SUCCESS;\r\n	}\r\n}\r\n\r\n</pre>\r\n<p style=\"text-indent:2em\">\r\n2:再建立struts配置文件。在struts.xml中包含webservice.xml，webservice.xml的代码如下：</p>\r\n<pre name=\"code\" class=\"xml\">\r\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\r\n&lt;!DOCTYPE struts PUBLIC\r\n    \"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN\"\r\n    \"http://struts.apache.org/dtds/struts-2.0.dtd\"&gt;\r\n\r\n&lt;struts&gt;\r\n  &lt;package name=\"webservice\" extends=\"struts-default\" namespace=\"/webservice\"&gt;\r\n      &lt;action name=\"take\" class=\"demoinfo.webservice.xfire.WebServiceAction\" method=\"webService\"&gt;\r\n            &lt;result&gt;/webservice/webServiceTake.jsp&lt;/result&gt;\r\n      &lt;/action&gt;\r\n  &lt;/package&gt;\r\n&lt;/struts&gt;\r\n</pre>\r\n<p style=\"text-indent:2em\">\r\n3:最后是jsp的展示页面webServiceTake.jsp，代码如下：<br/>\r\n</p>\r\n<pre name=\"code\" class=\"php\">\r\n&lt;%@ include file=\"/common/taglibs.jsp\" %&gt;\r\n&lt;%@ page language=\"java\" import=\"java.util.*\" pageEncoding=\"GBK\"%&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n    &lt;title&gt;webService实例&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;h2&gt;通过发布的HelloWebService服务接口调用网站服务&lt;/h2&gt;&lt;br/&gt;\r\n&lt;div style=\"color:blue;\"&gt;\r\n调用方法名 : sayHello或者sayLove&lt;br/&gt;\r\n发送文本内容 : 任意输入 \r\n&lt;/div&gt;&lt;br/&gt;&lt;br/&gt;\r\n    &lt;form action=\"&lt;%=basePath %&gt;/webservice/take.action\" method=\"post\"&gt;\r\n       &lt;s:textfield name=\"name\" label=\"调用方法名\" /&gt;&lt;br/&gt;\r\n       &lt;s:textfield name=\"message\"  label=\"发送文本内容\"/&gt;&lt;br/&gt;\r\n       &lt;s:submit value=\"提交\"/&gt;&lt;br/&gt;\r\n    &lt;/form&gt;\r\n&lt;div&gt;\r\n	返回数据为：\r\n    &lt;c:forEach items=\"&#36;{requestScope.results}\" var=\"it\"&gt;\r\n    	&#36;{it}\r\n    &lt;/c:forEach&gt;\r\n&lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n</pre>', null);
INSERT INTO `demoinfo` VALUES ('35', 'strutsInterceptorDemo', '<p style=\"text-indent:2em\">1. 拦截器是在访问某个方法，字段之前或之后实施拦截，并且拦截器是可插拔的，拦截器是AOP的一种实现．</p>\r\n<p style=\"text-indent:2em\">2. 拦截器栈(Interceptor Stack)<br/>\r\n&nbsp;&nbsp;拦截器栈就是将拦截器按一定的顺序联结成一条链。在访问被拦截的方法或字段时，拦截器链中的拦截器就会按其之前定义的顺序被调用。</p>\r\n<p style=\"text-indent:2em\">3.实现原理:<br/>\r\n&nbsp;&nbsp;Struts2拦截器的实现原理相对简单，当请求struts2的action时，Struts 2会查找配置文件，并根据其配置实例化相对的拦截器对象，然后串成一个列表，最后一个一个地调用列表中的拦截器</p>', '1:jar包下载地址：<a href=\"http://struts.apache.org/download.cgi\" target=\"_blank\">struts2 jar包</a>', '<p>1:编写Action的Code</p>\r\n   <pre  name=\"code\" class=\"java\">\r\npackage demoinfo.struts2.interceptor;\r\n/**\r\n * 登陆简单示例Action\r\n * **/\r\npublic class LoginAction {\r\n\r\n	private String username;\r\n	private String password;\r\n	private String actionInfo;\r\n	public String getUsername() {\r\n		return username;\r\n	}\r\n	public void setUsername(String username) {\r\n		this.username = username;\r\n	}\r\n	public String getPassword() {\r\n		return password;\r\n	}\r\n	public void setPassword(String password) {\r\n		this.password = password;\r\n	}\r\n	public String getActionInfo() {\r\n		return actionInfo;\r\n	}\r\n	public void setActionInfo(String actionInfo) {\r\n		this.actionInfo = actionInfo;\r\n	}\r\n	\r\n	public String checkLogin(){\r\n		if(username.trim().equals(\"tom\")&& password.trim().equals(\"123\")){\r\n		  setActionInfo(username+\"登陆成功\");\r\n		  return \"success\";\r\n		}else{\r\n			setActionInfo(username+\"登陆失败\");\r\n			return \"fail\";\r\n		}\r\n	}\r\n	/**\r\n	 * 该方法配合拦截器使用\r\n	 * **/\r\n	public String interceptLogin(){\r\n		setActionInfo(\"拦截器跳过用户检测：\"+username+\"登陆成功\");\r\n	    return \"success\";\r\n	}\r\n }\r\n   </pre>\r\n      <p>编写拦截器的的Code，拦截器类必须继承AbstractInterceptor</p>\r\n   <pre  name=\"code\" class=\"java\">\r\npackage demoinfo.struts2.interceptor;\r\n\r\nimport demoinfo.struts2.interceptor.LoginAction;\r\nimport com.opensymphony.xwork2.Action;\r\nimport com.opensymphony.xwork2.ActionInvocation;\r\nimport com.opensymphony.xwork2.interceptor.AbstractInterceptor;\r\n\r\npublic class InterceptorTest extends AbstractInterceptor  {\r\n\r\n	/**\r\n	 * Struts2拦截器类\r\n	 * 当用户输入用户名为tim是从新跳转到登录页面\r\n	 */\r\n	private static final long serialVersionUID = 1L;\r\n\r\n	public String intercept(ActionInvocation arg0) throws Exception {\r\n		// TODO Auto-generated method stub\r\n		 Object o = arg0.getAction();\r\n		 if (o instanceof LoginAction && ((LoginAction) o).getUsername().equals(\"tim\")==false ) {\r\n             ((LoginAction) o).setActionInfo(\"拦截器检测\"+((LoginAction) o).getUsername()+\"准备登录\");\r\n             final String res= arg0.invoke();\r\n             \r\n             System.out.println(\"该段语句输出在Action执行之后！\");\r\n             \r\n             return res;\r\n              \r\n         } else {\r\n             ((LoginAction) o).setActionInfo(\"拦截器拦截到\"+((LoginAction) o).getUsername()+\"已经登录\");\r\n             return Action.LOGIN;\r\n         }        \r\n	}\r\n\r\n}\r\n   \r\n   </pre>\r\n   <p>2:编写展示页面</p>\r\n   <pre name=\"code\" class=\"php\">\r\n&lt;%@ page  contentType=\"text/html; charset=GBK\"%&gt;\r\n&lt;%@taglib prefix=\"s\" uri=\"/struts-tags\"%&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n    &lt;title&gt;Hello World&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;div style=\"color:red;\"&gt;\r\n&lt;h2&gt;当输入用户名为tim时，拦截器进行拦截，并返回登陆页面&lt;/h2&gt;\r\n&lt;/div&gt;\r\n&lt;s:property value =\"actionInfo\" /&gt; &lt;br/&gt;\r\n    &lt;s:form action=\"/strut/InterceptLogin\" method=\"post\"&gt;            \r\n       &lt;s:textfield name=\"username\" label=\"用户名\" /&gt;\r\n       &lt;s:password name=\"password\" label=\"密码\"/&gt;\r\n       &lt;s:submit value=\"提交\"/&gt;\r\n    &lt;/s:form&gt;   \r\n&lt;!--    当用户输入用户名为tim时 跳转到登录页面仍然跳转到本页面 --&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n   </pre>\r\n   <p>3:校验文件的配置如下（有简单注释）:拦截器必须先定义再使用</p>\r\n     <pre  name=\"code\" class=\"xml\">\r\n		&lt;!--    拦截器必须定义在一个package中所有Action的最前面--&gt;\r\n     &lt;interceptors&gt; \r\n        &lt;interceptor name =\"interceptorfirst\" class =\"demoinfo.struts2.interceptor.InterceptorTest\" /&gt; \r\n     &lt;/interceptors &gt; \r\n     &lt;!--    拦截器定义结束--&gt;\r\n\r\n   </pre>\r\n   <p>4:配置文件中加上对应Action及拦截器</p>\r\n   <pre name=\"code\" class=\"xml\">\r\n&lt;!--    拦截器的简单示例     同样调用LoginAction类不过加上了拦截器  指定不同的方法--&gt;\r\n   &lt;action name=\"InterceptLogin\" class=\"demoinfo.struts2.interceptor.LoginAction\" method=\"interceptLogin\"&gt;\r\n       &lt;interceptor-ref name =\"defaultStack\" /&gt;  &lt;!--加上默认的拦截器   在使用自定义拦截器时，会将默认的拦截器覆盖掉，所以一定要加上默认的拦截器否则会导致各种异常，如NULL等--&gt;\r\n       &lt;interceptor-ref name =\"interceptorfirst\" /&gt;  &lt;!--   在此加上拦截器--&gt;\r\n       &lt;result name=\"login\"&gt;/strut/interceptor/login.jsp&lt;/result&gt;\r\n&lt;!--	  请编写相应的返回页面--&gt;\r\n       &lt;result name=\"fail\"&gt;/common/fail.jsp&lt;/result&gt;\r\n       &lt;result name=\"success\"&gt;/common/success.jsp&lt;/result&gt;   \r\n   &lt;/action&gt;\r\n&lt;!--    拦截器结束--&gt;\r\n   </pre>', '');
INSERT INTO `demoinfo` VALUES ('36', 'strutsFileUploadDemo', '<p style=\"text-indent:2em\">1.客户端上传图片需要把文件上传表单的enctype属性设置为multipart/form-data。<br/>\r\n&nbsp;&nbsp;表单元素的enctype属性指定的是表单数据的编码方式，multipart/form-data编码方式的表单会以二进制流的方式来处理表单数据，这种编码方式会把文件域指定文件的内容也封装到请求参数里，因此常常会有中文乱码等问题。最后参数作为一个临时文件存放在tomcat服务器里面，你可以自己输出路径确认一下。</p>\r\n<p style=\"text-indent:2em\">2.Struts2对上传和下载都提供了很好的实现机制。<br/>\r\n&nbsp;&nbsp;Struts2并未提供自己的请求解析器，也就是就Struts2不会自己去处理multipart/form-data的请求，它需要调用其他请求解析器，将HTTP请求中的表单域解析出来。但Struts2在原有的上传解析器基础上做了进一步封装，更进一步简化了文件上传。<br/>\r\n&nbsp;&nbsp;Struts2默认使用的是Jakarta的Common-FileUpload框架来上传文件，因此，要在web应用中增加两个Jar文 件：commons-fileupload-1.2.1.jar和commons-io-1.3.2.jar。它在原上传框架上做了进一步封装，简化了文件上传的代码实现，取消了不同上传框架上的编程差异。</p>', '1:jar包下载地址：<a href=\"http://struts.apache.org/download.cgi\" target=\"_blank\">struts2 jar包</a>\r\n<a href=\"http://download.csdn.net/detail/jiashubing/9375510\" target=\"_blank\">commons-fileupload-1.2.1.jar和commons-io-1.3.2.jar包</a>', '<p>1:编写Action的Code</p>\r\n   <pre  name=\"code\" class=\"java\">\r\npackage demoinfo.struts2.fileupload;\r\n\r\nimport java.io.BufferedInputStream;\r\nimport java.io.BufferedOutputStream;\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileOutputStream;\r\nimport java.io.InputStream;\r\nimport java.io.OutputStream;\r\nimport java.util.Date;\r\nimport org.apache.struts2.ServletActionContext;\r\nimport com.opensymphony.xwork2.ActionSupport;\r\n\r\npublic class FileUploadAction extends ActionSupport {\r\n	\r\n    private static final long serialVersionUID = 572146812454l ;\r\n    private static final int BUFFER_SIZE = 16 * 1024 ; //设置大小\r\n   \r\n    private File myFile;//注意，myFile并不是指前端jsp上传过来的文件本身，而是文件上传过来存放在临时文件夹下面的文件\r\n	private String contentType; //文件类型\r\n    private String fileName; //文件名称\r\n    private String imageFileName;//新的文件名称\r\n    private String caption;//文件描述\r\n   \r\n    public void setMyFileContentType(String contentType) {\r\n        this.contentType=contentType;\r\n   } \r\n   \r\n    public void setMyFileFileName(String fileName) {\r\n        this .fileName = fileName;\r\n   } \r\n       \r\n    public void setMyFile(File myFile) {\r\n        this .myFile = myFile;\r\n   } \r\n   \r\n    public String getImageFileName() {\r\n        return imageFileName;\r\n   } \r\n   \r\n    public String getCaption() {\r\n        return caption;\r\n   } \r\n\r\n    public void setCaption(String caption) {\r\n        this .caption = caption;\r\n   } \r\n    \r\n    public void setContentType(String contentType) {\r\n		this.contentType = contentType;\r\n	}\r\n\r\n	public String getContentType() {\r\n		return contentType;\r\n	} \r\n    private static void copy(File src, File dst) {  //文件复制的方法\r\n        try {\r\n           InputStream in = null ;\r\n           OutputStream out = null ;\r\n           System.out.println(\"************\" + src.getPath());\r\n            try {                \r\n            	//输入输出流\r\n               in = new BufferedInputStream( new FileInputStream(src), BUFFER_SIZE);\r\n               out = new BufferedOutputStream( new FileOutputStream(dst), BUFFER_SIZE);\r\n                byte [] buffer = new byte [BUFFER_SIZE];\r\n                while (in.read(buffer) > 0 ) {\r\n                   out.write(buffer);\r\n               } \r\n           } finally {\r\n                if ( null != in) {\r\n                   in.close();\r\n               } \r\n                if ( null != out) {\r\n                   out.close();\r\n               } \r\n           } \r\n       } catch (Exception e) {\r\n           e.printStackTrace();\r\n       } \r\n   } \r\n   \r\n    private static String getExtention(String fileName) {   //获取文件类型\r\n        int pos = fileName.lastIndexOf(\".\"); //以.为文件名称和文件类型的分隔符\r\n        return fileName.substring(pos); //字符串截取获得文件名\r\n   } \r\n\r\n    public String execute()     {        \r\n    	 //根据服务器的文件保存地址和原文件名创建目录文件的路径，我们这里图片的保存在tomcat中对应项目的image文件夹下\r\n       imageFileName = new Date().getTime() + getExtention(fileName);  //组成新的文件名 时间+文件类型\r\n       File imageFile = new File(ServletActionContext.getServletContext().getRealPath( \"/image\") + \"/\" + imageFileName); //在系统目录下生成新的文件   \r\n       copy(myFile, imageFile); //文件流复制\r\n       return SUCCESS;\r\n   }\r\n\r\n} \r\n\r\n   </pre>\r\n   <p>2:上传文件页面 upload.jsp</p>\r\n   <pre name=\"code\" class=\"php\">\r\n&lt;%@ page language=\"java\" contentType = \"text/html; charset=utf-8\" pageEncoding = \"GBK\" %&gt; \r\n&lt;%@ taglib prefix=\"s\" uri=\"/struts-tags\"%&gt;\r\n&lt;! DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\" &gt; \r\n&lt;html xmlns =\"http://www.w3.org/1999/xhtml\" &gt; \r\n&lt;head&gt; \r\n    &lt;title&gt; Struts 2 File Upload &lt;/title&gt; \r\n&lt;/head&gt; \r\n&lt;body&gt; \r\n&lt;s:fielderror&gt;&lt;/s:fielderror&gt;\r\n&lt;!--在进行文件上传时，表单提交方式一定要是post的方式，因为文件上传时二进制文件可能会很大，\r\n	还有就是enctype属性，这个属性一定要写成multipart/form-data，不然就会以二进制文本上传到服务器端--&gt; \r\n    &lt;s:form id=\"imgForm\" action =\"/fileupload/fileupload.action\" method =\"POST\" enctype =\"multipart/form-data\" &gt; \r\n        &lt;s:file name =\"myFile\" label =\"图片路径\" /&gt; \r\n        &lt;s:textfield name =\"caption\" label =\"图片描述\"/&gt;        \r\n    &lt;/s:form&gt; \r\n    &lt;input type=\"button\" value=\"提交\" onclick=\"checkForm()\"/&gt;\r\n	&lt;script type=\"text/JavaScript\"&gt;\r\n			function checkForm() {\r\n				if (imgForm.myFile.value == \"\") {\r\n					alert(\"您必须选择一张图片\");\r\n					return false;\r\n				} else\r\n					imgForm.submit();\r\n			}\r\n		&lt;/script&gt;\r\n&lt;/body&gt; \r\n&lt;/html&gt; \r\n\r\n   </pre>\r\n   <p>上传文件成功后的显示页面 ShowFile.jsp</p>\r\n   <pre name=\"code\" class=\"php\">\r\n&lt;%@ page language=\"java\" contentType = \"text/html;charset=UTF-8\" pageEncoding = \"GBK\"%&gt; \r\n&lt;%@ taglib prefix=\"s\" uri=\"/struts-tags\"%&gt;\r\n&lt;! DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\" &gt; \r\n&lt;html xmlns =\"http://www.w3.org/1999/xhtml\"&gt; \r\n&lt;head&gt; \r\n    &lt;title&gt; Struts 2 File Upload &lt;/title&gt; \r\n&lt;/head&gt; \r\n&lt;body &gt; \r\n    &lt;div style =\"padding: 3px; border: solid 1px #cccccc; text-align: center\" &gt; \r\n           &lt;img src =\'../image/&lt;s:property value =\"imageFileName\" /&gt;\'/&gt;\r\n        &lt;br/&gt; \r\n        &lt;s:property value =\"caption\" /&gt; \r\n    &lt;/div&gt; \r\n    &lt;a href=\"#\" onclick=\"javascript:history.go(-1);return false;\"&gt;返回&lt;/a&gt;\r\n&lt;/body&gt; \r\n&lt;/html&gt; \r\n\r\n   </pre>\r\n   <p>3:配置文件struts.xml中的配置</p>\r\n     <pre  name=\"code\" class=\"xml\">\r\n&lt;!-- Add packages here   用include包含子xml文件  指定文件的相对路径就可以了--&gt;\r\n&lt;!--文件上传Action的xml文件--&gt;\r\n&lt;include file=\"/demoinfo/struts2/fileupload/fileupload.xml\"&gt;&lt;/include&gt;\r\n\r\n   </pre>\r\n   <p>4:配置文件fileupload.xml中加上对应Action及拦截器</p>\r\n   <pre name=\"code\" class=\"xml\">\r\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\r\n&lt;!DOCTYPE struts PUBLIC\r\n    \"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN\"\r\n    \"http://struts.apache.org/dtds/struts-2.0.dtd\"&gt;\r\n\r\n&lt;struts&gt;\r\n  &lt;package name=\"fileupload\" extends=\"struts-default\" namespace=\"/fileupload\"&gt;\r\n    &lt;action name =\"fileupload\" class =\"demoinfo.struts2.fileupload.FileUploadAction\"&gt; \r\n        &lt;interceptor-ref name =\"fileUploadStack\"/&gt; \r\n        &lt;interceptor-ref name =\"fileUpload\"&gt; \r\n		&lt;!--  设置允许上传的文件类型，过滤文件--&gt;\r\n            &lt;param name =\"allowedTypes\"&gt; \r\n                image/bmp,image/png,image/gif,image/jpeg,image/jpg\r\n             &lt;/param &gt; \r\n         &lt;/interceptor-ref &gt; \r\n         &lt;!--  默认拦截器必须放在fileUpload之后，否则无效 --&gt;\r\n         &lt;interceptor-ref name =\"defaultStack\" /&gt;            \r\n         &lt;!--  相应的返回页面 --&gt;\r\n         &lt;result name =\"input\" &gt;/strut/fileupload/upload.jsp&lt;/result &gt;              \r\n         &lt;result name =\"success\" &gt;/strut/fileupload/ShowFile.jsp&lt;/result &gt; \r\n     &lt;/action&gt; \r\n  &lt;/package&gt;\r\n&lt;/struts&gt;\r\n\r\n   </pre>', null);
INSERT INTO `demoinfo` VALUES ('37', 'strutsTagDemo', '<p style=\"text-indent:2em\">1．Struts2标签的作用<br/>\r\n&nbsp;&nbsp;Struts2标签库提供了主题、模板支持，极大地简化了视图页面的编写，而且，struts2的主题、模板都提供了很好的扩展性。实现了更好的代码复用。Struts2允许在页面中使用自定义组件，这完全能满足项目中页面显示复杂，多变的需求。<br/>  \r\n&nbsp;&nbsp;Struts2的标签库有一个巨大的改进之处，struts2标签库的标签不依赖于任何表现层技术，也就是说strtus2提供了大部分标签，可以在各种表现技术中使用。包括最常用的jsp页面，也可以说Velocity和FreeMarker等模板技术中的使用  。</p>\r\n<p style=\"text-indent:2em\">2．Struts2标签分类<br/>\r\n&nbsp;&nbsp;1>UI标签：（User  Interface, 用户界面）标签，主要用于生成HTML元素标签，UI标签又可分为表单标签非表单标签  。<br/>\r\n&nbsp;&nbsp;2>非UI标签，主要用于数据访问，逻辑控制等的标签。非UI标签可分为流程控制标签（包括用于实现分支、循环等流程控制的标签）和数据访问标签（主要包括用户输出ValueStack中的值，完成国际化等功能的）。<br/>  \r\n&nbsp;&nbsp;3>ajax标签  。</p>\r\n<p style=\"text-indent:2em\">3．Struts2标签使用前的准备<br/>\r\n&nbsp;&nbsp;1>在要使用标签的jsp页面引入标签库：<br/>\r\n&nbsp;&nbsp;&nbsp;&lt;%@ taglib uri=\"/struts-tags\" prefix=\"s\"%&gt;<br/>\r\n&nbsp;&nbsp;2>在web.xml中声明要使用的标签    这里是struts2版本的引入方式 。<br/>\r\n	&nbsp;&nbsp;&nbsp;&lt;filter&gt;  \r\n        &lt;filter-name&gt;struts2&lt;/filter-name&gt;  \r\n                         &lt;filter-class&gt;org.apache.struts2.dispatcher.FilterDispatcher&lt;/filter-class&gt;  \r\n    &lt;/filter&gt;  \r\n</p>', '1:jar包下载地址：<a href=\"http://struts.apache.org/download.cgi\" target=\"_blank\">struts2 jar包</a>', ' <p>本例子只是展示常用的一小部分标签，深入学习可自行百度</p>\r\n   <p>1:编写Action的Code</p>\r\n   <pre  name=\"code\" class=\"java\">\r\npackage demoinfo.struts2.tag;\r\n\r\nimport org.apache.struts2.ServletActionContext;\r\nimport com.opensymphony.xwork2.ActionSupport;\r\nimport com.opensymphony.xwork2.Validateable;\r\nimport com.opensymphony.xwork2.ognl.OgnlValueStack;\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.io.File;\r\n\r\n/**\r\n * struts2标签实例\r\n */\r\npublic class TagAction extends ActionSupport implements Validateable  {\r\n\r\n	private static final long serialVersionUID = -94044809860988047L;        \r\n	String name;		//姓名\r\n	Date birthday;	//生日\r\n	String bio;			//传记\r\n	String film;			//电影\r\n	List&lt;String&gt; friends;		//朋友\r\n	boolean legalAge;	//是否成年\r\n	String region;	//地区\r\n	String state;			//地区下的某个小地区\r\n	File picture;		//照片\r\n	String pictureContentType;	//照片类型\r\n	String pictureFileName;		//照片名字\r\n	String favouriteLanguage;		//喜欢的语言\r\n	String favouriteVehicalType = \"MotorcycleKey\";		//喜欢的汽车种类\r\n	String favouriteVehicalSpecific = \"YamahaKey\";		//喜欢汽车种类中的某个品牌的汽车\r\n\r\n	List leftSideCartoonCharacters;\r\n	List rightSideCartoonCharacters;\r\n\r\n	List favouriteLanguages = new ArrayList();\r\n	List vehicalTypeList = new ArrayList();\r\n	Map vehicalSpecificMap = new HashMap();\r\n\r\n	/**\r\n	 * 构造函数添加下拉框选项 语言、地区、汽车\r\n	 */\r\n	public TagAction()  {\r\n		favouriteLanguages.add(new Language(\"EnglishKey\", \"English Language\"));\r\n		favouriteLanguages.add(new Language(\"FrenchKey\", \"French Language\"));\r\n		favouriteLanguages.add(new Language(\"SpanishKey\", \"Spanish Language\"));\r\n\r\n		VehicalType car = new VehicalType(\"CarKey\", \"Car\");\r\n		VehicalType motorcycle = new VehicalType(\"MotorcycleKey\", \"Motorcycle\");\r\n		vehicalTypeList.add(car);\r\n		vehicalTypeList.add(motorcycle);\r\n\r\n		List cars = new ArrayList();\r\n		cars.add(new VehicalSpecific(\"MercedesKey\", \"Mercedes\"));\r\n		cars.add(new VehicalSpecific(\"HondaKey\", \"Honda\"));\r\n		cars.add(new VehicalSpecific(\"FordKey\", \"Ford\"));\r\n\r\n		List motorcycles = new ArrayList();\r\n		motorcycles.add(new VehicalSpecific(\"SuzukiKey\", \"Suzuki\"));\r\n		motorcycles.add(new VehicalSpecific(\"YamahaKey\", \"Yamaha\"));\r\n\r\n		vehicalSpecificMap.put(car, cars);\r\n		vehicalSpecificMap.put(motorcycle, motorcycles);\r\n	}   \r\n\r\n\r\n\r\n	public List getVehicalSpecificList()  {\r\n		OgnlValueStack stack = (OgnlValueStack) ServletActionContext.getValueStack(ServletActionContext.getRequest());\r\n		Object vehicalType = stack.findValue(\"top\");\r\n		if (vehicalType != null && vehicalType instanceof VehicalType)  {\r\n			List l = (List) vehicalSpecificMap.get(vehicalType);\r\n			return l;\r\n		}\r\n		return Collections.EMPTY_LIST;\r\n	}\r\n\r\n	//初始化时\r\n	public String execute() throws Exception  {\r\n		return \"input\";\r\n	}\r\n\r\n	//提交表单后\r\n	public String doSubmit()  {\r\n		return SUCCESS;\r\n	}       \r\n\r\n	// === inner class \r\n	public static class Language  {\r\n		String description;\r\n		String key;\r\n\r\n		public Language(String key, String description)  {\r\n			this.key = key;\r\n			this.description = description;\r\n		}\r\n\r\n		public String getKey()  { \r\n			return key; \r\n		}\r\n		public String getDescription()  { \r\n			return description; \r\n		}\r\n	}    \r\n\r\n	public static class VehicalType  {\r\n		String key;\r\n		String description;\r\n		public VehicalType(String key, String description)  {\r\n			this.key = key;\r\n			this.description = description;\r\n		}\r\n\r\n		public String getKey()  { return this.key; }\r\n		public String getDescription()  { return this.description; }\r\n\r\n		public boolean equals(Object obj)  {\r\n			if (! (obj instanceof VehicalType))  { \r\n				return false;\r\n			}\r\n			else  {\r\n				return key.equals(((VehicalType)obj).getKey());\r\n			}\r\n		}\r\n\r\n		public int hashCode()  {\r\n			return key.hashCode();\r\n		}\r\n	}    \r\n\r\n	public static class VehicalSpecific  {\r\n		String key; \r\n		String description;\r\n		public VehicalSpecific(String key, String description)  {\r\n			this.key = key;\r\n			this.description = description;\r\n		}\r\n\r\n		public String getKey()  { return this.key; }\r\n		public String getDescription()  { return this.description; }\r\n\r\n		public boolean equals(Object obj)  {\r\n			if (! (obj instanceof VehicalSpecific))  {\r\n				return false;\r\n			}\r\n			else  {\r\n				return key.equals(((VehicalSpecific)obj).getKey());\r\n			}\r\n		}\r\n\r\n		public int hashCode()  {\r\n			return key.hashCode();\r\n		}\r\n	}\r\n\r\n	public String getName() {\r\n		return name;\r\n	}\r\n\r\n	public void setName(String name) {\r\n		this.name = name;\r\n	}\r\n\r\n	public Date getBirthday() {\r\n		return birthday;\r\n	}\r\n\r\n	public void setBirthday(Date birthday) {\r\n		this.birthday = birthday;\r\n	}\r\n\r\n	public String getBio() {\r\n		return bio;\r\n	}\r\n\r\n	public void setBio(String bio) {\r\n		this.bio = bio;\r\n	}\r\n\r\n	public String getFilm() {\r\n		return film;\r\n	}\r\n\r\n	public void setFilm(String film) {\r\n		this.film = film;\r\n	}\r\n\r\n	public List&lt;String&gt; getFriends() {\r\n		return friends;\r\n	}\r\n\r\n	public void setFriends(List&lt;String&gt; friends) {\r\n		this.friends = friends;\r\n	}\r\n\r\n	public boolean isLegalAge() {\r\n		return legalAge;\r\n	}\r\n\r\n	public void setLegalAge(boolean legalAge) {\r\n		this.legalAge = legalAge;\r\n	}\r\n\r\n	public String getRegion() {\r\n		return region;\r\n	}\r\n\r\n	public void setRegion(String region) {\r\n		this.region = region;\r\n	}\r\n\r\n	public String getState() {\r\n		return state;\r\n	}\r\n\r\n	public void setState(String state) {\r\n		this.state = state;\r\n	}\r\n\r\n	public File getPicture() {\r\n		return picture;\r\n	}\r\n\r\n	public void setPicture(File picture) {\r\n		this.picture = picture;\r\n	}\r\n\r\n	public String getPictureContentType() {\r\n		return pictureContentType;\r\n	}\r\n\r\n	public void setPictureContentType(String pictureContentType) {\r\n		this.pictureContentType = pictureContentType;\r\n	}\r\n\r\n	public String getPictureFileName() {\r\n		return pictureFileName;\r\n	}\r\n\r\n	public void setPictureFileName(String pictureFileName) {\r\n		this.pictureFileName = pictureFileName;\r\n	}\r\n\r\n	public String getFavouriteLanguage() {\r\n		return favouriteLanguage;\r\n	}\r\n\r\n	public void setFavouriteLanguage(String favouriteLanguage) {\r\n		this.favouriteLanguage = favouriteLanguage;\r\n	}\r\n\r\n	public String getFavouriteVehicalType() {\r\n		return favouriteVehicalType;\r\n	}\r\n\r\n	public void setFavouriteVehicalType(String favouriteVehicalType) {\r\n		this.favouriteVehicalType = favouriteVehicalType;\r\n	}\r\n\r\n	public String getFavouriteVehicalSpecific() {\r\n		return favouriteVehicalSpecific;\r\n	}\r\n\r\n	public void setFavouriteVehicalSpecific(String favouriteVehicalSpecific) {\r\n		this.favouriteVehicalSpecific = favouriteVehicalSpecific;\r\n	}\r\n\r\n	public List getLeftSideCartoonCharacters() {\r\n		return leftSideCartoonCharacters;\r\n	}\r\n\r\n	public void setLeftSideCartoonCharacters(List leftSideCartoonCharacters) {\r\n		this.leftSideCartoonCharacters = leftSideCartoonCharacters;\r\n	}\r\n\r\n	public List getRightSideCartoonCharacters() {\r\n		return rightSideCartoonCharacters;\r\n	}\r\n\r\n	public void setRightSideCartoonCharacters(List rightSideCartoonCharacters) {\r\n		this.rightSideCartoonCharacters = rightSideCartoonCharacters;\r\n	}\r\n\r\n	public List getFavouriteLanguages() {\r\n		return favouriteLanguages;\r\n	}\r\n\r\n	public void setFavouriteLanguages(List favouriteLanguages) {\r\n		this.favouriteLanguages = favouriteLanguages;\r\n	}\r\n\r\n	public List getVehicalTypeList() {\r\n		return vehicalTypeList;\r\n	}\r\n\r\n	public void setVehicalTypeList(List vehicalTypeList) {\r\n		this.vehicalTypeList = vehicalTypeList;\r\n	}\r\n\r\n	public Map getVehicalSpecificMap() {\r\n		return vehicalSpecificMap;\r\n	}\r\n\r\n	public void setVehicalSpecificMap(Map vehicalSpecificMap) {\r\n		this.vehicalSpecificMap = vehicalSpecificMap;\r\n	}\r\n	\r\n}\r\n   </pre>\r\n   <p>2:表单初始化页面tag.jsp</p>\r\n<pre name=\"code\" class=\"php\">\r\n&lt;%@ page language=\"java\" import=\"java.util.*\" pageEncoding=\"GBK\"%&gt;\r\n&lt;%@ include file=\"/common/taglibs.jsp\"%&gt;\r\n&lt;%@ taglib uri=\"/struts-tags\" prefix=\"s\"%&gt;\r\n&lt;%@ taglib prefix=\"sx\" uri=\"/struts-dojo-tags\"%&gt;\r\n\r\n&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\"&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;base href=\"&lt;%=basePath%&gt;\"&gt;\r\n&lt;s:head /&gt;\r\n&lt;sx:head /&gt;\r\n&lt;title&gt;My JSP \'tag.jsp\' starting page&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n	&lt;s:actionerror /&gt;\r\n	&lt;s:actionmessage /&gt;\r\n	&lt;s:fielderror /&gt;\r\n	&lt;s:form action=\"/tag/tagForm.action\" method=\"post\"\r\n		enctype=\"multipart/form-data\"\r\n		tooltipConfig=\"# {\'jsTooltipEnabled\':\'true\'}\"&gt;\r\n\r\n		&lt;table&gt;\r\n			&lt;tr&gt;\r\n				&lt;td&gt;&lt;b&gt;文本控件&lt;/b&gt;&lt;/td&gt;\r\n			&lt;/tr&gt;\r\n			&lt;tr&gt;\r\n				&lt;td colspan=\"2\"&gt;&lt;s:textfield tooltip=\"请填写您的姓名\" label=\"姓名\" name=\"name\" /&gt;&lt;/td&gt;\r\n			&lt;/tr&gt;\r\n			&lt;tr&gt;\r\n				&lt;td colspan=\"2\"&gt;&lt;b&gt;struts2日期标签&lt;/b&gt;&lt;/td&gt;\r\n			&lt;/tr&gt;\r\n			&lt;tr&gt;\r\n				&lt;td&gt;\r\n					&lt;!--  注意 日期标签从Struts2.1.6开始 移动到SX标签里面了  因此 要在 &lt;head&gt;&lt;/head&gt;之间加上&lt;sx/head&gt;一项--&gt;\r\n					&lt;sx:datetimepicker tooltip=\"请选择您的生日\" label=\"生日\" name=\"birthday\" /&gt;\r\n				&lt;/td&gt;\r\n			&lt;/tr&gt;\r\n			&lt;tr&gt;\r\n				&lt;td colspan=\"2\"&gt;&lt;b&gt;单选按钮&lt;/b&gt;&lt;/td&gt;\r\n			&lt;/tr&gt;\r\n			&lt;tr&gt;\r\n				&lt;td&gt;&lt;s:radio tooltip=\"是否成年\" label=\"是否成年\" name=\"legalAge\" list=\"%{#{false:\'未成年\',true:\'成年\'}}\" /&gt;&lt;/td&gt;\r\n			&lt;/tr&gt;\r\n			&lt;tr&gt;\r\n				&lt;td colspan=\"2\"&gt;&lt;b&gt;struts2文本域标签&lt;/b&gt;&lt;/td&gt;\r\n			&lt;/tr&gt;\r\n			&lt;tr&gt;\r\n				&lt;td&gt;&lt;s:textarea tooltip=\"请输入您的传记\" label=\"传记\" name=\"bio\" cols=\"20\" rows=\"3\" /&gt;\r\n				&lt;/td&gt;\r\n			&lt;/tr&gt;\r\n			&lt;tr&gt;\r\n				&lt;td colspan=\"2\"&gt;&lt;b&gt;下拉框&lt;/b&gt;&lt;/td&gt;\r\n			&lt;/tr&gt;\r\n			&lt;tr&gt;\r\n				&lt;td&gt;&lt;s:select tooltip=\"请选择电影\" label=\"电影选择\"\r\n						list=\"{\'变形金刚\', \'钢铁侠\', \'葫芦娃\'}\" name=\"film\" emptyOption=\"true\" /&gt; &lt;!--   emptyOption=\"true\" 设置初始化的值为空 如果不设定此项 则为List的第一项--&gt;\r\n					&lt;s:select tooltip=\"选择语言\" label=\"语言(后台取值)\" list=\"favouriteLanguages\"\r\n						name=\"favouriteLanguage\" listKey=\"key\" listValue=\"description\"\r\n						emptyOption=\"true\" /&gt;\r\n				&lt;/td&gt;\r\n			&lt;/tr&gt;\r\n			&lt;tr&gt;\r\n				&lt;td colspan=\"2\"&gt;&lt;b&gt;复选框&lt;/b&gt;&lt;/td&gt;\r\n			&lt;/tr&gt;\r\n			&lt;tr&gt;\r\n				&lt;td&gt;&lt;s:checkboxlist tooltip=\"请选择您的朋友\" label=\"Friends\"\r\n						list=\"{\'张三\', \'李四\', \'王五\', \'马六\', \'黄七\'}\" name=\"friends\" /&gt;\r\n				&lt;/td&gt;\r\n			&lt;/tr&gt;\r\n			&lt;tr&gt;\r\n				&lt;td colspan=\"2\"&gt;&lt;b&gt;二级联动下拉框&lt;/b&gt;&lt;/td&gt;\r\n			&lt;/tr&gt;\r\n			&lt;tr&gt;\r\n				&lt;td&gt;&lt;s:doubleselect tooltip=\"请选择你的地区\" label=\"美国的州\"\r\n						name=\"region\" list=\"{\'North\', \'South\'}\" value=\"\'South\'\"\r\n						doubleValue=\"\'Florida\'\"\r\n						doubleList=\"top == \'North\' ? {\'Oregon\', \'Washington\'} : {\'Texas\', \'Florida\'}\"\r\n						doubleName=\"state\" headerKey=\"-1\"\r\n						headerValue=\"---------- Please Select ----------\"\r\n						emptyOption=\"true\" /&gt; &lt;s:doubleselect tooltip=\"请选择你的汽车\"\r\n						label=\"汽车\" name=\"favouriteVehicalType\" list=\"vehicalTypeList\"\r\n						listKey=\"key\" listValue=\"description\" value=\"\'MotorcycleKey\'\"\r\n						doubleValue=\"\'YamahaKey\'\" doubleList=\"vehicalSpecificList\"\r\n						doubleListKey=\"key\" doubleListValue=\"description\"\r\n						doubleName=\"favouriteVehicalSpecific\" headerKey=\"-1\"\r\n						headerValue=\"---------- Please Select ----------\"\r\n						emptyOption=\"true\" /&gt;&lt;/td&gt;\r\n			&lt;/tr&gt;\r\n			&lt;tr&gt;\r\n				&lt;td colspan=\"2\"&gt;&lt;b&gt;文件选择(参考\"文件上传实例\")&lt;/b&gt;&lt;/td&gt;\r\n			&lt;/tr&gt;\r\n			&lt;tr&gt;\r\n				&lt;td&gt;&lt;s:file tooltip=\"更新您的照片\" label=\"文件\" name=\"picture\" /&gt;&lt;/td&gt;\r\n			&lt;/tr&gt;\r\n			&lt;tr&gt;\r\n				&lt;td colspan=\"2\"&gt;&lt;b&gt;移动选择框&lt;/b&gt;&lt;/td&gt;\r\n			&lt;/tr&gt;\r\n			&lt;tr&gt;\r\n				&lt;td&gt;&lt;s:optiontransferselect tooltip=\"请选择您最喜欢的卡通角色\" label=\"选择角色\"\r\n						name=\"leftSideCartoonCharacters\" leftTitle=\"左边\" rightTitle=\"右边\"\r\n						list=\"{\'Popeye\', \'He-Man\', \'Spiderman\'}\" multiple=\"true\"\r\n						headerKey=\"headerKey\" headerValue=\"--- Please Select ---\"\r\n						emptyOption=\"true\"\r\n						doubleList=\"{\'Superman\', \'Mickey Mouse\', \'Donald Duck\'}\"\r\n						doubleName=\"rightSideCartoonCharacters\"\r\n						doubleHeaderKey=\"doubleHeaderKey\"\r\n						doubleHeaderValue=\"--- Please Select ---\" doubleEmptyOption=\"true\"\r\n						doubleMultiple=\"true\" addToLeftLabel=\"向左移动\" addToRightLabel=\"向右移动\"\r\n						addAllToRightLabel=\"全部右移\" addAllToLeftLabel=\"全部左移\"\r\n						leftDownLabel=\"下移\" rightDownLabel=\"下移\" leftUpLabel=\"上移\"\r\n						rightUpLabel=\"上移\" /&gt;&lt;/td&gt;\r\n			&lt;/tr&gt;\r\n			&lt;s:submit value=\"提交\" /&gt;\r\n			&lt;!--    重置改Form内所有表单元素  恢复其默认值--&gt;\r\n			&lt;s:reset value=\"重置\" /&gt;\r\n		&lt;/table&gt;\r\n	&lt;/s:form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n   </pre>\r\n   <p>头文件中包含的 taglibs.jsp</p>\r\n   <pre name=\"code\" class=\"php\">\r\n&lt;%@ page language=\"java\" import=\"java.util.*\" pageEncoding=\"GBK\"%&gt;\r\n&lt;%@ taglib uri=\"http://java.sun.com/jsp/jstl/core\" prefix=\"c\"%&gt;\r\n&lt;%@ taglib uri=\"http://java.sun.com/jsp/jstl/fmt\" prefix=\"fmt\"%&gt;\r\n&lt;%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\"%&gt;\r\n&lt;%@ taglib uri=\"/struts-tags\" prefix=\"s\"%&gt;\r\n&lt;%\r\nString path = request.getContextPath();\r\nString basePath = request.getScheme()+\"://\"+request.getServerName()+\":\"+request.getServerPort()+path+\"/\";\r\nresponse.setHeader(\"Pragma\",\"no-cache\");     \r\nresponse.setHeader(\"Cache-Control\",\"no-cache\");    \r\nresponse.setDateHeader(\"Expires\",0);\r\nrequest.setCharacterEncoding(\"GBK\"); \r\n%&gt;\r\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=gbk\" /&gt;\r\n   </pre>\r\n   <p>表单展示页面 showTag.jsp</p>\r\n   <pre name=\"code\" class=\"php\">\r\n&lt;%@ page language=\"java\" import=\"java.util.*\" pageEncoding=\"GBK\"%&gt;\r\n&lt;%@ include file=\"/common/taglibs.jsp\"%&gt;\r\n&lt;%@ taglib uri=\"/struts-tags\" prefix=\"s\"%&gt;\r\n&lt;%@ taglib prefix=\"sx\" uri=\"/struts-dojo-tags\"%&gt;\r\n\r\n&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\"&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;s:head /&gt;\r\n&lt;sx:head /&gt;\r\n&lt;base href=\"&lt;%=basePath%&gt;\"&gt;\r\n&lt;title&gt;My JSP \'showTag.jsp\' starting page&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n	&lt;table border=\"1\" cellspacing=\"0\" width=\"100%\"&gt;\r\n		&lt;tr&gt;\r\n			&lt;td width=\"30%\"&gt;姓名&lt;/td&gt;\r\n			&lt;td width=\"70%\"&gt;&lt;s:property value =\"name\" /&gt;&lt;/td&gt;\r\n		&lt;/tr&gt;\r\n		&lt;tr&gt;\r\n			&lt;td&gt;生日&lt;/td&gt;\r\n			&lt;td&gt;&lt;s:property value =\"birthday\" /&gt;&lt;/td&gt;\r\n		&lt;/tr&gt;\r\n		&lt;tr&gt;\r\n			&lt;td&gt;是否成年&lt;/td&gt;\r\n			&lt;td&gt;\r\n						&lt;s:if test=\"%{legalAge==true}\"&gt;成年&lt;/s:if&gt;\r\n    					&lt;s:else&gt;未成年&lt;/s:else&gt;\r\n			&lt;/td&gt;\r\n		&lt;/tr&gt;\r\n		&lt;tr&gt;\r\n			&lt;td&gt;传记&lt;/td&gt;\r\n			&lt;td&gt;&lt;s:property value =\"bio\" /&gt;&lt;/td&gt;\r\n		&lt;/tr&gt;\r\n		&lt;tr&gt;\r\n			&lt;td&gt;电影&lt;/td&gt;\r\n			&lt;td&gt;&lt;s:property value =\"film\" /&gt;&lt;/td&gt;\r\n		&lt;/tr&gt;\r\n		&lt;tr&gt;\r\n			&lt;td&gt;语言&lt;/td&gt;\r\n			&lt;td&gt;&lt;s:property value =\"favouriteLanguage\" /&gt;&lt;/td&gt;\r\n		&lt;/tr&gt;\r\n		&lt;tr&gt;\r\n			&lt;td&gt;朋友&lt;/td&gt;\r\n			&lt;td&gt;\r\n				&lt;s:iterator value=\"friends\" &gt;  \r\n					    &lt;s:property /&gt;    \r\n				&lt;/s:iterator&gt; \r\n			&lt;/td&gt;\r\n		&lt;/tr&gt;\r\n		&lt;tr&gt;\r\n			&lt;td&gt;居住地&lt;/td&gt;\r\n			&lt;td&gt;&lt;s:property value =\"region\" /&gt;--&gt;&lt;s:property value =\"state\" /&gt;&lt;/td&gt;\r\n		&lt;/tr&gt;\r\n		&lt;tr&gt;\r\n			&lt;td&gt;爱车&lt;/td&gt;\r\n			&lt;td&gt;&lt;s:property value =\"favouriteVehicalType\" /&gt;--&gt;&lt;s:property value =\"favouriteVehicalSpecific\" /&gt;&lt;/td&gt;\r\n		&lt;/tr&gt;\r\n		&lt;tr&gt;\r\n			&lt;td&gt;左边角色&lt;/td&gt;\r\n			&lt;td&gt;&lt;s:iterator value=\"leftSideCartoonCharacters\" &gt;  \r\n					    &lt;s:property /&gt;    \r\n				&lt;/s:iterator&gt; &lt;/td&gt;\r\n		&lt;/tr&gt;\r\n		&lt;tr&gt;\r\n			&lt;td&gt;右边角色&lt;/td&gt;\r\n			&lt;td&gt;&lt;s:iterator value=\"rightSideCartoonCharacters\" &gt;  \r\n					    &lt;s:property /&gt;    \r\n				&lt;/s:iterator&gt; &lt;/td&gt;\r\n		&lt;/tr&gt;\r\n		&lt;/table&gt;\r\n		&lt;br/&gt;\r\n	&lt;a href=\"#\" onclick=\"javascript:history.go(-1);return false;\"&gt;返回&lt;/a&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n   </pre>\r\n   <p>3:配置文件struts.xml中的配置</p>\r\n     <pre  name=\"code\" class=\"xml\">\r\n&lt;result name=\"strutsTagDemo\" type=\"redirect\"&gt;/tag/tag.action&lt;/result&gt;    \r\n\r\n   </pre>\r\n   <p>4:配置文件tag.xml中加上对应Action及拦截器</p>\r\n   <pre name=\"code\" class=\"xml\">\r\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\r\n&lt;!DOCTYPE struts PUBLIC\r\n    \"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN\"\r\n    \"http://struts.apache.org/dtds/struts-2.0.dtd\"&gt;\r\n\r\n&lt;struts&gt;\r\n  &lt;package name=\"tag\" extends=\"struts-default\" namespace=\"/tag\"&gt;\r\n&lt;!--       注意Class的值加上包路径 如果 集成了Spring就不用了--&gt;\r\n    &lt;action name =\"tag\" class =\"demoinfo.struts2.tag.TagAction\"&gt; \r\n        &lt;result name=\"input\"&gt;/strut/tag/tag.jsp&lt;/result&gt;\r\n     &lt;/action&gt; \r\n    &lt;action name =\"tagForm\" class =\"demoinfo.struts2.tag.TagAction\" method=\"doSubmit\"&gt; \r\n        &lt;result name=\"success\"&gt;/strut/tag/showTag.jsp&lt;/result&gt;\r\n     &lt;/action&gt; \r\n  &lt;/package&gt;\r\n&lt;/struts&gt;\r\n   </pre>', null);
INSERT INTO `demoinfo` VALUES ('38', 'strutsJsonDemo', '<p style=\"text-indent:2em\">1.什么是JSON ？<br/>\r\n&nbsp;&nbsp;假如需要从服务器端得到大量的表格数据显示在网页上，如果还用单一的字符串处理会是一个痛苦的过程。以前的做法是使用responseXML属性返回一个XML文件，但浏览器使用JS解析XML文件也需要编写大量的代码，所以目前比较流行的做法是使用JSON对象。<br/>\r\n&nbsp;&nbsp;JSON就是JavaScript Object Notation几个单词的首字母，翻译为JavaScript对象声明。当从服务器端返回大量的字符串数据，而且是POJO类的数据封装时，JSON数据可以让我们处理的更轻松。</p>\r\n<p style=\"text-indent:2em\">2.什么是XMLHttpRequest对象？<br/>\r\n&nbsp;&nbsp;XMLHttpRequest 对象用于在后台与服务器交换数据。<br/>\r\n&nbsp;&nbsp;XMLHttpRequest 对象是开发者的梦想，因为您能够：在不重新加载页面的情况下更新网页，在页面已加载后从服务器请求数据，在页面已加载后从服务器接收数据，在后台向服务器发送数据<br/>\r\n&nbsp;&nbsp;所有现代的浏览器都支持 XMLHttpRequest 对象</p>', ' 1:jar包下载地址：<a href=\"http://struts.apache.org/download.cgi\" target=\"_blank\">struts2 jar包</a>\r\n <a href=\"http://download.csdn.net/detail/jiashubing/9381656\" target=\"_blank\">JSON包合集</a>（包括commons-beanutils.jar,commons-collections.jar,commons-lang-2.1.jar,commons-logging-1.0.4.jar,ezmorph-1.0.2.jar,json-lib-2.1.jar）', ' <p>1:编写Action的Code</p>\r\n   <pre  name=\"code\" class=\"java\">\r\npackage demoinfo.struts2.json;\r\n\r\nimport java.io.IOException;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport net.sf.json.JSONObject;\r\nimport com.opensymphony.xwork2.ActionSupport;\r\nimport org.apache.log4j.Logger;\r\nimport org.apache.struts2.ServletActionContext;   \r\n/**\r\n * JSON Action\r\n */\r\npublic class JsonAction extends ActionSupport {\r\n	private static final long serialVersionUID = 4530102843836746666L;\r\n	private final Logger logger = Logger.getLogger(this.getClass());\r\n	String jsonString;\r\n	public String writeJson(){\r\n		try {\r\n			JSONObject jsonObject = new JSONObject();\r\n			jsonObject.put(\"key\",\"first put is key\");\r\n			HttpServletResponse response = ServletActionContext.getResponse();\r\n			response.setContentType(\"text/html;charset=UTF-8\"); //设置编码类型UTF-8\r\n			jsonString=\"var flag = \"+jsonObject.toString();\r\n			response.getWriter().write(jsonString); //向前台写JSON\r\n			response.getWriter().flush();\r\n		} catch (IOException e) {\r\n			logger.error(e.getMessage(), e);\r\n			throw new IllegalStateException(e);\r\n		}\r\n		return null;\r\n	}\r\n}\r\n   </pre>\r\n   <p>2:编写展示页面json.jsp</p>\r\n<pre name=\"code\" class=\"php\">\r\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\r\n&lt;%@ page language=\"java\" import=\"java.util.*\" pageEncoding=\"GBK\"%&gt;\r\n&lt;%\r\nString path = request.getContextPath();\r\nString basePath = request.getScheme()+\"://\"+request.getServerName()+\":\"+request.getServerPort()+path+\"/\";\r\n%&gt;\r\n&lt;%@taglib prefix=\"sx\" uri=\"/struts-dojo-tags\"%&gt;\r\n&lt;%@taglib prefix=\"s\" uri=\"/struts-tags\"%&gt;\r\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\r\n&lt;head&gt;\r\n&lt;title&gt;JSON Plugin&lt;/title&gt;\r\n&lt;script type=\"text/javascript\"&gt;    \r\n    var bXmlHttpSupport = (typeof XMLHttpRequest != \"undefined\" || window.ActiveXObject);\r\n    if (typeof XMLHttpRequest == \"undefined\" && window.ActiveXObject) {\r\n        createXMLHttpRequest();\r\n    }    \r\n   \r\n   //创建XMLHttpRequest 对象\r\n	function createXMLHttpRequest() {\r\n		if (window.ActiveXObject) {\r\n		// code for IE6, IE5\r\n			var arrSignatures = [ \"MSXML2.XMLHTTP.5.0\", \"MSXML2.XMLHTTP.4.0\",\r\n					\"MSXML2.XMLHTTP.3.0\", \"MSXML2.XMLHTTP\", \"Microsoft.XMLHTTP\" ];\r\n			for ( var i = 0; i &lt; arrSignatures.length; i++) {\r\n				try {\r\n					var oRequest = new ActiveXObject(arrSignatures[i]);\r\n					return oRequest;\r\n				} catch (oError) {\r\n				}\r\n			}\r\n		} else if (window.XMLHttpRequest) {\r\n		// code for IE7, Firefox, Opera, etc.\r\n			var oRequest = new XMLHttpRequest();\r\n			return oRequest;\r\n		} else\r\n			throw new Error(\"XMLHttp object could not be created.\");\r\n	}\r\n\r\n	function retrieveBook() {\r\n		if (bXmlHttpSupport) {\r\n			var sUrl = \'&lt;%=basePath%&gt;json/writeJson.action\';\r\n            var oRequest = new createXMLHttpRequest();\r\n            oRequest.onreadystatechange = function() {\r\n                if(oRequest.readyState == 4) {   \r\n	               	    // 4 = \"loaded\"\r\n	                	alert(\"服务器端返回的字符串是 \" +oRequest.responseText);\r\n	                	//服务器端返回的字符串类型，转成JSON对象\r\n	                    eval(oRequest.responseText);\r\n	                    var bookHolder = document.getElementById(\'bookHolder\');\r\n	                    var sBook = \'&lt;p&gt;&lt;b&gt;ISBN: &lt;/b&gt;\' + flag.key+ \'&lt;/p&gt;\';\r\n	                    //flag对象从后台传过来\r\n		                var  bookHolder = document.getElementById(\'bookHolder\');\r\n		                bookHolder.innerHTML = sBook;\r\n                   }\r\n                }\r\n            };\r\n            oRequest.open(\'POST\', sUrl,true);\r\n            oRequest.send(null);\r\n            /* 在 open() 的第三个参数中使用了 \"true\"。该参数规定请求是否异步处理true 表示脚本会在 send() 方法之后继续执行，而不等待来自服务器的响应。\r\n            onreadystatechange 事件使代码复杂化了。但是这是在没有得到服务器响应的情况下，防止代码停止的最安全的方法。\r\n			通过把该参数设置为 \"false\"，可以省去额外的 onreadystatechange 代码。如果在请求失败时是否执行其余的代码无关紧要，那么可以使用这个参数。 */\r\n        }\r\n    &lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n	&lt;input type=\"button\" value=\"检索书\" onclick=\"retrieveBook()\" /&gt;\r\n	&lt;div id=\"bookHolder\"&gt;&lt;/div&gt;\r\n	&lt;a href=\"&lt;%=basePath%&gt;/json/writeJson.action\"&gt;json显示JSON数据格式&lt;/a&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n   </pre>\r\n   <p>3:struts配置文件用include包含json的配置文件</p>\r\n     <pre  name=\"code\" class=\"xml\">\r\n&lt;!--json的XML文件--&gt;\r\n&lt;include file=\"/demoinfo/struts2/json/json.xml\"&gt;&lt;/include&gt;\r\n   </pre>\r\n   <p>4:配置文件json.xml中加上对应Action</p>\r\n   <pre name=\"code\" class=\"xml\">\r\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\r\n&lt;!DOCTYPE struts PUBLIC\r\n    \"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN\"\r\n    \"http://struts.apache.org/dtds/struts-2.0.dtd\"&gt;\r\n\r\n&lt;struts&gt;\r\n&lt;!--注意包的继承，继承的包是 json-default--&gt;\r\n&lt;package name=\"json\" extends=\"json-default\" namespace=\"/json\"&gt;\r\n&lt;!--  想前台写出JSON数据--&gt;\r\n  &lt;action name=\"writeJson\" class=\"demoinfo.struts2.json.JsonAction\" method=\"writeJson\"&gt;\r\n&lt;!--  注意返回的结果类型是json--&gt;\r\n      &lt;result type=\"json\" /&gt;\r\n  &lt;/action&gt;   \r\n&lt;/package&gt;\r\n&lt;/struts&gt;\r\n   </pre>', null);
INSERT INTO `demoinfo` VALUES ('39', 'relationshipOneToMany', '&nbsp;&nbsp;1.Hibernate的主要目的就是是Java程序员可以随心所欲的使用对象编程思维来操纵数据库。所以,一些数据库表的关系我们应该可以通过hibernate实现,比如在数据库中我们常用到的主外键关系,还有一些跟主外键有关系的设置,比如主键的信息被删除,外键关联的信息也要删除等等,所以,Hibernate同样应该实现这种映射关系。<br/>\r\n &nbsp;&nbsp;2.@LazyCollection 懒加载注解方式<br/>\r\n&nbsp;&nbsp;&nbsp;hibernate定义了@ManyToMany和@OneToMany 关联的延迟选项。LazyCollection可选值意义与区别如下：<br/>\r\n&nbsp;&nbsp;&nbsp;LazyCollectionOption.TRUE：集合具有延迟性，只有在访问的时候才加载。<br/>\r\n&nbsp;&nbsp;&nbsp;LazyCollectionOption.EXTRA：集合具有延迟性，并且所有的操作都会尽量避免加载集合， 对于一个巨大的集合特别有用，因为这样的集合中的元素没有必要全部加载。<br/>\r\n&nbsp;&nbsp;&nbsp;LazyCollectionOption.FALSE：非延迟加载的关联。', ' 1:jar包下载地址：<a href=\"http://sourceforge.net/projects/hibernate/files/hibernate4/4.1.3.Final/hibernate-release-4.1.3.Final.zip/download \">hibernate jar包</a> （jar包介绍不在多说）', '&nbsp;&nbsp;一对多[OneToMany]和多对一[ManyToOne] </br>\r\n&nbsp;&nbsp;这里我们定义了两个实体类，一个是ClassRoom，一个是Student，这两者是一对多的关联关系。</br>\r\n&nbsp;&nbsp;ClassRoom类：</br>\r\n   <pre  name=\"code\" class=\"java\">\r\n@Entity  \r\n@Table(name=\"hibernate_relationship_classroom\")  \r\npublic class ClassRoom  \r\n{  \r\n    private int roomId;  \r\n    private String roomName;  \r\n    private List&lt;Student&gt; students=new ArrayList&lt;Student&gt;(0);\r\n      \r\n    @Id\r\n    @Column(name=\"roomId\",length=50,nullable=false)\r\n    @GeneratedValue(strategy=GenerationType.AUTO)\r\n    public int getRoomId() {\r\n		return roomId;\r\n	}\r\n\r\n	public void setRoomId(int roomId) {\r\n		this.roomId = roomId;\r\n	}\r\n  \r\n	@Column(name=\"roomName\")\r\n    public String getRoomName() {  \r\n        return roomName;  \r\n    }  \r\n  \r\n    public void setRoomName(String roomName)  {  \r\n        this.roomName = roomName;  \r\n    }  \r\n  \r\n    /*OneToMany指定了一对多的关系，mappedBy=\"classRoom\"指定了由多的那一方来维护关联关系，mappedBy指的是多的一方对1的这一方的依赖的属性，(注意：如果没有指定由谁来维护关联关系，则系统会给我们创建一张中间表)*/\r\n    @OneToMany(mappedBy=\"classRoom\",cascade=CascadeType.ALL)	\r\n    @LazyCollection(LazyCollectionOption.FALSE) /*如果LazyCollection属性设置成EXTRA指定了当如果查询数据的个数时候，只会发出一条 count(*)的语句，提高性能*/\r\n    public List&lt;Student&gt; getStudents() {\r\n    	return students;\r\n    }  \r\n\r\n	public void setStudents(List&lt;Student&gt; students) {\r\n		this.students = students;\r\n	}\r\n\r\n}  \r\n</pre>\r\n&nbsp;&nbsp;Student类：</br>\r\n<pre  name=\"code\" class=\"java\">\r\n@Entity  \r\n@Table(name=\"hibernate_relationship_student\")  \r\npublic class Student  {  \r\n    private int stuId; \r\n    private String stuName; \r\n    private int age; \r\n    private ClassRoom classRoom;\r\n    \r\n    @Id\r\n	@Column(name=\"Id\",length=50,nullable=false)\r\n	@GeneratedValue(strategy=GenerationType.AUTO)\r\n	public int getStuId() {\r\n		return stuId;\r\n	}\r\n	public void setStuId(int stuId) {\r\n		this.stuId = stuId;\r\n	}\r\n	@Column(name=\"studentName\")\r\n	public String getStuName() {\r\n		return stuName;\r\n	}\r\n	public void setStuName(String stuName) {\r\n		this.stuName = stuName;\r\n	}\r\n	@Column(name=\"age\")\r\n	public int getAge() {\r\n		return age;\r\n	}\r\n	public void setAge(int age) {\r\n		this.age = age;\r\n	}\r\n	/* ManyToOne指定了多对一的关系，fetch=FetchType.LAZY属性表示在多的那一方通过延迟加载的方式加载对象(默认不是延迟加载)*/\r\n	@ManyToOne(fetch=FetchType.LAZY)\r\n	@JoinColumn(name=\"roomId\")/*通过 JoinColumn 的name属性指定了外键的名称 roomId(注意：如果我们不通过JoinColum来指定外键的名称，系统会给我们声明一个名称)*/\r\n	\r\n	public ClassRoom getClassRoom() {\r\n		return classRoom;\r\n	}\r\n	public void setClassRoom(ClassRoom classRoom) {\r\n		this.classRoom = classRoom;\r\n	}\r\n	\r\n}  \r\n</pre>\r\n\r\n小技巧:通过hibernate来进行插入操作的时候，不管是一对多、一对一还是多对多，都只需要记住一点，在哪个实体类声明了外键，就由哪个类来维护关系，在保存数据时，总是先保存的是没有维护关联关系的那一方的数据，后保存维护了关联关系的那一方的数据，如：\r\n<pre  name=\"code\" class=\"java\">\r\nPerson p = new Person();\r\np.setName(\"xiaoluo\");\r\nsession.save(p);         \r\nIDCard card = new IDCard();\r\ncard.setNo(\"1111111111\");\r\ncard.setPerson(p);\r\nsession.save(card);\r\n</pre>\r\n注意fetch = FetchType.EAGER，如果选择LAZY，hibernate在事物结束后会关闭session（好像是session的问题），那么无法在事物之外取到被join出来的记录，会提示session被关闭。\r\n', null);
INSERT INTO `demoinfo` VALUES ('40', 'ajaxJsDemo', '&nbsp;&nbsp;我们知道ajax本质上还是一个标准的http请求，其特别之处在于能完成局部的异步请求。所以这里讲的所谓方式，其实只是怎么把请求的内容返回给客户端的方法<br/>\r\n&nbsp;&nbsp;基于struts2，有2种标准方法实现ajax，共同的一点是，Action都需要将一个方法暴露出来，给前端javascript调用 ：<br/>\r\n&nbsp;&nbsp;第一种是原生的写法，不需要依赖插件，也没有自行解析和拼装json串的功能;<br/>\r\n&nbsp;&nbsp;第二种写法，是使用struts2-json-plugin，在struts.xml中的配置，包要继承自json-default，然后resultType是json。本例中就采用这种写法。<br/>', ' 1:jar包下载地址：<a href=\"http://struts.apache.org/download.cgi\" target=\"_blank\">struts2 jar包</a>\r\n <a href=\"http://download.csdn.net/detail/jiashubing/9381656\" target=\"_blank\">JSON包合集</a>（包括commons-beanutils.jar,commons-collections.jar,commons-lang-2.1.jar,commons-logging-1.0.4.jar,ezmorph-1.0.2.jar,json-lib-2.1.jar）', '&nbsp;&nbsp;首先导入需要的jar包，基于struts2的ajax在前端页面传值的时候，可以采用sx标签绑定事件的方法来提交。</br>\r\n&nbsp;&nbsp;ajax.jsp页面的代码如下：</br>\r\n   <pre  name=\"code\" class=\"php\">\r\n&lt;%@ page language=\"java\" import=\"java.util.*\" pageEncoding=\"GBK\"%&gt;\r\n&lt;%\r\nString path = request.getContextPath();\r\nString basePath = request.getScheme()+\"://\"+request.getServerName()+\":\"+request.getServerPort()+path+\"/\";\r\nrequest.setAttribute(\"basePath\",basePath);\r\n%&gt;\r\n&lt;%@ taglib prefix=\"sx\" uri=\"/struts-dojo-tags\"%&gt;\r\n&lt;%@taglib prefix=\"s\" uri=\"/struts-tags\"%&gt;\r\n&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\"&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;sx:head /&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n	&lt;h3&gt;异步校验（基于struts2实现ajax）&lt;/h3&gt;\r\n	&lt;br&gt;\r\n	&lt;div style=\"color:red\"&gt;\r\n		&lt;h3&gt;当输入用户为tom时表示该用户已经注册过，用户名输入框失去焦点后触发异步提交事件&lt;/h3&gt;\r\n	&lt;/div&gt;\r\n	&lt;div id=\"checkinfo\"&gt;&lt;/div&gt;\r\n	&lt;s:url id=\"url\" action=\"/ajax/checkAjax.action\"&gt;&lt;/s:url&gt;\r\n	&lt;form id=\"first\" action=\"&lt;%=basePath %&gt;/ajax/checkAjax\"&gt;\r\n		&lt;table&gt;\r\n			&lt;tr&gt;\r\n				&lt;td&gt;\r\n					&lt;s:textfield name=\"username\" label=\"用户名\"&gt;&lt;/s:textfield&gt;&lt;br /&gt;\r\n					&lt;s:password name=\"pwd\" label=\"密     码\"&gt;&lt;/s:password&gt;&lt;br /&gt; \r\n					&lt;s:submit value=\"提交\"&gt;&lt;/s:submit&gt;&lt;br /&gt;&lt;/td&gt;\r\n			&lt;/tr&gt;\r\n			&lt;tr&gt;\r\n				&lt;td&gt;&lt;sx:bind formId=\"first\" sources=\"username\" events=\"onblur\"\r\n						targets=\"checkinfo\"&gt;&lt;/sx:bind&gt;&lt;/td&gt;\r\n			&lt;/tr&gt;\r\n		&lt;/table&gt;\r\n	&lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n</pre>\r\n\r\n&nbsp;&nbsp;接收Action的返回值，显示结果的页面warning.jsp页面的代码如下：\r\n<pre  name=\"code\" class=\"php\">\r\n&lt;%@taglib  prefix=\"s\" uri=\"/struts-tags\" %&gt;\r\n&lt;%@ taglib prefix=\"sx\" uri=\"/struts-dojo-tags\" %&gt;\r\n&lt;%@page contentType=\"text/html\" pageEncoding=\"GBK\"%&gt;\r\n&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\"\r\n\"http://www.w3.org/TR/html4/loose.dtd\"&gt;\r\n\r\n&lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"&gt;\r\n        &lt;sx:head/&gt;\r\n        &lt;title&gt;Test&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;&lt;br&gt;\r\n        &lt;s:if test=\"flag==1\"&gt;\r\n            &lt;font color=\"red\"&gt;对不起，该帐号已经被注册过了&lt;/font&gt;\r\n        &lt;/s:if&gt;\r\n        &lt;s:else&gt;\r\n                              该帐号还未被注册\r\n        &lt;/s:else&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n</pre>\r\n\r\n&nbsp;&nbsp;在struts.xm配置文件中包含ajax.xml，其中的内容是：</br>\r\n<pre  name=\"code\" class=\"xml\">\r\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\r\n&lt;!DOCTYPE struts PUBLIC\r\n    \"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN\"\r\n    \"http://struts.apache.org/dtds/struts-2.0.dtd\"&gt;\r\n\r\n&lt;struts&gt;\r\n&lt;package name=\"ajax\" extends=\"json-default\" namespace=\"/ajax\"&gt;\r\n\r\n&lt;!--   异步校验的Action--&gt;\r\n   &lt;action name=\"checkAjax\" class=\"demoinfo.struts2.ajax.AjaxAction\" method=\"checkAjax\"&gt;\r\n        &lt;result&gt;/strut/ajax/waring.jsp&lt;/result&gt;\r\n   &lt;/action&gt;\r\n&lt;/package&gt;\r\n&lt;/struts&gt;\r\n</pre>\r\n\r\n&nbsp;&nbsp;AjaxAction对应的代码为：</br>\r\n   <pre  name=\"code\" class=\"java\">\r\npackage demoinfo.struts2.ajax;\r\n\r\nimport com.opensymphony.xwork2.ActionSupport;\r\n/**\r\n * Ajax的Action\r\n * **/\r\npublic class AjaxAction extends ActionSupport {\r\n\r\n	private static final long serialVersionUID = -8201401726773589361L;\r\n\r\n	private String username; //用户名\r\n	private String pwd;//密码\r\n	private int flag;//返回客户端的值\r\n	\r\n	//Ajax校验\r\n	public String checkAjax() {\r\n		if (this.getUsername().equals(\"tom\")) {\r\n			this.setFlag(1);\r\n		} else {\r\n			this.setFlag(2);\r\n		}\r\n		return SUCCESS;\r\n	}\r\n\r\n	public int getFlag() {\r\n		return flag;\r\n	}\r\n\r\n	public void setFlag(int flag) {\r\n		this.flag = flag;\r\n	}\r\n\r\n	public String getUsername() {\r\n		return username;\r\n	}\r\n\r\n	public void setUsername(String username) {\r\n		this.username = username;\r\n	}\r\n\r\n	public String getPwd() {\r\n		return pwd;\r\n	}\r\n\r\n	public void setPwd(String pwd) {\r\n		this.pwd = pwd;\r\n	}\r\n	\r\n}\r\n   </pre>', null);
INSERT INTO `demoinfo` VALUES ('41', 'ajaxJsJqueryDemo', '&nbsp;&nbsp;ajax异步提交数据的传递方式：<br/>\r\n&nbsp;&nbsp;&nbsp;1.首先按照url和请求方式将序列化好的数据发送至对应的action，被序列化的params是name=123&password=123这样的。<br/>\r\n&nbsp;&nbsp;&nbsp;2.action在处理完成之后将msg以json的形式发送至客户端，由客户端的js验证。<br/>\r\n&nbsp;&nbsp;基于struts2+jQuery实现的ajax，与基于struts2实现的ajax相比，不同之处在jQuery对客户端页面的操作更加方便灵活。<br/>', '1:jar包下载地址：<a href=\"http://struts.apache.org/download.cgi\" target=\"_blank\">struts2 jar包</a>\r\n <a href=\"http://download.csdn.net/detail/jiashubing/9381656\" target=\"_blank\">JSON包合集</a>（包括commons-beanutils.jar,commons-collections.jar,commons-lang-2.1.jar,commons-logging-1.0.4.jar,ezmorph-1.0.2.jar,json-lib-2.1.jar）<br/>\r\n 2:jQuery下载地址：<a href=\"http://download.csdn.net/detail/jiashubing/9395423\" target=\"_blank\">jquery-1.7.1.min.js  </a>', '&nbsp;&nbsp;首先导入需要的jar包、jQuery，基于struts2+jQuery的ajax在前端页面传值的时候，采用jQuery绑定事件的方法来提交。</br>\r\n&nbsp;&nbsp;jqueryAjax.jsp页面的代码如下：</br>\r\n   <pre  name=\"code\" class=\"php\">\r\n&lt;%@ page language=\"java\" import=\"java.util.*\" pageEncoding=\"GBK\"%&gt;\r\n&lt;%\r\nString path = request.getContextPath();\r\nString basePath = request.getScheme()+\"://\"+request.getServerName()+\":\"+request.getServerPort()+path+\"/\";\r\nrequest.setAttribute(\"basePath\",basePath);\r\n%&gt;\r\n&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\"&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n	&lt;title&gt;异步校验（基于struts2实现ajax）&lt;/title&gt;\r\n	&lt;script src=\"&lt;%=basePath%&gt;js/jquery-1.7.1.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n	&lt;h3&gt;异步校验（基于struts2+jQuery实现ajax）&lt;/h3&gt;\r\n	&lt;br&gt;\r\n	&lt;div style=\"color:red\"&gt;\r\n		&lt;h3&gt;当输入用户为tom时表示该用户已经注册过，用户名输入框失去焦点后触发异步提交事件&lt;/h3&gt;\r\n	&lt;/div&gt;\r\n	&lt;br&gt;\r\n	&lt;div id=\"checkinfo\"&gt;&lt;/div&gt;\r\n	&lt;br&gt;\r\n	&lt;form&gt;\r\n			&lt;p&gt;用户名：&lt;input name=\"username\"  id=\"username\"&gt;&lt;/input&gt;&lt;/p&gt;\r\n			&lt;p&gt;密&nbsp;码：&lt;input name=\"pwd\" id=\"pwd\"&gt;&lt;/input&gt;&lt;/p&gt; \r\n			&lt;p&gt;&lt;input type=\"button\" value=\"提交\" &gt;&lt;/input&gt;&lt;/p&gt;\r\n		&lt;/table&gt;\r\n	&lt;/form&gt;\r\n&lt;script type=\"text/javascript\"&gt;\r\n&#36;(function() {\r\n	&#36;(\"#username\").blur(function() {	//给输入框绑定点击事件\r\n		var name = &#36;(\"#username\").val() ;\r\n		  &#36;.ajax({\r\n			 /* url 需要用来处理ajax请求的action */\r\n			url : \"&lt;%=basePath %&gt;ajax/checkJqueryAjax\",	\r\n			type : \"POST\",\r\n			data : {\"name\":name},	/* 设置数据源，传递到服务器端 */\r\n			dataType : \"json\",		/* 设置需要返回的数据类型 */\r\n			success : function(data) {\r\n				var d = eval(\"(\"+data+\")\");	\r\n				/* 将数据转换成json类型，可以把data用alert()输出出来看看到底是什么样的结构\r\n				,得到的d是一个形如{\"key\":\"value\",\"key1\":\"value1\"}的数据类型，然后取值出来 */\r\n				if(d.returnFlag == \"true\"){\r\n					&#36;(\"#checkinfo \").html(\"&lt;font color=\'red\'&gt;对不起，该帐号已经被注册过了&lt;/font&gt;\");\r\n				}\r\n				else{\r\n					&#36;(\"#checkinfo \").html(\"该帐号还未被注册\");\r\n				}  \r\n			},\r\n			error : function(data){\r\n				alert(\"内部错误\");\r\n			}\r\n		}); \r\n	});\r\n});  \r\n&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n\r\n</pre>\r\n\r\n&nbsp;&nbsp;在struts.xm配置文件中包含ajax.xml，其中的内容是：</br>\r\n<pre  name=\"code\" class=\"xml\">\r\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\r\n&lt;!DOCTYPE struts PUBLIC\r\n    \"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN\"\r\n    \"http://struts.apache.org/dtds/struts-2.0.dtd\"&gt;\r\n\r\n&lt;struts&gt;\r\n\r\n&lt;package name=\"ajax\" extends=\"json-default\" namespace=\"/ajax\"&gt;\r\n&lt;!--   异步校验的Action--&gt;\r\n   &lt;action name=\"checkJqueryAjax\" class=\"demoinfo.struts2.ajax.AjaxAction\" method=\"checkJqueryAjax\"&gt;\r\n        	&lt;result name=\"fail\"&gt;&lt;/result&gt;\r\n			&lt;result type=\"json\"&gt;&lt;!-- 返回json类型数据 --&gt;\r\n				&lt;param name=\"root\"&gt;result&lt;/param&gt;&lt;!-- result是action中设置的变量名，也是页面需要返回的数据，该变量必须有setter和getter方法 --&gt;\r\n			&lt;/result&gt;\r\n   &lt;/action&gt;\r\n&lt;/package&gt;\r\n&lt;/struts&gt;\r\n</pre>\r\n\r\n&nbsp;&nbsp;AjaxAction中可以不用getset的映射方法，而是用request从url中获取，对应的代码为：</br>\r\n   <pre  name=\"code\" class=\"java\">\r\npackage demoinfo.struts2.ajax;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\n\r\nimport org.apache.struts2.interceptor.ServletRequestAware;\r\n\r\nimport net.sf.json.JSONObject;\r\n\r\nimport com.opensymphony.xwork2.ActionSupport;\r\n\r\n/**\r\n * Ajax的Action\r\n * **/\r\npublic class AjaxAction extends ActionSupport implements ServletRequestAware{\r\n\r\n	private static final long serialVersionUID = -8201401726773589361L;\r\n\r\n	private String username; //用户名\r\n	private String pwd;//密码\r\n	\r\n	private String result;		//ajax返回的result节点，返回success\r\n	private HttpServletRequest request;	//获取页面传来的值\r\n\r\n	public String checkJqueryAjax() {\r\n		//获取数据\r\n		String name = request.getParameter(\"name\");\r\n		String returnFlag;\r\n		if(name.equals(\"tom\"))\r\n			returnFlag = \"true\";\r\n		else\r\n			returnFlag = \"false\";\r\n		//将数据存储在map里，再转换成json类型数据，也可以自己手动构造json类型数据\r\n		Map&lt;String,Object&gt; map = new HashMap&lt;String,Object&gt;();\r\n		map.put(\"returnFlag\", returnFlag);\r\n		JSONObject json = JSONObject.fromObject(map);	//将map对象转换成json类型数据\r\n		this.result = json.toString();	//给result赋值，传递给页面\r\n		return SUCCESS;\r\n	}\r\n\r\n	public String getUsername() {\r\n		return username;\r\n	}\r\n\r\n	public void setUsername(String username) {\r\n		this.username = username;\r\n	}\r\n\r\n	public String getPwd() {\r\n		return pwd;\r\n	}\r\n\r\n	public void setPwd(String pwd) {\r\n		this.pwd = pwd;\r\n	}\r\n\r\n	public String getResult() {\r\n		return result;\r\n	}\r\n\r\n	public void setResult(String result) {\r\n		this.result = result;\r\n	}\r\n\r\n	public HttpServletRequest getRequest() {\r\n		return request;\r\n	}\r\n\r\n	public void setRequest(HttpServletRequest request) {\r\n		this.request = request;\r\n	}\r\n\r\n	public void setServletRequest(HttpServletRequest arg0) {\r\n		this.request = arg0;\r\n	}\r\n	\r\n}\r\n\r\n   </pre>\r\n', null);
INSERT INTO `demoinfo` VALUES ('42', 'ajaxJsAutoCompleterDemo', '<p>struts2中autocompleter标签有如下几个属性:<br/>\r\n&nbsp;&nbsp;autoComplete:设置是否在单行文本输入框中显示提示输入<br/>\r\n&nbsp;&nbsp;forceValidOption:设置单行文本框内是否只接受下拉列表中列表项<br/>\r\n&nbsp;&nbsp;delay:指定显示下拉列表框之前的延迟时间<br/>\r\n&nbsp;&nbsp;href:指定异步生成下拉列表项的URL<br/>\r\n&nbsp;&nbsp;searchType:设置下拉列表项与单行文本框的字符串的匹配模式,可以接受3个值:startstring(显示以文本框中字符串开头的选项,这是默认值);startword(显示以文本框中单词开头的选项);substring(显示包含文本框中字符串的选项).<br/>\r\n&nbsp;&nbsp;dropdownHeight:设置下拉列表框的高度,默认是120<br/>\r\n&nbsp;&nbsp;dropdownWidth:设置下拉列表框的宽度,默认与单行文本框的宽度相同.<br/>\r\n&nbsp;&nbsp;formId:指定发送哪个表单里的表单域的请求参数<br/>\r\n&nbsp;&nbsp;value:当theme使用simple时,指定该标签的默认值<br/>\r\n&nbsp;&nbsp;list:指定用于迭代生成下拉选项的集合<br/>\r\n&nbsp;&nbsp;loadOnTextChange:设置当用户在单行文本框内输入时,是否重新加载列表项.<br/>\r\n&nbsp;&nbsp;loadMinimumCount:当loadOnTextChange属性设置为true时,该属性设置输入多少字符后,才会触发重新加载列表项.<br/>\r\n&nbsp;&nbsp;showDownArrow:是否显示下拉箭头,默认是显示.<br/>\r\n&nbsp;&nbsp;如果我们设置autocompleter标签的autoComplete=true(默认是false),该标签将会在单行文本框中生成输入提示.如果希望强制用户只能输入下拉列表中的列表项,则可以设置forceValidOption=true(默认是false).\r\n</p>\r\n', '1:jar包下载地址：<a href=\"http://struts.apache.org/download.cgi\" target=\"_blank\">struts2 jar包</a>\r\n <a href=\"http://download.csdn.net/detail/jiashubing/9381656\" target=\"_blank\">JSON包合集</a>（包括commons-beanutils.jar,commons-collections.jar,commons-lang-2.1.jar,commons-logging-1.0.4.jar,ezmorph-1.0.2.jar,json-lib-2.1.jar）<br/>', '&nbsp;&nbsp;首先导入需要的jar包，我们使用基于struts2的ajax来实现该例功能。</br>\r\n&nbsp;&nbsp;ajaxComplete.jsp页面的代码如下：</br>\r\n   <pre  name=\"code\" class=\"php\">\r\n&lt;%@ page language=\"java\" import=\"java.util.*\" pageEncoding=\"GBK\"%&gt;\r\n&lt;%\r\nString path = request.getContextPath();\r\nString basePath = request.getScheme()+\"://\"+request.getServerName()+\":\"+request.getServerPort()+path+\"/\";\r\nrequest.setAttribute(\"basePath\",basePath);\r\n%&gt;\r\n&lt;%@ taglib prefix=\"sx\" uri=\"/struts-dojo-tags\"%&gt;\r\n&lt;%@taglib prefix=\"s\" uri=\"/struts-tags\"%&gt;\r\n&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\"&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n	&lt;!-- 注意这里看要加这个标签 --&gt;\r\n	&lt;sx:head /&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n	&lt;br&gt;\r\n	&lt;h3&gt;自动补全&lt;/h3&gt;\r\n	&lt;br /&gt;\r\n	&lt;form&gt;\r\n		&lt;table&gt;\r\n			&lt;tr&gt;\r\n				&lt;td class=\"tdLabel\"&gt;&lt;label class=\"label\"&gt;AJAX 自动补全:&lt;/label&gt;\r\n				&lt;/td&gt;\r\n				&lt;td &gt;\r\n					&lt;s:url id=\"dataUrl\" value=\"%{#request.basePath}/ajax/autoCompleter.action\" /&gt;\r\n					&lt;!-- name属性必须设置，其名字是什么无所谓 --&gt;\r\n					 &lt;sx:autocompleter  \r\n					 	name=\"start\"\r\n						href=\"%{dataUrl}\" \r\n						loadOnTextChange=\"true\"\r\n						loadMinimumCount=\"1\"\r\n					 	autoComplete=\"false\" \r\n					 	showDownArrow=\"false\"\r\n					 	indicator = \"indicator\"\r\n					 	/&gt;\r\n					&lt;!-- indicator是加载时显示的动态图片 --&gt;\r\n					&lt;img id=\"indicator\" src=\"../image/indicator.gif\" alt=\"Loading\" /&gt;&lt;/td&gt;\r\n			&lt;/tr&gt;\r\n		&lt;/table&gt;\r\n	&lt;/form&gt; \r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n</pre>\r\n\r\n&nbsp;&nbsp;在struts.xm配置文件中包含ajax.xml，其中的内容是：</br>\r\n<pre  name=\"code\" class=\"xml\">\r\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\r\n&lt;!DOCTYPE struts PUBLIC\r\n    \"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN\"\r\n    \"http://struts.apache.org/dtds/struts-2.0.dtd\"&gt;\r\n\r\n&lt;struts&gt;\r\n\r\n&lt;package name=\"ajax\" extends=\"json-default\" namespace=\"/ajax\"&gt;\r\n&lt;!--自动补全的Action--&gt;\r\n  &lt;action name=\"autoCompleter\" class=\"demoinfo.struts2.ajax.AjaxAction\" method=\"autoCompleter\"&gt;\r\n  	&lt;result name=\"fail\"&gt;&lt;/result&gt;\r\n      &lt;result type=\"json\"&gt;\r\n        &lt;param name=\"root\"&gt;names&lt;/param&gt;\r\n      &lt;/result&gt;\r\n   &lt;/action&gt;   \r\n&lt;/package&gt;\r\n&lt;/struts&gt;\r\n</pre>\r\n\r\n&nbsp;&nbsp;AjaxAction对应的代码为：</br>\r\n   <pre  name=\"code\" class=\"java\">\r\npackage demoinfo.struts2.ajax;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport com.opensymphony.xwork2.ActionSupport;\r\n\r\n/**\r\n * Ajax的Action\r\n * **/\r\npublic class AjaxAction extends ActionSupport{\r\n\r\n	private static final long serialVersionUID = -8201401726773589361L;\r\n\r\n	private List&lt;String[]&gt; names; // autocompleter返回客户端数组\r\n\r\n	// 下拉框\r\n	public String autoCompleter(){\r\n		names = new ArrayList&lt;String[]&gt;();\r\n		names.add(new String[]{\"Alabama\",\"Alabama\"});\r\n		names.add(new String[]{\"Alaska\",\"Alaska\"});\r\n		names.add(new String[]{\"American Samoa\",\"American Samoa\"});\r\n		names.add(new String[]{\"Arizona\",\"Arizona\"});\r\n		names.add(new String[]{\"Arkansas\",\"Arkansas\"});\r\n		names.add(new String[]{\"Armed Forces Europe\",\"Armed Forces Europe\"});\r\n		names.add(new String[]{\"Armed Forces Pacific\",\"Armed Forces Pacific\"});\r\n		names.add(new String[]{\"Armed Forces the Americas\",\"Armed Forces the Americas\"});\r\n		names.add(new String[]{\"Beaver\",\"Beaver\"});\r\n		names.add(new String[]{\"Banana Mania\",\"Banana Mania\"});\r\n		names.add(new String[]{\"California\",\"California\"});\r\n		names.add(new String[]{\"Colorado\",\"Colorado\"});\r\n		names.add(new String[]{\"Connecticut\",\"Connecticut\"});\r\n		names.add(new String[]{\"Delaware\",\"Delaware\"});\r\n		names.add(new String[]{\"District of Columbia\",\"District of Columbia\"});\r\n		names.add(new String[]{\"Eggplant\",\"Eggplant\"});\r\n		names.add(new String[]{\"Electric Lime\",\"Electric Lime\"});\r\n		names.add(new String[]{\"Federated States of Micronesia\",\"Federated States of Micronesia\"});\r\n		names.add(new String[]{\"Florida\",\"Florida\"});\r\n		names.add(new String[]{\"Georgia\",\"Georgia\"});\r\n		names.add(new String[]{\"Guam\",\"Guam\"});\r\n		names.add(new String[]{\"Hawaii\",\"Hawaii\"});\r\n		names.add(new String[]{\"Idaho\",\"Idaho\"});\r\n		names.add(new String[]{\"Illinois\",\"Illinois\"});\r\n		names.add(new String[]{\"Indiana\",\"Indiana\"});\r\n		names.add(new String[]{\"Iowa\",\"Iowa\"});\r\n		names.add(new String[]{\"Jazzberry Jam\",\"Jazzberry Jam\"});\r\n		names.add(new String[]{\"Jungle Green\",\"IoJungle Greenwa\"});\r\n		names.add(new String[]{\"Kansas\",\"Kansas\"});\r\n		names.add(new String[]{\"Kentucky\",\"Kentucky\"});\r\n		names.add(new String[]{\"Louisiana\",\"Louisiana\"});\r\n		names.add(new String[]{\"Maine\",\"Maine\"});\r\n		names.add(new String[]{\"Marshall Islands\",\"Marshall Islands\"});\r\n		names.add(new String[]{\"Maryland\",\"Maryland\"});\r\n		names.add(new String[]{\"Massachusetts\",\"Massachusetts\"});\r\n		names.add(new String[]{\"Michigan\",\"Michigan\"});\r\n		names.add(new String[]{\"Minnesota\",\"Minnesota\"});\r\n		names.add(new String[]{\"Mississippi\",\"Mississippi\"});\r\n		names.add(new String[]{\"Missouri\",\"Missouri\"});\r\n		names.add(new String[]{\"Montana\",\"Montana\"});\r\n		names.add(new String[]{\"Nebraska\",\"Nebraska\"});\r\n		names.add(new String[]{\"Nevada\",\"Nevada\"});\r\n		names.add(new String[]{\"New Hampshire\",\"New Hampshire\"});\r\n		names.add(new String[]{\"New Jersey\",\"New Jersey\"});\r\n		names.add(new String[]{\"New Mexico\",\"New Mexico\"});\r\n		names.add(new String[]{\"New York\",\"New York\"});\r\n		names.add(new String[]{\"North Carolina\",\"North Carolina\"});\r\n		names.add(new String[]{\"North Dakota\",\"North Dakota\"});\r\n		names.add(new String[]{\"Northern Mariana Islands\",\"Northern Mariana Islands\"});\r\n		names.add(new String[]{\"Oklahoma\",\"Oklahoma\"});\r\n		names.add(new String[]{\"Oregon\",\"Oregon\"});\r\n		names.add(new String[]{\"Pennsylvania\",\"Pennsylvania\"});\r\n		names.add(new String[]{\"Puerto Rico\",\"Puerto Rico\"});\r\n		names.add(new String[]{\"Rhode Island\",\"Rhode Island\"});\r\n		names.add(new String[]{\"South Carolina\",\"South Carolina\"});\r\n		names.add(new String[]{\"South Dakota\",\"South Dakota\"});\r\n		names.add(new String[]{\"Tennessee\",\"Tennessee\"});\r\n		names.add(new String[]{\"Texas\",\"Texas\"});\r\n		names.add(new String[]{\"Utah\",\"Utah\"});\r\n		names.add(new String[]{\"Vermont\",\"Vermont\"});\r\n		names.add(new String[]{\"Virgin Islands U.S.\",\"Virgin Islands U.S.\"});\r\n		names.add(new String[]{\"Virginia\",\"Virginia\"});\r\n		names.add(new String[]{\"Washington\",\"Washington\"});\r\n		names.add(new String[]{\"West Virginia\",\"West Virginia\"});\r\n		names.add(new String[]{\"Wisconsin\",\"Wisconsin\"});\r\n		names.add(new String[]{\"Wyoming\",\"Wyoming\"});\r\n		names.add(new String[]{\"Yellow\",\"Yellow\"});\r\n		return SUCCESS;\r\n	}\r\n\r\n	public List&lt;String[]&gt; getNames() {\r\n		return names;\r\n	}\r\n\r\n	public void setNames(List&lt;String[]&gt; names) {\r\n		this.names = names;\r\n	}\r\n\r\n}\r\n   </pre>', null);
INSERT INTO `demoinfo` VALUES ('43', 'ajaxJsSelectValueDemo', '<p>JavaScript取值的方法：</p>\r\n<p style=\"text-indent:2em\">1.getElementById()	返回对拥有指定 id 的第一个对象的引用。假如对应的为一组对象，则返回该组对象中的第一个。</p>\r\n<p style=\"text-indent:2em\">2.getElementsByName()	返回带有指定名称的对象集合。该方法与 getElementById() 方法相似，但是它查询元素的 name 属性，而不是 id 属性。<br/>\r\n&nbsp;&nbsp;另外，因为一个文档中的 name 属性可能不唯一（如 HTML 表单中的单选按钮通常具有相同的 name 属性），所有 getElementsByName() 方法返回的是元素的数组，而不是一个元素。</p>\r\n<p style=\"text-indent:2em\">3.getElementsByClassName() 方法返回文档中所有指定类名的元素集合，作为 NodeList 对象。<br/>\r\n&nbsp;&nbsp;NodeList 对象代表一个有顺序的节点列表。NodeList 对象 我们可通过节点列表中的节点索引号来访问列表中的节点(索引号由0开始)。<br/>\r\n&nbsp;&nbsp;提示： 你可以使用 NodeList 对象的 length 属性来确定指定类名的元素个数，并循环各个元素来获取你需要的那个元素。</p>\r\n<p style=\"text-indent:2em\">4.getElementsByTagName() 返回带有指定标签名的对象集合，该方法返回元素的顺序是它们在文档中的顺序。<br/>\r\n&nbsp;&nbsp;如果把特殊字符串 \"*\" 传递给 getElementsByTagName() 方法，它将返回文档中所有元素的列表，元素排列的顺序就是它们在文档中的顺序。</p>', '无', '&nbsp;&nbsp;JS取值只需要在普通的jsp页面中就可以使用</br>\r\n&nbsp;&nbsp;jsp页面的代码如下：</br>\r\n   <pre  name=\"code\" class=\"php\">\r\n&lt;%@ page language=\"java\" import=\"java.util.*\" pageEncoding=\"GBK\"%&gt;\r\n&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\"&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n	&lt;p&gt;\r\n	&lt;h3&gt;JS取值大全&lt;/h3&gt;\r\n	&lt;/p&gt;\r\n	&lt;p&gt;\r\n		测试输入框：&lt;input type=\"text\" id=\"testId\" class=\"testClass\" name=\"testName\"\r\n			style=\"width:300px\" /&gt;\r\n	&lt;/p&gt;\r\n	&lt;p&gt;1.通过 id属性 获取&lt;/p&gt;\r\n	&lt;p style=\"color:blue\"&gt;document.getElementById(\"testId\").value=\"我是通过id获取到的\";&lt;/p&gt;\r\n	&lt;p&gt;\r\n		&lt;input type=\"button\" onclick=\"selectById()\" value=\"通过id获取\" /&gt;\r\n	&lt;/p&gt;\r\n	&lt;p&gt;2.通过 name属性 获取&lt;/p&gt;\r\n	&lt;p style=\"color:blue\"&gt;document.getElementsByName(\"testName\")[0].value=\"我是通过name获取到的\";&lt;/p&gt;\r\n	&lt;p style=\"text-indent:2em\"&gt;注意：这里 getElementsByName 比 getElementById\r\n		多了一个s，一定要注意区分。因为一个文档中的 name 属性可能不唯一（如 HTML 表单中的单选按钮通常具有相同的 name 属性），所有\r\n		getElementsByName() 方法返回的是元素的数组，而不是一个元素。&lt;/p&gt;\r\n	&lt;p&gt;\r\n		&lt;input type=\"button\" onclick=\"selectByName()\" value=\"通过name获取\" /&gt;\r\n	&lt;/p&gt;\r\n	&lt;p&gt;3.通过 class属性 获取&lt;/p&gt;\r\n	&lt;p style=\"color:blue\"&gt;document.getElementsByName(\"testName\")[0].value=\"我是通过name获取到的\";&lt;/p&gt;\r\n	&lt;p style=\"text-indent:2em\"&gt;注意: Internet Explorer 8 及更早 IE 版本不支持\r\n		getElementsByClassName() 方法。&lt;/p&gt;\r\n	&lt;p&gt;\r\n		&lt;input type=\"button\" onclick=\"selectByClassName()\" value=\"通过class获取\" /&gt;\r\n	&lt;/p&gt;\r\n	&lt;p&gt;4.通过 tag 标签名获取&lt;/p&gt;\r\n	&lt;p style=\"color:blue\"&gt;\r\n		var x= document.getElementsByTagName(\"input\");&lt;br /&gt;\r\n		x[0].value=\"我是通过tag获取到的，共有\"+x.length+\"个&lt;input&gt;标签\";\r\n	&lt;/p&gt;\r\n	&lt;p style=\"text-indent:2em\"&gt;注意: Internet Explorer 8 及更早 IE 版本不支持\r\n		getElementsByClassName() 方法。&lt;/p&gt;\r\n	&lt;p&gt;\r\n		&lt;input type=\"button\" onclick=\"selectByTagName()\" value=\"通过tag标签获取\" /&gt;\r\n	&lt;/p&gt;\r\n	&lt;script type=\"text/javascript\"&gt;\r\n		function selectById() {\r\n			document.getElementById(\"testId\").value = \"我是通过id获取到的\";\r\n		}\r\n		function selectByName() {\r\n			document.getElementsByName(\"testName\")[0].value = \"我是通过name获取到的\";\r\n		}\r\n		function selectByClassName() {\r\n			document.getElementsByClassName(\"testClass\")[0].value = \"我是通过class获取到的\";\r\n		}\r\n		function selectByTagName() {\r\n			var x = document.getElementsByTagName(\"input\");\r\n			x[0].value = \"我是通过tag获取到的，一共有\" + x.length + \"个&lt;input&gt;标签\";\r\n		}\r\n	&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n</pre>', null);
INSERT INTO `demoinfo` VALUES ('44', 'springIocDemo', '<p style=\"text-indent:2em\"><strong>什么是IOC？</strong><br/>\r\n&nbsp;&nbsp;控制反转（Inversion of Control，英文缩写为IoC）是一个重要的面向对象编程的法则来削减计算机程序的耦合问题，也是轻量级的Spring框架的核心。 控制反转一般分为两种类型，依赖注入（Dependency Injection，简称DI）和依赖查找（Dependency Lookup）。依赖注入应用比较广泛。<br/>\r\n&nbsp;&nbsp;从注入的方法上看，依赖注入主要可以划分为三种类型：属性注入（set注入）、构造函数注入和接口注入。由于接口注入需要额外声明一个接口，增加了类的数目，而且它的效果和属性注入并无本质区别，因此我们不提倡采用这种方式。</p>\r\n<p style=\"text-indent:2em\"><strong>三种注入方式的区别：</strong><br/>\r\n&nbsp;&nbsp;1.属性注入方式：对于需要注入的东西比较明确。符合java的设计规则。更适合java开发人员，使用起来更加自然，更加方便。<br/>\r\n&nbsp;&nbsp;2.构造函数注入方式：在类加载的时候，就已经注入依赖的组件。但是若是参数多的话，使用起来不方便。<br/>\r\n&nbsp;&nbsp;3.接口注入：组件需要依赖特定接口的实现，其中的加载接口实现和接口实现的具体对象都是由容器来完成。由于需要额外声明一个接口，增加了类的数目，而且它的效果和属性注入并无本质区别，因此我们不提倡采用这种方式。</p>', ' 1:jar包下载地址：<a href=\"http://repo.spring.io\" target=\"_blank\">spring jar包</a><br/>\r\n 2.详细学习参考spring参考手册<a href=\"http://download.csdn.net/detail/jiashubing/9401325\" target=\"_blank\">spring参考手册</a>', '&nbsp;&nbsp;我们使用set注入的方法来实现一个例子，示例的过程见左侧的“示例展示”，下面是源码：</br>\r\n&nbsp;&nbsp;首先建立一个设备接口IDeviceWriter类</br>\r\n   <pre  name=\"code\" class=\"java\">\r\npackage demoinfo.spring.ioc;\r\n\r\n/**\r\n * 设备接口\r\n */\r\npublic interface IDeviceWriter {     \r\n    public void saveToDevice();     \r\n}    \r\n\r\n</pre>\r\n&nbsp;&nbsp;再建立2个设备类</br>\r\n&nbsp;&nbsp;软盘类</br>\r\n  <pre  name=\"code\" class=\"java\">\r\npackage demoinfo.spring.ioc;\r\n\r\n/**\r\n * 软盘类\r\n */\r\npublic class FloppyWriter implements IDeviceWriter {     \r\n    public void saveToDevice() {     \r\n        System.out.println(\"储存至软盘…\");     \r\n    }     \r\n} \r\n\r\n</pre>\r\n&nbsp;&nbsp;USB类</br>\r\n  <pre  name=\"code\" class=\"java\">\r\npackage demoinfo.spring.ioc;\r\n\r\n/**\r\n * USB类\r\n */\r\npublic class UsbDiskWriter implements IDeviceWriter {  \r\n    public void saveToDevice() {  \r\n        System.out.println(\"储存至移动硬盘…\");  \r\n    }  \r\n} \r\n\r\n</pre>\r\n&nbsp;&nbsp;BusinessBean业务类</br>\r\n  <pre  name=\"code\" class=\"java\">\r\n  package demoinfo.spring.ioc;\r\n\r\n/**\r\n * 磁盘业务的业务JavaBean类\r\n */\r\npublic class BusinessBean {  \r\n    private IDeviceWriter writer;  \r\n  \r\n    public void setDeviceWriter(IDeviceWriter writer) {  \r\n        this.writer = writer;  \r\n    }  \r\n  \r\n    public IDeviceWriter getDeviceWriter() {  \r\n        return writer;  \r\n    }  \r\n  \r\n    public void save() {  \r\n        if (writer == null) {  \r\n            throw new RuntimeException(\"DeviceWriter needed...\");  \r\n        }  \r\n        writer.saveToDevice();  \r\n    }  \r\n} \r\n</pre>\r\n&nbsp;&nbsp;配置文件businessFactoryConfig.xml代码如下：</br>\r\n<pre  name=\"code\" class=\"xml\">\r\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\r\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\r\n	xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:tx=\"http://www.springframework.org/schema/tx\"\r\n	xmlns:aop=\"http://www.springframework.org/schema/aop\" xmlns:p=\"http://www.springframework.org/schema/p\"\r\n	xmlns:context=\"http://www.springframework.org/schema/context\"\r\n	xsi:schemaLocation=\"http://www.springframework.org/schema/beans \r\n	http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n	http://www.springframework.org/schema/context   \r\n     http://www.springframework.org/schema/context/spring-context-3.0.xsd   \r\n     http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd \r\n     http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd\"\r\n     default-autowire=\"byName\"&gt;\r\n\r\n	&lt;bean id=\"floppy\" class=\"demoinfo.spring.ioc.FloppyWriter\"/&gt;    \r\n    &lt;bean id=\"usb\" class=\"demoinfo.spring.ioc.UsbDiskWriter\"/&gt;    \r\n            \r\n    &lt;bean id=\"businessBean\"      \r\n          class=\"demoinfo.spring.ioc.BusinessBean\"&gt;      \r\n        &lt;property name=\"deviceWriter\"&gt;    \r\n            &lt;ref bean=\"usb\"/&gt;    \r\n        &lt;/property&gt;      \r\n    &lt;/bean&gt;      \r\n\r\n&lt;/beans&gt;\r\n\r\n</pre>&nbsp;&nbsp;最后测试类代码如下：</br>\r\n<pre  name=\"code\" class=\"java\">\r\npackage demoinfo.spring.ioc;\r\n\r\nimport org.springframework.context.ApplicationContext;\r\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\r\n\r\npublic class SpringDemo {     \r\n    public static void main(String[] args) {\r\n    	//获得Spring中定义的Bean实例(对象)\r\n        ApplicationContext context = new ClassPathXmlApplicationContext(     \r\n        \"classpath:demoinfo/spring/ioc/businessFactoryConfig.xml \");     \r\n        BusinessBean business = (BusinessBean) context.getBean(\"businessBean\");     \r\n        business.save();\r\n    }     \r\n}    \r\n\r\n</pre>', null);
INSERT INTO `demoinfo` VALUES ('45', 'springAopDemo', '<p style=\"text-indent:2em\"><strong>什么是AOP?</strong><br/>\r\n&nbsp;&nbsp;AOP: (Aspect Oriented Programming) 面向切面编程。是目前软件开发中的一个热点，也是Spring框架中容。利用AOP可以对业务逻辑的各个部分进行隔离，从而使得业务逻辑各部分之间的耦合度降低，提高程序的可重用性，同时提高了开发的效率。主要的功能是：日志记录，性能统计，安全控制，事务处理，异常处理等等。</p>\r\n<p style=\"text-indent:2em\"><strong>什么是OOP？AOP与其有什么区别？</strong><br/>\r\n&nbsp;&nbsp;AOP、OOP在字面上虽然非常类似，但却是面向不同领域的两种设计思想。OOP（面向对象编程）针对业务处理过程的实体及其属性和行为进行抽象封装，以获得更加清晰高效的逻辑单元划分。 而AOP则是针对业务处理过程中的切面进行提取，它所面对的是处理过程中的某个步骤或阶段，以获得逻辑过程中各部分之间低耦合性的隔离效果。这两种设计思想在目标上有着本质的差异。<br/>\r\n&nbsp;&nbsp;通俗来讲，OOP面向名词领域，AOP面向动词领域。</p>\r\n<p style=\"text-indent:2em\"><strong>如何理解AOP?</strong><br/>\r\n&nbsp;&nbsp;举个简单例子，比如你想在每次写字之前都检查一下笔里有没有墨水了，通常的做法是：在写字这个Action里调用判断是否有墨水的方法。这样做的不好一个方面是，写字的Action和是否有墨水的方法产生了依赖，如果你有十几支不同的笔写字，每一个笔的Action里都要调用判断是否有墨水的方法；另一个方面是：就面向对象的程序设计来说，写字和判断是否有墨水的方法是同一等级的，如果你让写字这个动作来判断是否有墨水不够人性化，有违面向对象的程序设计的思想。<br/>\r\n&nbsp;&nbsp;如果用Spring的AOP，是把写字的Action作为一个切面，在每次调用不同的笔来写字的方法之前，调用判断是否有墨水的方法。它是由&lt;aop:config/&gt;标签在Spring配置文件里定义的。</p>', ' 1:jar包下载地址：<a href=\"http://repo.spring.io\" target=\"_blank\">spring jar包</a><br/>\r\n 2.详细学习参考spring参考手册<a href=\"http://download.csdn.net/detail/jiashubing/9401325\" target=\"_blank\">spring参考手册</a>', '&nbsp;&nbsp;AOP的实现可以使用注解和xml配置文件两种方式，这里使用xml配置文件方式。示例的过程见左侧的“示例展示”，下面是源码：</br>\r\n&nbsp;&nbsp;首先建立一个接口Performer类</br>\r\n   <pre  name=\"code\" class=\"java\">\r\npackage demoinfo.spring.aop;\r\n\r\npublic interface Performer {\r\n	//表演歌曲\r\n	public void perform();\r\n}\r\n</pre>\r\n&nbsp;&nbsp;再建立一个接口实现类DukePerformer</br>\r\n  <pre  name=\"code\" class=\"java\">\r\npackage demoinfo.spring.aop;\r\n\r\npublic class DukePerformer implements  Performer{\r\n    private String name;  \r\n    public void setName(String name)  {  \r\n        this.name=name;  \r\n    }  \r\n    public String getName()  {  \r\n        return this.name;  \r\n    }  \r\n    public void perform() {  \r\n        System.out.println(this.name+\" 开始演唱歌曲。\");  \r\n    }  \r\n} \r\n\r\n</pre>\r\n&nbsp;&nbsp;Audience观众业务类</br>\r\n  <pre  name=\"code\" class=\"java\">\r\n  package demoinfo.spring.aop;\r\n\r\npublic class Audience {  \r\n	public void takeSeat()  {  \r\n		System.out.println(\"观众坐在座位上。\");  \r\n	}  \r\n	public void turnOffPhone()   {  \r\n		System.out.println(\"观众关闭手机。\");  \r\n	}  \r\n	public void applaud()  {  \r\n		System.out.println(\"观众鼓掌，掌声经久不息...\");  \r\n	}  \r\n	public void unHappy()  {  \r\n		System.out.println(\"观众不高兴.\");  \r\n	}  \r\n}  \r\n\r\n</pre>\r\n&nbsp;&nbsp;配置文件applicationContext.xml代码如下：</br>\r\n<pre  name=\"code\" class=\"xml\">\r\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\r\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\r\n	xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:aop=\"http://www.springframework.org/schema/aop\"\r\n	xsi:schemaLocation=\"http://www.springframework.org/schema/beans\r\n           http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n           http://www.springframework.org/schema/aop\r\n           http://www.springframework.org/schema/aop/spring-aop-2.0.xsd\"&gt;\r\n	&lt;!-- AOP学习时的配置 --&gt;\r\n	&lt;bean id=\"DukePerformer\" class=\"demoinfo.spring.aop.DukePerformer\"&gt;\r\n		&lt;property name=\"name\" value=\"duke\" /&gt;\r\n	&lt;/bean&gt;\r\n	&lt;bean id=\"audience\" class=\"demoinfo.spring.aop.Audience\" /&gt;\r\n	\r\n	&lt;aop:config&gt;\r\n		&lt;!-- 定义切入点 --&gt;\r\n		&lt;aop:pointcut id=\"sing\" expression=\"execution(* *.perform(..))\"/&gt;\r\n		&lt;!-- 定义切面 --&gt;\r\n		&lt;aop:aspect ref=\"audience\"&gt;\r\n			&lt;!-- 前置通知 --&gt;\r\n			&lt;aop:before method=\"takeSeat\" pointcut-ref=\"sing\" /&gt;\r\n			&lt;aop:before method=\"turnOffPhone\" pointcut-ref=\"sing\" /&gt;\r\n			&lt;!-- 返回后通知 --&gt;\r\n			&lt;aop:after-returning method=\"applaud\" pointcut-ref=\"sing\" /&gt;\r\n			&lt;!-- 抛出后通知 --&gt;\r\n			&lt;aop:after-throwing method=\"unHappy\" pointcut-ref=\"sing\" /&gt;\r\n		&lt;/aop:aspect&gt;\r\n	&lt;/aop:config&gt;\r\n	&lt;!-- AOP学习时的配置 --&gt;\r\n&lt;/beans&gt;\r\n\r\n</pre>\r\n&nbsp;&nbsp;最后测试类代码如下：</br>\r\n<pre  name=\"code\" class=\"java\">\r\npackage demoinfo.spring.aop;\r\n\r\nimport org.springframework.context.ApplicationContext;  \r\nimport org.springframework.context.support.FileSystemXmlApplicationContext;  \r\n\r\npublic class SpringDemo {  \r\n    public static void main(String[] args) {  \r\n    	//获得Spring中定义的Bean实例(对象)\r\n        ApplicationContext ctx=new FileSystemXmlApplicationContext(\r\n        		\"classpath:demoinfo/spring/aop/applicationContext.xml\");  \r\n        Performer per=(Performer)ctx.getBean(\"DukePerformer\");  \r\n        per.perform();  \r\n    }  \r\n}  \r\n\r\n</pre>', null);
INSERT INTO `demoinfo` VALUES ('46', 'springJdbcDemo', '<p style=\"text-indent:2em\">传统的Java后台数据开发，其步骤非常乏味枯燥，重复劳动特别多。Spring针对JDBC这种情况，重新对JDBC进行封装，避免了开发者每次都进行重复的、普通的开发，而集中精力去处理具体业务逻辑。</p>\r\n<p style=\"text-indent:2em\">在Spring API中提供了四个包用于完成Spring JDBC操作，它们都在org.springframework.jdbc包下，分别是:<br/>\r\n&nbsp;&nbsp;1）core<br/>\r\n&nbsp;&nbsp;即核心包，它包含了JDBC的核心功能。此包内有很多重要的类，包括：JdbcTemplate类、SimpleJdbcInsert类，SimpleJdbcCall类，以及NamedParameterJdbcTemplate类。<br/>\r\n&nbsp;&nbsp;2）datasource<br/>\r\n&nbsp;&nbsp;即数据源包，访问数据源的实用工具类。它有多种数据源的实现，可以在JavaEE容器外部测试JDBC代码。<br/>\r\n&nbsp;&nbsp;3）object<br/>\r\n&nbsp;&nbsp;即对象包，以面向对象的方式访问数据库。它允许执行查询并返回结果作为业务对象。它可以在数据表的列和业务对象的属性之间映射查询结果。<br/>\r\n&nbsp;&nbsp;4）support<br/>\r\n&nbsp;&nbsp;即支持包，是core包和object包的支持类。例如提供了异常转换功能的SQLException类。</p>', ' 1:jar包下载地址：<a href=\"http://repo.spring.io\" target=\"_blank\">spring jar包</a><br/>\r\n 2.详细学习参考spring参考手册<a href=\"http://download.csdn.net/detail/jiashubing/9401325\" target=\"_blank\">spring参考手册</a>', '&nbsp;&nbsp;首先使用mysql数据库，简单的创建一张表，然后通过Spring配置数据源，读取该表中的内容</br>\r\n&nbsp;&nbsp;然后创建数据库操作类UserDAO，代码如下所示：</br>\r\n   <pre  name=\"code\" class=\"java\">\r\npackage demoinfo.spring.jdbc;\r\n\r\nimport java.util.List;\r\nimport org.springframework.jdbc.core.support.JdbcDaoSupport;\r\n\r\npublic class UserDAO extends JdbcDaoSupport{\r\n	@SuppressWarnings(\"rawtypes\")\r\n	public List getAllUserList(){\r\n		try{\r\n			return getJdbcTemplate().queryForList(\"select id,studentName,age from hibernate_relationship_student\");\r\n		}catch (RuntimeException re){\r\n			throw re;\r\n		}\r\n	}\r\n	public int saveOrupdate(String sql,Object[] params,int[] types){\r\n		try{\r\n		return getJdbcTemplate().update(sql,params,types);\r\n		}catch (RuntimeException re){\r\n			throw re;\r\n		}\r\n	}\r\n\r\n}\r\n\r\n</pre>\r\n&nbsp;&nbsp;实现测试类TestJDBC</br>\r\n  <pre  name=\"code\" class=\"java\">\r\npackage demoinfo.spring.jdbc;\r\n\r\nimport java.util.Iterator;\r\nimport java.util.Map;\r\nimport org.springframework.context.ApplicationContext;\r\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\r\n\r\npublic class TestJDBC {\r\n	@SuppressWarnings(\"rawtypes\")\r\n	public static void main(String[] args){\r\n		//获得Spring中定义的Bean实例(对象)\r\n        ApplicationContext ctx = new ClassPathXmlApplicationContext(     \r\n        \"classpath:demoinfo/spring/jdbc/applicationContext.xml \");   \r\n        UserDAO userDAO = (UserDAO)ctx.getBean(\"userDAO\");\r\n        Iterator iterator = userDAO.getAllUserList().iterator();\r\n        System.out.println(\"user     password\");\r\n        while(iterator.hasNext()){\r\n        	Map user = (Map) iterator.next();\r\n        	System.out.println(user.get(\"studentName\")+\"     \"+user.get(\"age\"));\r\n        }\r\n	}\r\n}\r\n\r\n</pre>\r\n&nbsp;&nbsp;编写配置文件applicationContext.xml</br>\r\n  <pre  name=\"code\" class=\"xml\">\r\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\r\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\r\n	xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:tx=\"http://www.springframework.org/schema/tx\"\r\n	xmlns:aop=\"http://www.springframework.org/schema/aop\" xmlns:p=\"http://www.springframework.org/schema/p\"\r\n	xmlns:context=\"http://www.springframework.org/schema/context\"\r\n	xsi:schemaLocation=\"http://www.springframework.org/schema/beans \r\n	http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n	http://www.springframework.org/schema/context   \r\n     http://www.springframework.org/schema/context/spring-context-3.0.xsd   \r\n     http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd \r\n     http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd\"&gt;\r\n	&lt;!-- 配置连接池 --&gt;\r\n	&lt;bean id=\"dataSource\" \r\n	class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\r\n		&lt;!-- 配置驱动程序 --&gt;\r\n		&lt;property name=\"driverClassName\"&gt;\r\n			&lt;value&gt;com.mysql.jdbc.Driver&lt;/value&gt;\r\n		&lt;/property&gt;\r\n		&lt;!-- 配置URL --&gt;\r\n		&lt;property name=\"url\"&gt;\r\n			&lt;value&gt;jdbc:mysql://localhost:3306/myhttp?useUnicode=true&amp;characterEncoding=gbk\r\n			&lt;/value&gt;\r\n		&lt;/property&gt;\r\n		&lt;!-- 配置用户 --&gt;\r\n		&lt;property name=\"username\"&gt;\r\n			&lt;value&gt;root&lt;/value&gt;\r\n		&lt;/property&gt;\r\n		&lt;!-- 配置密码 --&gt;\r\n		&lt;property name=\"password\"&gt;\r\n			&lt;value&gt;19921002&lt;/value&gt;\r\n		&lt;/property&gt;\r\n	&lt;/bean&gt;\r\n	&lt;!-- 配置模板类 --&gt;\r\n	&lt;bean id=\"jdbcTemplate\" class=\"org.springframework.jdbc.core.JdbcTemplate\"\r\n		abstract=\"false\" scope=\"singleton\" lazy-init=\"default\" autowire=\"default\"&gt;\r\n		&lt;property name=\"dataSource\"&gt;\r\n			&lt;ref local=\"dataSource\" /&gt;\r\n		&lt;/property&gt;\r\n	&lt;/bean&gt;\r\n	&lt;!-- 配置DAO类 --&gt;\r\n	&lt;bean id=\"userDAO\" class=\"demoinfo.spring.jdbc.UserDAO\" abstract=\"false\"\r\n		scope=\"singleton\" lazy-init=\"default\" autowire=\"default\"&gt;\r\n		&lt;property name=\"jdbcTemplate\"&gt;\r\n			&lt;ref local=\"jdbcTemplate\" /&gt;\r\n		&lt;/property&gt;\r\n	&lt;/bean&gt;\r\n\r\n&lt;/beans&gt;\r\n \r\n</pre>', null);
INSERT INTO `demoinfo` VALUES ('47', 'springTransactionDemo', '<p style=\"text-indent:2em\"><strong>事务的4个特性：</strong><br/>\r\n&nbsp;&nbsp;原子性：一个事务中所有对数据库的操作是一个不可分割的操作序列，要么全做，要么全部做。<br/>\r\n&nbsp;&nbsp;一致性：数据不会因为事务的执行而遭到破坏。<br/>\r\n&nbsp;&nbsp;隔离性：一个事务的执行，不受其他事务（进程）的干扰。既并发执行的个事务之间互不干扰。<br/>\r\n&nbsp;&nbsp;持久性：一个事务一旦提交，它对数据库的改变将是永久的。</p>\r\n\r\n<p style=\"text-indent:2em\"><strong>Spring事务的实现方式：</strong><br/>\r\n&nbsp;&nbsp;实现方式共有两种：编程式事务处理；声明式事务管理方式。<br/>\r\n&nbsp;&nbsp;基于AOP技术实现的声明式事务管理，实质就是：在方法执行前后进行拦截，然后在目标方法开始之前创建并加入事务，执行完目标方法后根据执行情况提交或回滚事务。<br/>\r\n&nbsp;&nbsp;声明式事务管理又有两种方式：基于XML配置文件的方式；另一个是在业务方法上进行@Transactional注解，将事务规则应用到业务逻辑中。</p>\r\n\r\n<p style=\"text-indent:2em\"><strong>创建事务的时机：</strong><br/>\r\n&nbsp;&nbsp;是否需要创建事务，是由事务传播行为控制的。读数据不需要或只为其指定只读事务，而数据的插入，修改，删除就需要事务管理了。</p>', ' 1:jar包下载地址：<a href=\"http://repo.spring.io\" target=\"_blank\">spring jar包</a><br/>\r\n 2.详细学习参考spring参考手册<a href=\"http://download.csdn.net/detail/jiashubing/9401325\" target=\"_blank\">spring参考手册</a>', '&nbsp;&nbsp;Spring使用 &lt;tx:advice&gt;和 &lt;aop:config&gt; 来配置事务，其在applicationContext中的配置是：<br/>\r\n   <pre  name=\"code\" class=\"xml\">\r\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt; \r\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans \" \r\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance \" \r\nxmlns:aop=\"http://www.springframework.org/schema/aop \" \r\nxmlns:tx=\"http://www.springframework.org/schema/tx \" \r\nxsi:schemaLocation=\"http://www.springframework.org/schema/beans \r\n                     http://www.springframework.org/schema/beans/spring-beans.xsd \r\n                     http://www.springframework.org/schema/tx \r\n                     http://www.springframework.org/schema/tx/spring-tx.xsd \r\n                     http://www.springframework.org/schema/aop \r\n                     http://www.springframework.org/schema/aop/spring-aop.xsd \"&gt; \r\n   \r\n&lt;tx:annotation-driven /&gt;\r\n   \r\n&lt;!-- 配置事务管理器 --&gt;      \r\n&lt;bean id=\"transactionManager\" class=\"org.springframework.orm.hibernate3.HibernateTransactionManager\"&gt;          \r\n     &lt;property name=\"sessionFactory\"&gt;              \r\n          &lt;ref bean=\"sessionFactory\"/&gt;  &lt;!-- transactionManager的SetSessionFactory()方法的参数为SessionFactory --&gt;                     &lt;/property&gt;      \r\n&lt;/bean&gt;          \r\n  \r\n&lt;!-- 哪那些类那些方法使用事务 --&gt;      \r\n&lt;aop:config&gt;          \r\n    &lt;aop:pointcut id=\"allManagerMethod\" expression=\"execution(* demoinfo.hibernate.crud.CrudServiceImpl.*(..))\"/&gt;          \r\n    &lt;aop:advisor pointcut-ref=\"allManagerMethod\" advice-ref=\"txAdvice\"/&gt;      \r\n&lt;/aop:config&gt;           \r\n     \r\n  \r\n&lt;!-- 事务的传播特性 --&gt;        \r\n&lt;tx:advice id=\"txAdvice\" transaction-manager=\"transactionManager\"&gt;          \r\n    &lt;tx:attributes&gt;              \r\n        &lt;tx:method name=\"add*\" propagation=\"REQUIRED\"/&gt;              \r\n        &lt;tx:method name=\"del*\" propagation=\"REQUIRED\"/&gt;              \r\n        &lt;tx:method name=\"update*\" propagation=\"REQUIRED\"/&gt;             \r\n        &lt;tx:method name=\"*\" propagation=\"REQUIRED\" read-only=\"true\"/&gt;          \r\n    &lt;/tx:attributes&gt;      \r\n&lt;/tx:advice&gt;  \r\n\r\n</pre>\r\n&nbsp;&nbsp;提交事务的一个类CrudDaoImpl，需要继承HibernateDaoSupport<br/>\r\n  <pre  name=\"code\" class=\"java\">\r\npackage demoinfo.hibernate.crud;\r\n\r\nimport java.util.List;\r\nimport org.springframework.orm.hibernate3.support.HibernateDaoSupport;\r\nimport demoinfo.hibernate.relationship.pojo.User;\r\n\r\npublic class CrudDaoImpl extends HibernateDaoSupport implements CrudDao{\r\n\r\n	public List&lt;User&gt; findAll() {\r\n		return this.getHibernateTemplate().loadAll(User.class);\r\n	}\r\n\r\n	@SuppressWarnings(\"unchecked\")\r\n	public List&lt;User&gt; getUsers(String queryString) {\r\n		return (List&lt;User&gt;)this.getHibernateTemplate().find(queryString);\r\n	}\r\n\r\n	public void addUser(User user) {\r\n		this.getHibernateTemplate().save(user);\r\n	}\r\n\r\n	public void updateUser(User user) {\r\n		this.getHibernateTemplate().update(user);\r\n	}\r\n\r\n	public void deleteUser(User user) {\r\n		this.getHibernateTemplate().delete(user);\r\n	}\r\n\r\n	public User getUserById(Integer id) {\r\n			return (User) this.getHibernateTemplate().get(User.class, id);\r\n	}\r\n\r\n}\r\n\r\n</pre>', null);
INSERT INTO `demoinfo` VALUES ('48', 'springMvcDemo', '<p style=\"text-indent:2em\"><strong>SpringMVC的特点：</strong><br/>\r\n&nbsp;&nbsp;1、清晰的角色划分，Spring在Model、View和Controller方面提供了一个非常清晰的划分，这3个方面真正是各司其职，各负其责。<br/>\r\n&nbsp;&nbsp;2、灵活的配置功能，因为Spring的核心是IOC,同样在实现MVC上，也可以把各种类当做Bean来通过XML进行配置。<br/>\r\n&nbsp;&nbsp;3、提供了大量的控制器接口和实现类，这样开发人员可以使用Spring提供的控制器实现类，也可以自己实现控制器接口。<br/>\r\n&nbsp;&nbsp;4、SpringMVC是真正的View层实现无关的，它不会强制开发员使用JSP,我们可以使用其他View技术，比如Velocity，Xskt等。<br/>\r\n&nbsp;&nbsp;5、国际化支持，Spring的ApplicationContext提供了对国际化的支持，在这里可以很方便的使用。<br/>\r\n&nbsp;&nbsp;6、面向接口编程，其实这不仅是springMVC的特点，整个Spring来看，这个特点都是很明显的，因为它使开发人员对程序易于进行测试，并且很方便的进行管理。<br/>\r\n&nbsp;&nbsp;7、Spring提供了Web应用开发的一整套流程，而不仅仅是MVC，他们之间可以很方便的结合在一起。下面有一个自己做得例子，做完这个例子后真的体会到了SpringMVC的强大。</p>', '1:jar包下载地址：<a href=\"http://download.csdn.net/detail/jiashubing/9403927\" target=\"_blank\">SpringMVC框架所需要的jar包</a><br/>\r\n 2.详细学习参考spring参考手册<a href=\"http://download.csdn.net/detail/jiashubing/9401325\" target=\"_blank\">spring参考手册</a>', '&nbsp;&nbsp;接下来搭建第一个SpringMVC框架的项目，实现从数据库中读取数据的功能。<br/>\r\n &nbsp;&nbsp;首先为自己的项目新建一个数据库，本例使用mysql数据库，创建了一张USERMBO表，里面有三个字段 USERID，USERNAME，USERAGE，使用下面的sql语句快速建表：<br/>\r\n   <pre  name=\"code\" class=\"xml\">\r\n   SET FOREIGN_KEY_CHECKS=0;\r\n-- ----------------------------\r\n-- Table structure for `usermbo`\r\n-- ----------------------------\r\nDROP TABLE IF EXISTS `usermbo`;\r\nCREATE TABLE `usermbo` (\r\n  `USERID` int(11) NOT NULL DEFAULT \'0\',\r\n  `USERNAME` varchar(50) DEFAULT NULL,\r\n  `USERAGE` int(11) DEFAULT NULL,\r\n  PRIMARY KEY (`USERID`)\r\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\r\n\r\n-- ----------------------------\r\n-- Records of usermbo\r\n-- ----------------------------\r\nINSERT INTO `usermbo` VALUES (\'1\', \'小红\', \'25\');\r\nINSERT INTO `usermbo` VALUES (\'2\', \'小明\', \'27\');\r\nINSERT INTO `usermbo` VALUES (\'3\', \'小花\', \'26\');\r\n</pre>\r\n&nbsp;&nbsp; 然后新建一个项目，导入必要的jar包以后。配置WEB-INF目录下的web.xml，代码如下:</br>\r\n   <pre  name=\"code\" class=\"xml\">\r\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\r\n&lt;web-app version=\"2.5\" xmlns=\"http://java.sun.com/xml/ns/javaee\"\r\n	xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n	xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee \r\n	http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"&gt;\r\n	&lt;servlet&gt;\r\n		&lt;!--springmvc的核心是DispatcherServlet，它负责控制整个页面的请求路径--&gt;\r\n		&lt;servlet-name&gt;dispatcherServlet&lt;/servlet-name&gt;\r\n		&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n		&lt;!--初始化参数 &gt;--&gt;\r\n		&lt;init-param&gt;\r\n			&lt;!-- 这个param-name必须是contextConfigLocation--&gt;\r\n			&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n			&lt;param-value&gt;/WEB-INF/classes/applicationContext.xml&lt;/param-value&gt;\r\n		&lt;/init-param&gt;\r\n		&lt;load-on-startup&gt;2&lt;/load-on-startup&gt;\r\n	&lt;/servlet&gt;\r\n	&lt;!--拦截所有以do结尾的请求--&gt;\r\n	&lt;servlet-mapping&gt;\r\n		&lt;servlet-name&gt;dispatcherServlet&lt;/servlet-name&gt;\r\n		&lt;url-pattern&gt;*.do&lt;/url-pattern&gt;\r\n	&lt;/servlet-mapping&gt;\r\n	&lt;!--处理从页面传递中文到后台而出现的中文乱码问题--&gt;\r\n	&lt;filter&gt;\r\n		&lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\r\n		&lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;\r\n		&lt;init-param&gt;\r\n			&lt;param-name&gt;encoding&lt;/param-name&gt;\r\n			&lt;param-value&gt;UTF-8&lt;/param-value&gt;\r\n		&lt;/init-param&gt;\r\n	&lt;/filter&gt;\r\n	&lt;filter-mapping&gt;\r\n		&lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\r\n		&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n	&lt;/filter-mapping&gt;\r\n	&lt;welcome-file-list&gt;\r\n		&lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n	&lt;/welcome-file-list&gt;\r\n&lt;/web-app&gt;\r\n\r\n</pre>\r\n&nbsp;&nbsp;spring配置文件applicationContext.xml的代码如下：<br/>\r\n<pre  name=\"code\" class=\"xml\">\r\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\r\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\r\n	xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n	xsi:schemaLocation=\"http://www.springframework.org/schema/beans \r\n	http://www.springframework.org/schema/beans/spring-beans-2.5.xsd\"&gt;\r\n	&lt;!-- 定义个缺省的控制适配器 --&gt;\r\n	&lt;bean\r\n		class=\"org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter\" /&gt;\r\n	&lt;!-- 获取配置文件 --&gt;\r\n	&lt;bean id=\"config\"\r\n		class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"&gt;\r\n		&lt;property name=\"locations\"&gt;\r\n			&lt;list&gt;\r\n				&lt;value&gt;classpath:db-config.properties&lt;/value&gt;\r\n			&lt;/list&gt;\r\n		&lt;/property&gt;\r\n	&lt;/bean&gt;\r\n	&lt;!-- 获取数据源 --&gt;\r\n	&lt;bean id=\"dataSource\" class=\"org.apache.commons.dbcp.BasicDataSource\"&gt;\r\n		&lt;property name=\"driverClassName\"&gt;\r\n			&lt;value&gt;&#36;{db.dirverClass}&lt;/value&gt;\r\n		&lt;/property&gt;\r\n		&lt;property name=\"url\"&gt;\r\n			&lt;value&gt;&#36;{db.url}&lt;/value&gt;\r\n		&lt;/property&gt;\r\n		&lt;property name=\"username\"&gt;\r\n			&lt;value&gt;&#36;{db.username}&lt;/value&gt;\r\n		&lt;/property&gt;\r\n		&lt;property name=\"password\"&gt;\r\n			&lt;value&gt;&#36;{db.password}&lt;/value&gt;\r\n		&lt;/property&gt;\r\n	&lt;/bean&gt;\r\n	&lt;!--\r\n		URL到处理器的映射列表可以配置多个\r\n		mappings属性健值为URL程序文件地址，而值为处理器的Bean名字，URL程序文件地址可采用路径匹配的模式，如：\r\n		com/mvc/t?st.jsp:匹配com/mvc/test.jsp、com/mvc/tast.jsp等\r\n		 com/mvc /*.jsp：匹配所有com/mvc/下带jsp后缀的URL com/mvc\r\n		/**/test.jsp：匹配所有在com/mvc路径下或子孙路径下的test.jsp com/mvc\r\n		/**/*.jsp：匹配所有com/mvc路径下或子孙路径下带.jsp后缀的URL \r\n		cn/**/web/bla.jsp：匹配cn/option/web/dog.jsp cn/option/test/web/dog.jsp cn/web/ dog.jsp的请求\r\n	--&gt;\r\n	&lt;bean class=\"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping\"&gt;\r\n		&lt;property name=\"mappings\"&gt;\r\n			&lt;value&gt;\r\n				user.do=userAction\r\n&lt;/value&gt;\r\n		&lt;/property&gt;\r\n	&lt;/bean&gt;\r\n\r\n	&lt;!--定义视图 通过internalResourceView来表示 使用的是Servlet/jsp技术--&gt;\r\n	&lt;bean id=\"viewResolver\"\r\n		class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\r\n		&lt;property name=\"viewClass\"&gt;\r\n			&lt;value&gt;org.springframework.web.servlet.view.InternalResourceView\r\n			&lt;/value&gt;\r\n		&lt;/property&gt;\r\n		&lt;!--jsp存放的目录--&gt;\r\n		&lt;property name=\"prefix\"&gt;\r\n			&lt;value&gt;jsp/&lt;/value&gt;\r\n		&lt;/property&gt;\r\n		&lt;!--jsp文件的后缀--&gt;\r\n		&lt;property name=\"suffix\"&gt;\r\n			&lt;value&gt;.jsp&lt;/value&gt;\r\n		&lt;/property&gt;\r\n	&lt;/bean&gt;\r\n	&lt;bean id=\"userDao\" class=\"com.springmvc.UserDao \"&gt;\r\n		&lt;property name=\"dataSource\" ref=\"dataSource\"&gt;&lt;/property&gt;\r\n	&lt;/bean&gt;\r\n	&lt;!--定义控制器--&gt;\r\n	&lt;bean id=\"userAction\" class=\"com.springmvc.UserController\"&gt;\r\n		&lt;property name=\"dao\"&gt;\r\n			&lt;ref bean=\"userDao\" /&gt;\r\n		&lt;/property&gt;\r\n		&lt;property name=\"commandClass\"&gt;\r\n			&lt;value&gt;com.springmvc.UserDao&lt;/value&gt;\r\n		&lt;/property&gt;\r\n		&lt;property name=\"viewpage\"&gt;\r\n			&lt;value&gt;userInfo&lt;/value&gt;\r\n		&lt;/property&gt;\r\n	&lt;/bean&gt;\r\n&lt;/beans&gt;\r\n\r\n</pre>\r\n&nbsp;&nbsp;数据源配置文件db-config.properties的代码如下：<br/>\r\n<pre  name=\"code\" class=\"xml\">\r\ndb.url=jdbc:mysql://localhost:3306/test?useUnicode=true&characterEncoding=utf8\r\ndb.username=root\r\ndb.password=19921002\r\ndb.dirverClass=com.mysql.jdbc.Driver\r\ndbName=springmvcdb\r\n</pre>\r\n&nbsp;&nbsp;配置文件配置好以后我们开始编写具体的JAVA类，我们需要一个Dao类，一个Controller类和一个PO。把它们建在com.springmvc包下面、<br/>\r\n&nbsp;&nbsp;UserControer.java代码如下：<br/>\r\n<pre  name=\"code\" class=\"java\">\r\npackage com.springmvc;\r\n\r\nimport java.io.PrintWriter;\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\n\r\nimport org.springframework.validation.BindException;\r\nimport org.springframework.web.servlet.ModelAndView;\r\nimport org.springframework.web.servlet.mvc.SimpleFormController;\r\n\r\n@SuppressWarnings(\"all\")\r\n// SimpleFormController是spring提供的表单控制器，把页面中Form中的元素名称设定为和bean中的一样，当传入的时候Spring会自动抓取form中和Bean名称一样的元素值，把它转换成一个bean,使得开发人员可以很方便的使用。\r\npublic class UserController extends SimpleFormController {\r\n	private String viewpage;\r\n	private UserDao dao;\r\n\r\n	public String getViewpage() {\r\n		return viewpage;\r\n	}\r\n\r\n	public void setViewpage(String viewpage) {\r\n		this.viewpage = viewpage;\r\n	}\r\n\r\n	@Override\r\n	protected ModelAndView onSubmit(HttpServletRequest request,\r\n			HttpServletResponse response, Object command, BindException errors)\r\n			throws Exception {\r\n		UserDao tmp = (UserDao) command;\r\n		Collection&lt;UserPO&gt; list = dao.doquery();\r\n		List&lt;UserPO&gt; users = new ArrayList&lt;UserPO&gt;();\r\n		UserPO user;\r\n		for (UserPO userPO : list) {\r\n			user = new UserPO();\r\n			user.setUserId(userPO.getUserId());\r\n			user.setUserName(userPO.getUserName());\r\n			user.setUserAge(userPO.getUserAge());\r\n			users.add(user);\r\n		}\r\n		Map mp = new HashMap();\r\n		mp.put(\"list\", users);\r\n		return new ModelAndView(getViewpage(), mp);\r\n	}\r\n\r\n	public void setDao(UserDao dao) {\r\n		this.dao = dao;\r\n	}\r\n\r\n}\r\n\r\n</pre>\r\n&nbsp;&nbsp;UserDao.java代码如下：<br/>\r\n<pre  name=\"code\" class=\"java\">\r\npackage com.springmvc;\r\n\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\n\r\nimport org.springframework.jdbc.core.RowMapper;\r\nimport org.springframework.jdbc.core.support.JdbcDaoSupport;\r\n\r\n@SuppressWarnings(\"all\")\r\npublic class UserDao extends JdbcDaoSupport {\r\n	private String msg;\r\n\r\n	public String getMsg() {\r\n		return msg;\r\n	}\r\n\r\n	public void setMsg(String msg) {\r\n		this.msg = msg;\r\n	}\r\n\r\n	// 此方法把USEMBO表对应的字段查询出来依次放入userPO中\r\n	public Collection&lt;UserPO&gt; doquery() {\r\n		String sql = \"SELECT T.USERID,T.USERNAME,T.USERAGE FROM USERMBO T\";\r\n		return super.getJdbcTemplate().query(sql, new RowMapper() {\r\n\r\n			public Object mapRow(ResultSet rs, int num) throws SQLException {\r\n				UserPO user = new UserPO();\r\n				user.setUserId(rs.getInt(\"USERID\"));\r\n				user.setUserName(rs.getString(\"USERNAME\"));\r\n				user.setUserAge(rs.getInt(\"USERAGE\"));\r\n				return user;\r\n			}\r\n		});\r\n	}\r\n}\r\n\r\n</pre>\r\n&nbsp;&nbsp;UserPO.java代码如下：<br/>\r\n<pre  name=\"code\" class=\"java\">\r\npackage com.springmvc;\r\n\r\npublic class UserPO {\r\n	private Integer userId;\r\n	private String userName;\r\n	private Integer userAge;\r\n\r\n	public Integer getUserId() {\r\n		return userId;\r\n	}\r\n\r\n	public void setUserId(Integer userId) {\r\n		this.userId = userId;\r\n	}\r\n\r\n	public String getUserName() {\r\n		return userName;\r\n	}\r\n\r\n	public void setUserName(String userName) {\r\n		this.userName = userName;\r\n	}\r\n\r\n	public Integer getUserAge() {\r\n		return userAge;\r\n	}\r\n\r\n	public void setUserAge(Integer userAge) {\r\n		this.userAge = userAge;\r\n	}\r\n}\r\n\r\n</pre>\r\n&nbsp;&nbsp;最后是相应的jsp页面，index.jsp的代码如下：<br/>\r\n<pre  name=\"code\" class=\"php\">\r\n&lt;%@ page language=\"java\" import=\"java.util.*\" pageEncoding=\"UTF-8\"%&gt;\r\n&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\"&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;title&gt;My SpringMVC&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n	第一个SpringMVC框架，点击按钮可以获取数据库中的数据！\r\n	&lt;br /&gt;&lt;br /&gt;\r\n	&lt;form action=\"user.do\" method=\"post\"&gt;\r\n		&lt;input type=\"submit\" value=\"获取人员信息列表\"&gt;\r\n	&lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n</pre>\r\n&nbsp;&nbsp;jsp文件夹下userInfo.jsp代码如下：<br/>\r\n<pre  name=\"code\" class=\"php\">\r\n&lt;%@ page language=\"java\" import=\"java.util.*\" pageEncoding=\"utf-8\"%&gt;\r\n&lt;%@ page import=\"com.springmvc.UserPO\"%&gt;\r\n&lt;%\r\nString path = request.getContextPath();\r\nString basePath = request.getScheme()+\"://\"+request.getServerName()+\":\"+request.getServerPort()+path+\"/\";\r\nList&lt;UserPO&gt; str= (List&lt;UserPO&gt;)request.getAttribute(\"list\");\r\n%&gt;\r\n\r\n&lt;html&gt;\r\n  &lt;head&gt;\r\n    &lt;title&gt;SpringMVC&lt;/title&gt;\r\n  &lt;/head&gt;\r\n  \r\n  &lt;body&gt;\r\n  &lt;table border=\"1\" width=\"500\" align=\"center\" cellpadding=\"0\" cellspacing=\"0\" &gt;\r\n  		&lt;tr&gt;\r\n			&lt;td &gt;编号&lt;/td&gt;\r\n			&lt;td &gt;姓名&lt;/td&gt;\r\n			&lt;td &gt;年龄&lt;/td&gt;\r\n		&lt;/tr&gt;\r\n   &lt;%\r\n   		for(UserPO user:str){\r\n   			%&gt;\r\n   				&lt;tr&gt;\r\n   					&lt;td&gt;&lt;%=user.getUserId() %&gt;&lt;/td&gt;\r\n   					&lt;td&gt;&lt;%=user.getUserName() %&gt;&lt;/td&gt;\r\n   					&lt;td&gt;&lt;%=user.getUserAge() %&gt;&lt;/td&gt;\r\n   				&lt;/tr&gt;\r\n   			&lt;%\r\n   		}\r\n    %&gt;\r\n    &lt;/table&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n</pre>\r\n&nbsp;&nbsp;至此，第一个SpringMVC框架就搭建好了，赶快运行一下，看看效果吧^_^<br/>', null);
INSERT INTO `demoinfo` VALUES ('49', 'springQuartzDemo', '<p style=\"text-indent:2em\"><strong>什么是Quartz？</strong><br/>\r\n&nbsp;&nbsp;Quartz是一个强大的企业级任务调度框架。它允许开发人员灵活地定义触发器的调度时间表，并可对触发器和任务进行关联映射。此外，Quartz提供了调度运行环境的持久化机制，可以保存并会发调度现场，即使系统因故障关闭，任务调度现场数据并不会丢失。Spring中继承并简化了Quartz。\r\n</p>\r\n<p style=\"text-indent:2em\"><strong>如何使用Quartz？</strong><br/>\r\n&nbsp;&nbsp;对于Quartz，我们使用的时候主要是注重两个方面，一个是定时任务的业务，另一个就是Cron表达式。<br/>\r\n&nbsp;&nbsp;1>Quartz存在两种方式来定义定时执行任务，一种是使用QuartJobBean和JobDetailBean；另一种是使用MethodInvokingJobDetailFactoryBean。<br/>\r\n&nbsp;&nbsp;2>Cron表达式包括下面7个字段并区别顺序：秒0-59，分0-59，小时0-23，月内日期1-31，月1-12或者JAN-DEC，周内日期1-7或者SUN-SAT，年(可选字段)留空或者1970-2099并且通过特殊字符表示特殊意义，具体为下：<br/>\r\n&nbsp;&nbsp;&nbsp;斜线(/)字符表示增量值。例如，在秒字段中\"5/15\"代表从第5秒开始，每15秒一次。<br/>\r\n&nbsp;&nbsp;&nbsp;问号(?)字符和字母L字符只有在月内日期和周内日期字段中可用。问号表示这个字段不包含具体值。所以，如果指定月内日期，可以在周内日期字段中插入\"?\"，表示周内日期值无关紧要。这里有个很蛋疼的设定，无关Quartz，而是Spring集成Quartz后，它自己加的一个约束，那就是：日期(1-31)和星期(SUN-SAT)两者，必须有一个是问号(?)，系统在启动的时候，Spring会检查表达式，如果不符合它的规则，就会抛异常。所以在使用的时候这个地方一定要注意，而这个在Linux上执行Cron是没有这个限制的。<br/>\r\n&nbsp;&nbsp;&nbsp;字母L字符是last的缩写。放在月内日期字段中，表示安排在当月最后一天执行。在周内日期字段中，如果\"L\"单独存在,就等于\"7\"，否则代表当月内周内日期的最后一个实例。所以\"0L\"表示安排在当月的最后一个星期日执行。<br/>\r\n&nbsp;&nbsp;&nbsp;字母(W)字符把执行安排在最靠近指定值的工作日。把\"1W\"放在月内日期字段中，表示把执行安排在当月的第一个工作日内。<br/>\r\n&nbsp;&nbsp;&nbsp;井号(#)字符为给定月份指定具体的工作日实例。把\"MON#2\"放在周内日期字段中，表示把任务安排在当月的第二个星期一。<br/>\r\n&nbsp;&nbsp;&nbsp;星号(*)字符是通配字符,表示该字段可以接受任何可能的值、表达式例子。<br/>\r\n&nbsp;&nbsp;&nbsp;例子：<br/>\r\n&nbsp;&nbsp;&nbsp;\"0 0 08 * * ?\" 每天上午8点触发<br/>\r\n&nbsp;&nbsp;&nbsp;\"0 15 10 ? * *\" 每天上午10:15触发<br/>\r\n&nbsp;&nbsp;&nbsp;\"0 15 10 * * ?\" 每天上午10:15触发<br/>\r\n&nbsp;&nbsp;&nbsp;\"0 15 10 ? * 6L 2009-2019\" 2009年至2019年的每月的最后一个星期五上午10:15触发<br/>\r\n&nbsp;&nbsp;&nbsp;\"0 15 10 ? * 6#3\" 每月的第三个星期五上午10:15触发<br/>\r\n</p>', '1:jar包下载地址：<a href=\"http://repo.spring.io\" target=\"_blank\">spring jar包</a>&nbsp;<a href=\"http://download.csdn.net/detail/jiashubing/9405044\" target=\"_blank\">quartz-all-1.6.5.jar包</a><br/>\r\n 2.详细学习参考spring参考手册<a href=\"http://download.csdn.net/detail/jiashubing/9401325\" target=\"_blank\">spring参考手册</a>', '<p style=\"text-indent:2em\">我们使用Spring定时服务Quartz来实现一个每5秒打印一次当前时间的小例子。<br/>\r\n &nbsp;&nbsp;1:定义接口IPrintInfoService类</p>\r\n   <pre  name=\"code\" class=\"java\">\r\npackage demoinfo.spring.quartz;\r\npublic interface IPrintInfoService {\r\n	public void print();\r\n}\r\n   </pre>\r\n<p style=\"text-indent:2em\">2:实现接口类PrintInfoServiceImpl</p>\r\n<pre  name=\"code\" class=\"java\">\r\npackage demoinfo.spring.quartz;\r\n\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Calendar;\r\nimport java.util.Date;\r\n\r\nimport demoinfo.spring.quartz.IPrintInfoService;\r\n\r\npublic class PrintInfoServiceImpl implements IPrintInfoService{\r\n\r\n	public void print() {\r\n		Calendar now = Calendar.getInstance();\r\n		System.out.println(\"现在是北京时间：\" + this.format(now.getTime()));\r\n	}\r\n	\r\n	public String format(Date date){\r\n		SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\r\n		return sdf.format(date);\r\n	}\r\n	\r\n}\r\n\r\n</pre>\r\n<p style=\"text-indent:2em\">3:基于QuartzJobBean的实现类PrintInfoJob</p>\r\n<pre  name=\"code\" class=\"java\">\r\npackage demoinfo.spring.quartz;\r\n\r\nimport org.quartz.JobExecutionContext;\r\nimport org.quartz.JobExecutionException;\r\nimport org.springframework.scheduling.quartz.QuartzJobBean;\r\n\r\nimport demoinfo.spring.quartz.IPrintInfoService;\r\n\r\npublic class PrintInfoJob extends QuartzJobBean{\r\n	\r\n	private IPrintInfoService prinfInfoService = null;\r\n	public IPrintInfoService getPrinfInfoService() {\r\n		return prinfInfoService;\r\n	}\r\n	public void setPrinfInfoService(IPrintInfoService prinfInfoService) {\r\n		this.prinfInfoService = prinfInfoService;\r\n	}\r\n	@Override\r\n	protected void executeInternal(JobExecutionContext arg0)\r\n			throws JobExecutionException {\r\n		this.prinfInfoService.print();\r\n		\r\n	}\r\n}\r\n\r\n</pre>\r\n<p style=\"text-indent:2em\">4:Spring配置文件applicationContext.xml</p>\r\n<pre  name=\"code\" class=\"xml\">\r\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\r\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\r\n	xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \r\n	xmlns:context=\"http://www.springframework.org/schema/context\"\r\n	xmlns:tx=\"http://www.springframework.org/schema/tx\"\r\n	xsi:schemaLocation=\"http://www.springframework.org/schema/beans \r\n				http://www.springframework.org/schema/beans/spring-beans-2.5.xsd\r\n				http://www.springframework.org/schema/context \r\n				http://www.springframework.org/schema/context/spring-context-2.5.xsd\r\n				http://www.springframework.org/schema/tx \r\n				http://www.springframework.org/schema/tx/spring-tx-2.5.xsd\"&gt;\r\n\r\n\r\n	&lt;bean id=\"printInfoService\" class=\"demoinfo.spring.quartz.PrintInfoServiceImpl\" /&gt;\r\n	&lt;!-- 配置一个Job --&gt;\r\n	&lt;bean id=\"printInfoJob\" class=\"org.springframework.scheduling.quartz.JobDetailBean\"&gt;\r\n		&lt;property name=\"jobClass\" value=\"demoinfo.spring.quartz.PrintInfoJob\" /&gt;\r\n		&lt;property name=\"jobDataAsMap\"&gt;\r\n			&lt;map&gt;\r\n				&lt;entry key=\"prinfInfoService\" value-ref=\"printInfoService\"&gt;&lt;/entry&gt;\r\n			&lt;/map&gt;\r\n		&lt;/property&gt;\r\n	&lt;/bean&gt;\r\n\r\n	&lt;!-- 简单的触发器 --&gt;\r\n	&lt;bean id=\"simplePrintInfoTrigger\" class=\"org.springframework.scheduling.quartz.SimpleTriggerBean\"&gt;\r\n		&lt;property name=\"jobDetail\"&gt;\r\n			&lt;ref bean=\"printInfoJob\" /&gt;\r\n		&lt;/property&gt;\r\n		&lt;property name=\"startDelay\"&gt;\r\n			&lt;value&gt;6000&lt;/value&gt;\r\n		&lt;/property&gt;\r\n		&lt;property name=\"repeatInterval\"&gt;\r\n			&lt;value&gt;6000&lt;/value&gt;\r\n		&lt;/property&gt;\r\n	&lt;/bean&gt;\r\n\r\n	&lt;!--复杂的触发器 --&gt;\r\n	&lt;bean id=\"complexPrintInfoTrigger\" class=\"org.springframework.scheduling.quartz.CronTriggerBean\"&gt;\r\n		&lt;property name=\"jobDetail\"&gt;\r\n			&lt;ref bean=\"printInfoJob\" /&gt;\r\n		&lt;/property&gt;\r\n		&lt;property name=\"cronExpression\"&gt;\r\n			&lt;value&gt;00,05,10,15,20,25,30,35,40,45,50,55 * * * * ?&lt;/value&gt;\r\n		&lt;/property&gt;\r\n	&lt;/bean&gt;\r\n\r\n	&lt;!-- spring触发工厂 --&gt;\r\n	&lt;bean class=\"org.springframework.scheduling.quartz.SchedulerFactoryBean\"&gt;\r\n		&lt;property name=\"triggers\"&gt;\r\n			&lt;list&gt;\r\n				&lt;ref bean=\"complexPrintInfoTrigger\" /&gt;\r\n			&lt;/list&gt;\r\n		&lt;/property&gt;\r\n	&lt;/bean&gt;\r\n&lt;/beans&gt;\r\n</pre>\r\n<p style=\"text-indent:2em\">5:测试用例类SpringQuartzDemo</p>\r\n<pre  name=\"code\" class=\"java\">\r\npackage demoinfo.spring.quartz;\r\n\r\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\r\n\r\npublic class SpringQuartzDemo {\r\n\r\n	public static void main(String[] args) {\r\n		System.out.println(\"测试开始......\");\r\n		new ClassPathXmlApplicationContext(\r\n				\"classpath:demoinfo/spring/quartz/applicationContext.xml\");     \r\n		System.out.println(\"测试结束......\");\r\n	}\r\n\r\n}\r\n\r\n</pre>\r\n<p style=\"text-indent:2em\">运行测试用例，可以看到控制台每过5秒钟就打印一次时间信息。</p>', null);
INSERT INTO `demoinfo` VALUES ('50', 'springOrmDemo', '<p style=\"text-indent:2em\"><strong>什么是Quartz？</strong><br/>\r\n&nbsp;&nbsp;Quartz是一个强大的企业级任务调度框架。它允许开发人员灵活地定义触发器的调度时间表，并可对触发器和任务进行关联映射。此外，Quartz提供了调度运行环境的持久化机制，可以保存并会发调度现场，即使系统因故障关闭，任务调度现场数据并不会丢失。Spring中继承并简化了Quartz。\r\n</p>\r\n<p style=\"text-indent:2em\">\r\n<strong>什么是ORM？</strong><br/>\r\n&nbsp;&nbsp;ORM[Object-Relation-Mapping]对象关系映射。面向对象的OO编程已经成为企业级开发中主流开发方法，而关系型数据库也成为企业级应用环境中永久存放数据的主流数据存储系统。同样的数据一个是在实际编程中一Object面向对象方式体现，而另外一种就是把这种内存对象持久化存储到硬盘文件上。<br/>\r\n&nbsp;&nbsp;内存中的对象之间存在关联和继承关系，而在数据库中，关系数据无法直接表达多对多关联和继承关系。因此，对象-关系映射(ORM)系统一般以中间件的形式存在，主要实现程序对象到关系数据库数据的映射。<br/>\r\n&nbsp;&nbsp;目前主流的ORM框架有JPA,JDO,Hibernate,Mybatis等</p>\r\n<p style=\"text-indent:2em\">\r\n<strong>Spring如何支持各种ORM框架？</strong><br/>\r\n&nbsp;&nbsp;Spring支持ORM框架的方法有很多，通常，在Spring环境下使用这些ORM框架时，都会通过一个Template来使用。<br/>\r\n&nbsp;&nbsp;例如Hibernate，在使用Hibernate时（没有在Spring环境下使用Hibernate），会使用到SessionFactory。用一个工具类SessionFactoryUtil，来获取到SessionFactory。\r\n在Spring环境下， 我们将SessionFactory作为一个依赖注入到Dao层的Bean中。</p>\r\n\r\n<p style=\"text-indent:2em\">\r\n<strong>Spring整合ORM框架时，事务管理用哪个类?</strong><br/>\r\n&nbsp;&nbsp;Spring整合ORM框架时事务管理用的是相应ORM框架的事务管理器类如Hibernate对应于HibernateTransactionManager，JPA对应于JpaTransactionManager等。整合过后可配置由Spring控制事务的提交。事务提交前执行两个更新操作。其工作原理是采用AOP编程的原理来进行控制。\r\n</p>', '1:jar包下载地址：<a href=\"http://repo.spring.io\" target=\"_blank\">spring jar包</a><br/>\r\n 2.详细学习参考spring参考手册<a href=\"http://download.csdn.net/detail/jiashubing/9401325\" target=\"_blank\">spring参考手册</a>', '<p style=\"text-indent:2em\">小编编写当前系统的时候，一开始只使用到了Hibernate的配置文件，后来添加了Spring框架的时候很方便的把Hibernate的配置文件整合到了Spring配置文件中，来对比下小编这前后的写法吧。<br/>\r\n &nbsp;&nbsp;未添加Spring框架时，hibernate.cfg.xml的配置是：</p>\r\n <pre  name=\"code\" class=\"xml\">\r\n &lt;?xml version=\'1.0\' encoding=\'UTF-8\'?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n          \"-//Hibernate/Hibernate Configuration DTD 3.0//EN\"\r\n          \"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd\"&gt;\r\n\r\n&lt;!-- Generated by MyEclipse Hibernate Tools.                   --&gt;\r\n&lt;hibernate-configuration&gt;\r\n\r\n    &lt;session-factory&gt;\r\n        &lt;property name=\"dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n        &lt;property name=\"connection.url\"&gt;jdbc:mysql://localhost:3306/myhttp?useUnicode=true&amp;characterEncoding=gbk&lt;/property&gt;\r\n        &lt;property name=\"connection.username\"&gt;root&lt;/property&gt;\r\n        &lt;property name=\"connection.password\"&gt;19921002&lt;/property&gt;\r\n        &lt;property name=\"connection.driver_class\"&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n        \r\n		&lt;!-- &lt;property name=\"hibernate.current_session_context_class\"&gt;thread&lt;/property&gt; --&gt;\r\n		&lt;property name=\"cache.provider_class\"&gt;org.hibernate.cache.NoCacheProvider&lt;/property&gt;\r\n		&lt;property name=\"show_sql\"&gt;false&lt;/property&gt;\r\n		&lt;property name=\"format_sql\"&gt;true&lt;/property&gt;\r\n		&lt;property name=\"hbm2ddl.auto\"&gt;update&lt;/property&gt;\r\n        \r\n    	&lt;mapping resource=\"demoinfo/hibernate/relationship/pojo/User.hbm.xml\" /&gt;  \r\n    	&lt;mapping resource=\"demoinfo/hibernate/relationship/pojo/Goods.hbm.xml\" /&gt;  \r\n    	\r\n    	&lt;mapping class=\"demoinfo.hibernate.relationship.pojo.PersonInform\" /&gt;  \r\n    	&lt;mapping class=\"demoinfo.hibernate.relationship.pojo.Person\" /&gt;  \r\n    	&lt;mapping class=\"demoinfo.hibernate.relationship.pojo.ClassRoom\" /&gt;  \r\n    	&lt;mapping class=\"demoinfo.hibernate.relationship.pojo.Student\" /&gt;  \r\n    	&lt;mapping class=\"maintain.hbm.DemoInfo\" /&gt; \r\n    &lt;/session-factory&gt;\r\n\r\n&lt;/hibernate-configuration&gt;\r\n </pre>\r\n <p style=\"text-indent:2em\">\r\n 添加Spring框架后，在保留hibernate.cfg.xml配置的基础上添加了applicationContext.xml配置文件，将SessionFactory作为一个依赖注入到文件中。\r\n </p>\r\n   <pre  name=\"code\" class=\"xml\">\r\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\r\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\r\n	xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:tx=\"http://www.springframework.org/schema/tx\"\r\n	xmlns:aop=\"http://www.springframework.org/schema/aop\" xmlns:p=\"http://www.springframework.org/schema/p\"\r\n	xmlns:context=\"http://www.springframework.org/schema/context\"\r\n	xsi:schemaLocation=\"http://www.springframework.org/schema/beans \r\n	http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n	http://www.springframework.org/schema/context   \r\n     http://www.springframework.org/schema/context/spring-context-3.0.xsd   \r\n     http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd \r\n     http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd\"\r\n     default-autowire=\"byName\"&gt;\r\n\r\n	&lt;!-- 用注解方式注入bean --&gt;\r\n	&lt;context:annotation-config /&gt;\r\n	&lt;!-- 支持 @Transactional 标记 --&gt;\r\n	&lt;tx:annotation-driven /&gt;\r\n	&lt;context:component-scan base-package=\"demoinfo\" /&gt;\r\n\r\n	&lt;!-- 配置SessionFactory --&gt;\r\n	&lt;bean id=\"sessionFactory\"\r\n		class=\"org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean\"&gt;\r\n		&lt;property name=\"configLocations\"&gt;\r\n			&lt;value&gt;classpath:hibernate.cfg.xml&lt;/value&gt;\r\n		&lt;/property&gt;\r\n	&lt;/bean&gt;\r\n\r\n	&lt;!-- 配置事务管理器 --&gt;\r\n	&lt;bean id=\"transactionManager\"\r\n		class=\"org.springframework.orm.hibernate3.HibernateTransactionManager\"&gt;\r\n		&lt;property name=\"sessionFactory\"&gt;\r\n			&lt;ref bean=\"sessionFactory\" /&gt;  &lt;!-- transactionManager的SetSessionFactory()方法的参数为SessionFactory --&gt;\r\n		&lt;/property&gt;\r\n	&lt;/bean&gt;\r\n\r\n	&lt;!-- 那些类那些方法使用事务 --&gt;\r\n	&lt;aop:config&gt;\r\n		&lt;aop:pointcut id=\"allManagerMethod\"\r\n			expression=\"execution(* demoinfo.hibernate.crud.CrudServiceImpl.*(..)) or execution(* demoinfo.hibernate.relationship.RelationShipServiceImpl.*(..))\" /&gt;\r\n		&lt;aop:advisor pointcut-ref=\"allManagerMethod\" advice-ref=\"txAdvice\" /&gt;\r\n	&lt;/aop:config&gt;\r\n\r\n	&lt;!-- 事务的传播特性 --&gt;\r\n	&lt;tx:advice id=\"txAdvice\" transaction-manager=\"transactionManager\"&gt;\r\n		&lt;tx:attributes&gt;\r\n			&lt;tx:method name=\"add*\" propagation=\"REQUIRED\" /&gt;\r\n			&lt;tx:method name=\"delete*\" propagation=\"REQUIRED\" /&gt;\r\n			&lt;tx:method name=\"update*\" propagation=\"REQUIRED\" /&gt;\r\n			&lt;tx:method name=\"*\" propagation=\"REQUIRED\" read-only=\"true\" /&gt;\r\n		&lt;/tx:attributes&gt;\r\n	&lt;/tx:advice&gt;\r\n\r\n&lt;/beans&gt;\r\n\r\n   </pre>', null);
INSERT INTO `demoinfo` VALUES ('51', 'webServiceCxf', '<p style=\"text-indent:2em\"><strong>什么是CXF?</strong><br/>\r\n&nbsp;&nbsp;CXF是apache旗下的开源框架，由Celtix + XFire这两门经典的框架合成，是一套非常流行的web service框架。<br/>\r\n&nbsp;&nbsp;它允许创建高性能和可扩展的服务，您可以将这样的服务部署在 Tomcat 和基于 Spring 的轻量级容器中，以及部署在更高级的服务器上。\r\n</p>\r\n<p style=\"text-indent:2em\"><strong>主要搭建的步骤：</strong><br/>\r\n&nbsp;&nbsp;1、 到apache的cxf官网上下载相应的jar包。<br/>\r\n&nbsp;&nbsp;2、 建立一个java工程、将下载的jar包引入到项目中。<br/>\r\n&nbsp;&nbsp;3、 创建服务端功能接口。<br/>\r\n&nbsp;&nbsp;4、 创建实现服务端功能接口的具体类。<br/>\r\n&nbsp;&nbsp;5、 发布服务接口。<br/>\r\n&nbsp;&nbsp;6、 创建测试类、充当客户端调用服务端提供的功能、获取服务调用服务端提供的服务（具体点就是调用服务端提供的方法）。</p>', ' 1:jar包下载地址：\r\n <a href=\"http://cxf.apache.org/download.html\" target=\"_blank\">CXF官网下载</a>&nbsp;或者直接使用\r\n <a href=\"http://pan.baidu.com/s/1eRjOvz8\" target=\"_blank\">CXF+WebService的jar包合集</a>（jar包介绍这里就不嗦了）', '<p style=\"text-indent:2em\">1、创建java项目、引入jar包、方便起见就直接把jar包（除endorsed文件夹下的之外）全部引入即可下载之后的包中我们还可以发现有自带的spring的包、这样我们在使用spring集成它的时候就方便很多了、这里先不提集成。<br/>\r\n&nbsp;&nbsp;2、创建服务端接口：<br/>\r\n&nbsp;&nbsp;注意别忘了在服务端接口类级别上加上@WebService ! <br/>\r\n&nbsp;&nbsp;HelloWebService代码：</p>\r\n<pre name=\"code\" class=\"java\">\r\npackage demoinfo.webservice.cxf;\r\n\r\nimport javax.jws.WebService;  \r\n@WebService  \r\npublic interface HelloWebService {  \r\n    public String sayHello(String name);  \r\n} \r\n\r\n</pre>\r\n&nbsp;&nbsp;3、创建实现服务端功能接口的具体类――HelloWebServiceImpl代码：<br/>\r\n<pre name=\"code\" class=\"java\">\r\npackage demoinfo.webservice.cxf;\r\n\r\nimport javax.jws.WebService;  \r\n@WebService(endpointInterface=\"demoinfo.webservice.cxf.HelloWebService\")  \r\npublic class HelloWebServiceImpl implements HelloWebService{  \r\n    public String sayHello(String name) {  \r\n        return \"hello \" + name;  \r\n    }  \r\n}  \r\n</pre>\r\n&nbsp;&nbsp;4、发布服务接口――WebServiceServer代码：<br/>\r\n<pre name=\"code\" class=\"java\">\r\npackage demoinfo.webservice.cxf;\r\n\r\nimport javax.xml.ws.Endpoint;\r\n\r\nimport org.apache.cxf.jaxws.JaxWsServerFactoryBean;  \r\nimport demoinfo.webservice.cxf.HelloWebService;  \r\nimport demoinfo.webservice.cxf.HelloWebServiceImpl;  \r\n  \r\npublic class WebServiceServer {  \r\n  \r\n    public WebServiceServer(){  \r\n        //方法一：  \r\n        //创建webService接口  \r\n        JaxWsServerFactoryBean factory = new JaxWsServerFactoryBean();  \r\n          \r\n        //设置地址  \r\n        factory.setAddress(\"http://localhost:8083/hellowebservice\");  \r\n          \r\n        //注册webService  \r\n        factory.setServiceClass(HelloWebService.class);  \r\n        factory.setServiceBean(new HelloWebServiceImpl());  \r\n          \r\n        //创建Service  \r\n        factory.create();  \r\n          \r\n        //方法二：  \r\n//        Endpoint.publish(\"http://localhost:8083/hellowebservice\", new HelloWebServiceImpl());  \r\n    }  \r\n      \r\n    public static void main(String[] args) {  \r\n        new WebServiceServer();  \r\n        System.out.println(\"server is ready...\");  \r\n        try {  \r\n            Thread.sleep(1000*300);  \r\n        } catch (InterruptedException e) {  \r\n            e.printStackTrace();  \r\n        }  \r\n        System.out.println(\"server exit...\");  \r\n        System.exit(0);  \r\n    }  \r\n}  \r\n\r\n</pre>\r\n&nbsp;&nbsp;5、通过浏览器访问地址：http://localhost:8083/hellowebservice?WSDL 若有结果则发布成功！<br/>\r\n&nbsp;&nbsp;6、测试类――WebServiceClient代码（先将服务端启动或者发布）：<br/>\r\n<pre name=\"code\" class=\"java\">\r\npackage demoinfo.webservice.cxf;\r\n\r\nimport org.apache.cxf.jaxws.JaxWsProxyFactoryBean;  \r\n\r\nimport demoinfo.webservice.cxf.HelloWebService;  \r\n  \r\npublic class WebServiceClient {  \r\n    public static void main(String[] args) {  \r\n        //创建Service代理工厂  \r\n        JaxWsProxyFactoryBean factory = new JaxWsProxyFactoryBean();  \r\n          \r\n        //设置地址  \r\n        factory.setAddress(\"http://localhost:8083/hellowebservice\");  \r\n          \r\n        //注册接口  \r\n        factory.setServiceClass(HelloWebService.class);  \r\n          \r\n        //获取bean  \r\n        HelloWebService hello = (HelloWebService) factory.create();  \r\n          \r\n        //输出结果  \r\n        System.out.println(\"invoking service...\");  \r\n        System.out.println(hello.sayHello(\"Hello WebService !\"));  \r\n    }  \r\n}\r\n\r\n</pre>', null);
INSERT INTO `demoinfo` VALUES ('52', 'webServiceXstream', '<p style=\"text-indent:2em\"><strong>XStream概念：</strong><br/>\r\n&nbsp;&nbsp;XStream是一个序列化对象为XML或XML转换为对象的库。\r\n</p>\r\n<p style=\"text-indent:2em\"><strong>特点：</strong><br/>\r\n&nbsp;&nbsp;简化的API;<br/>\r\n&nbsp;&nbsp;无映射文件;<br/>\r\n&nbsp;&nbsp;高性能,低内存占用;<br/>\r\n&nbsp;&nbsp;整洁的XML;<br/>\r\n&nbsp;&nbsp;不需要修改对象;<br/>\r\n&nbsp;&nbsp;提供序列化接口;<br/>\r\n&nbsp;&nbsp;自定义转换类型策略;<br/>\r\n&nbsp;&nbsp;详细的错误诊断;<br/>\r\n&nbsp;&nbsp;快速输出格式;当前支持 JSON 和 morphing.</p>\r\n\r\n<p style=\"text-indent:2em\"><strong>使用场景：</strong><br/>\r\n&nbsp;&nbsp;Transport&nbsp;&nbsp;转换<br/>\r\n&nbsp;&nbsp;Persistence&nbsp;&nbsp;持久化对象<br/>\r\n&nbsp;&nbsp;Configuration&nbsp;&nbsp;配置<br/>\r\n&nbsp;&nbsp;Unit Tests&nbsp;&nbsp;单元测试</p>\r\n\r\n<p style=\"text-indent:2em\"><strong>限制：</strong><br/>\r\n&nbsp;&nbsp;enhanced 模式: JDK版本 不能&lt;1.5.<br/>\r\n&nbsp;&nbsp;虽然预处理注解是安全的,但自动侦查注解可能发生竞争条件.\r\n</p>', '1:jar包下载地址：\r\n <a href=\"http://xstream.codehaus.org/\" target=\"_blank\">XStream官网下载</a>&nbsp;或者直接使用\r\n <a href=\"http://download.csdn.net/detail/jiashubing/9413416\" target=\"_blank\">xstream-1.4.2.jar</a>（jar包介绍这里就不嗦了）', '<p style=\"text-indent:2em\">导入jar包后，创建javaBean类，本例中使用Person类</p>\r\n<pre name=\"code\" class=\"java\">\r\npackage demoinfo.webservice.xstream;\r\n\r\npublic class Person {\r\n	private String name;\r\n	private String sayHello;\r\n	public Person(String name,String sayHello){\r\n		this.name = name;\r\n		this.sayHello = sayHello;\r\n	}\r\n	public String getName() {\r\n		return name;\r\n	}\r\n	public void setName(String name) {\r\n		this.name = name;\r\n	}\r\n	public String getSayHello() {\r\n		return sayHello;\r\n	}\r\n	public void setSayHello(String sayHello) {\r\n		this.sayHello = sayHello;\r\n	}\r\n\r\n}\r\n\r\n</pre>\r\n&nbsp;&nbsp;将JavaBean转换成xml的序列化测试类BeanToXmlTest，代码如下：<br/>\r\n<pre name=\"code\" class=\"java\">\r\npackage demoinfo.webservice.xstream;\r\n\r\nimport com.thoughtworks.xstream.XStream;\r\nimport com.thoughtworks.xstream.io.xml.DomDriver;\r\n\r\npublic class BeanToXmlTest {\r\n	public static void main(String[] args) {\r\n		//XStream初始化\r\n		XStream xstream = new XStream(new DomDriver()); \r\n		//设置节点对应的实体类\r\n		xstream.alias(\"person\", Person.class);\r\n		Person person = new Person(\"Tom\",\"Hello , I am Tom !\");\r\n		//将JavaBean转换成xml\r\n		String xml = xstream.toXML(person);\r\n		System.out.println(xml);\r\n	}\r\n}\r\n\r\n</pre>\r\n&nbsp;&nbsp;将xml转换成JavaBean的反序列化类XmlToBeanTest，代码如下：<br/>\r\n<pre name=\"code\" class=\"java\">\r\npackage demoinfo.webservice.xstream;\r\n\r\nimport com.thoughtworks.xstream.XStream;\r\nimport com.thoughtworks.xstream.io.xml.DomDriver;\r\n\r\npublic class XmlToBeanTest {\r\n	public static void main(String[] args) {\r\n		//XStream初始化\r\n		XStream xstream = new XStream(new DomDriver()); \r\n		//设置节点对应的实体类\r\n		xstream.alias(\"person\", Person.class);\r\n		String str =\"<person>\"+\r\n								\"<name>Bob</name>\"+\r\n								\"<sayHello>Hello , I am Bob !</sayHello>\"+\r\n						  \"</person>\";\r\n		//将xml转换成JavaBean\r\n		Person person = (Person)xstream.fromXML(str);\r\n		System.out.println(person.getSayHello());\r\n	}\r\n}\r\n</pre>', null);
INSERT INTO `demoinfo` VALUES ('53', 'webServiceHttpClient', '<p style=\"text-indent:2em\"><strong>什么是HttpClient？</strong><br/>\r\n&nbsp;&nbsp;HttpClient是Apache Jakarta Common下的子项目，用来提供高效的、最新的、功能丰富的支持HTTP协议的客户端编程工具包，并且它支持HTTP协议最新的版本和建议。<br/>\r\n&nbsp;&nbsp;HttpClient相比传统JDK自带的URLConnection，增加了易用性和灵活性，它不仅是客户端发送Http请求变得容易，而且也方便了开发人员测试接口（基于Http协议的），即提高了开发的效率，也方便提高代码的健壮性。\r\n</p>', ' 1:jar包下载地址：\r\n <a href=\"http://download.csdn.net/detail/jiashubing/9414107\" target=\"_blank\">HttpClient所需jar包</a>', '<p style=\"text-indent:2em\">本例实现使用HttpClient请求webService接口，导入jar包后，直接看测试类HttpClientTest，代码如下：</p>\r\n<pre name=\"code\" class=\"java\">\r\npackage demoinfo.webservice.httpclient;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport org.apache.http.HttpResponse;\r\nimport org.apache.http.client.entity.UrlEncodedFormEntity;\r\nimport org.apache.http.client.methods.HttpPost;\r\nimport org.apache.http.impl.client.DefaultHttpClient;\r\nimport org.apache.http.message.BasicNameValuePair;\r\nimport org.apache.http.protocol.HTTP;\r\nimport org.apache.http.util.EntityUtils;\r\n\r\npublic class HttpClientTest {\r\n\r\n	@SuppressWarnings(\"deprecation\")\r\n	public static void main(String[] args){\r\n		try {  \r\n			final String SERVER_URL = \"http://webservice.webxml.com.cn/WebServices/MobileCodeWS.asmx/getMobileCodeInfo\"; // 定义需要获取的内容来源地址  \r\n			HttpPost request = new HttpPost(SERVER_URL);    	//构建HttpPost对象\r\n			List&lt;BasicNameValuePair&gt; params = new ArrayList&lt;BasicNameValuePair&gt;();  	//键值对List\r\n			params.add(new BasicNameValuePair(\"mobileCode\", \"18814868249\"));   //（注意这里的号码必须大于6位）  \r\n			params.add(new BasicNameValuePair(\"userId\", \"\"));   \r\n			request.setEntity(new UrlEncodedFormEntity(params, HTTP.UTF_8));   	 //将传入的参数转换为UTF-8编码，封装到request\r\n			HttpResponse httpResponse = new DefaultHttpClient().execute(request);    	 //提交HttpClient请求\r\n			if (httpResponse.getStatusLine().getStatusCode() != 404)  \r\n			{  \r\n				String result = EntityUtils.toString(httpResponse.getEntity());  	//获取返回值\r\n				System.out.println(result);   \r\n			}  \r\n		} catch (Exception e) {  \r\n			System.out.println(\"Error\");  \r\n			e.printStackTrace();  \r\n		}  \r\n	}  \r\n}\r\n\r\n</pre>', null);
INSERT INTO `demoinfo` VALUES ('54', 'webServiceSoap', '&nbsp;&nbsp;Web Service、WSDL、SOAP、HTTP的概念存在诸多联系，在不同的产品中体现的概念也不一样。\r\n<p style=\"text-indent:2em\"><strong>WebService 和 WSDL的关系？</strong><br/>\r\n&nbsp;&nbsp;Web Service提供一种可被调用的服务，该服务必须通过WSDL定义接口，接口描述了WEB SERVICE 的逻辑定义（types，messages，portTypes）和传输协议（bindings，services）。客户端通过WSDL定义的访问方式和逻辑结构调用该服务。\r\n</p>\r\n<p style=\"text-indent:2em\"><strong>Web Service和SOAP以及HTTP的关系？</strong><br/>\r\n&nbsp;&nbsp;SOAP是简单对象访问协议，定义了一种跨平台的分布式系统通信协议。SOAP需要绑定到更低层次的传输协议（比如， HTTP,RMI,JMS）等。最常用的是HTTP绑定，所以也经常把SOAP的概念和HTTP混在一起说。<br/>\r\n&nbsp;&nbsp;理论上通过WSDL描述的Web Service可以有很多种不同的绑定，但是实际上经常使用SOAP HTTP绑定 （就是采用“SOAP通信协议的HTTP绑定格式”来绑定）。\r\n</p>', ' 该程序不需要额外的jar包', '<p style=\"text-indent:2em\">\r\n本例实现使用Soap请求webService接口，直接看测试类SoapTest，代码如下：</p>\r\n<pre name=\"code\" class=\"java\">\r\nimport java.io.InputStream;\r\nimport java.io.OutputStream;\r\nimport java.io.OutputStreamWriter;\r\nimport java.net.URL;\r\nimport java.net.URLConnection;\r\nimport javax.xml.parsers.DocumentBuilder;\r\nimport javax.xml.parsers.DocumentBuilderFactory;\r\nimport org.w3c.dom.Document;\r\nimport org.w3c.dom.Node;\r\nimport org.w3c.dom.NodeList;\r\n\r\n/**\r\n * @ClassName WeatherUtils\r\n * @Description TODO 天气信息数据来源(http://www.webxml.com.cn/)\r\n * 根据城市或地区名称查询获得未来三天内天气情况、现在的天气实况、天气和生活指数:\r\n * 调用方法如下：输入参数：theCityName = 城市中文名称(国外城市可用英文)或城市代码(不输入默认为上海市)，如：上海 或 58367，如有\r\n * 城市名称重复请使用城市代码查询(可通过 getSupportCity 或 getSupportDataSet 获得)；返回数据： 一个一维数组 String(22)，共有\r\n * 23个元素。String(0) 到 String(4)：省份，城市，城市代码，城市图片名称，最后更新时间。String(5) 到 String(11)：当天的 气温，\r\n * 概况，风向和风力，天气趋势开始图片名称(以下称：图标一)，天气趋势结束图片名称(以下称：图标二)，现在的天气实况，天气和生活\r\n * 指数。String(12) 到String(16)：第二天的 气温，概况，风向和风力，图标一，图标二。String(17) 到 String(21)：第三天的 气温，\r\n * 概况，风向和风力，图标一，图标二。String(22) 被查询的城市或地区的介绍\r\n */\r\npublic class SoapTest {\r\n	/**\r\n	 * 获取SOAP的请求头，并替换其中的标志符号为用户输入的城市\r\n	 * \r\n	 * @param city\r\n	 *            用户输入的城市名称\r\n	 * @return 客户将要发送给服务器的SOAP请求\r\n	 */\r\n	private static String getSoapRequest(String city) {\r\n		StringBuilder sb = new StringBuilder();\r\n		sb.append(\"&lt;?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?&gt;\"\r\n					+ \"&lt;soap:Envelope xmlns:xsi=\\\"http://www.w3.org/2001/XMLSchema-instance\\\" \"\r\n					+ \"xmlns:xsd=\\\"http://www.w3.org/2001/XMLSchema\\\" \"\r\n					+ \"xmlns:soap=\\\"http://schemas.xmlsoap.org/soap/envelope/\\\"&gt;\"\r\n					+ \"&lt;soap:Body&gt;    &lt;getWeather xmlns=\\\"http://WebXml.com.cn/\\\"&gt;\"\r\n					+ \"&lt;theCityCode&gt;\" + city\r\n					+ \"&lt;/theCityCode&gt;    &lt;/getWeather&gt;\"\r\n					+ \"&lt;/soap:Body&gt;&lt;/soap:Envelope&gt;\");\r\n		return sb.toString();\r\n	}\r\n\r\n	/**\r\n	 * 用户把SOAP请求发送给服务器端，并返回服务器点返回的输入流\r\n	 * \r\n	 * @param city\r\n	 *            用户输入的城市名称\r\n	 * @return 服务器端返回的输入流，供客户端读取\r\n	 * @throws Exception\r\n	 */\r\n	private static InputStream getSoapInputStream(String city) throws Exception {\r\n		try {\r\n			String soap = getSoapRequest(city);\r\n			if (soap == null) {\r\n				return null;\r\n			}\r\n			URL url = new URL(\r\n					\"http://www.webxml.com.cn/WebServices/WeatherWS.asmx\");\r\n			URLConnection conn = url.openConnection();\r\n			conn.setUseCaches(false);\r\n			conn.setDoInput(true);\r\n			conn.setDoOutput(true);\r\n\r\n			conn.setRequestProperty(\"Content-Length\", Integer.toString(soap\r\n					.length()));\r\n			conn.setRequestProperty(\"Content-Type\", \"text/xml; charset=utf-8\");\r\n			conn.setRequestProperty(\"SOAPAction\",\r\n					\"http://WebXml.com.cn/getWeather\");\r\n\r\n			OutputStream os = conn.getOutputStream();\r\n			OutputStreamWriter osw = new OutputStreamWriter(os, \"utf-8\");\r\n			osw.write(soap);\r\n			osw.flush();\r\n			osw.close();\r\n\r\n			InputStream is = conn.getInputStream();\r\n			return is;\r\n		} catch (Exception e) {\r\n			e.printStackTrace();\r\n			return null;\r\n		}\r\n	}\r\n\r\n	/**\r\n	 * 对服务器端返回的XML进行解析\r\n	 * \r\n	 * @param city\r\n	 *            用户输入的城市名称\r\n	 * @return 字符串 用#分割\r\n	 */\r\n	public static String getWeather(String city) {\r\n		try {\r\n			Document doc;\r\n			DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n			dbf.setNamespaceAware(true);\r\n			DocumentBuilder db = dbf.newDocumentBuilder();\r\n			InputStream is = getSoapInputStream(city);\r\n			doc = db.parse(is);\r\n			NodeList nl = doc.getElementsByTagName(\"string\");\r\n			StringBuffer sb = new StringBuffer();\r\n			for (int count = 0; count < nl.getLength(); count++) {\r\n				Node n = nl.item(count);\r\n				if(n.getFirstChild().getNodeValue().equals(\"查询结果为空！\")) {\r\n					sb = new StringBuffer(\"#\") ;\r\n					break ;\r\n				}\r\n				sb.append(n.getFirstChild().getNodeValue() + \"#\");\r\n			}\r\n			is.close();\r\n			return sb.toString();\r\n		} catch (Exception e) {\r\n			e.printStackTrace();\r\n			return null;\r\n		}\r\n	}\r\n	/**\r\n	 * 测试\r\n	 * @param args\r\n	 * @throws Exception\r\n	 */\r\n	public static void main(String[] args) throws Exception {\r\n		String weatherInfo = getWeather(\"北京\");\r\n		System.out.println(weatherInfo);\r\n	}\r\n}\r\n\r\n</pre>', null);

-- ----------------------------
-- Table structure for feedback
-- ----------------------------
DROP TABLE IF EXISTS `feedback`;
CREATE TABLE `feedback` (
  `id` int(11) NOT NULL auto_increment,
  `addTime` datetime default NULL,
  `title` varchar(200) default NULL,
  `content` varchar(800) default NULL,
  `reply` varchar(800) default NULL,
  `state` int(11) default NULL,
  `username` varchar(50) default NULL,
  `ip` varchar(20) default NULL,
  `im` varchar(50) default NULL,
  `phone` varchar(50) default NULL,
  `email` varchar(50) default NULL,
  `website` varchar(50) default NULL,
  `replyId` int(11) default NULL,
  PRIMARY KEY  (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=9 DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of feedback
-- ----------------------------

-- ----------------------------
-- Table structure for hibernate_goods_info
-- ----------------------------
DROP TABLE IF EXISTS `hibernate_goods_info`;
CREATE TABLE `hibernate_goods_info` (
  `goods_id` int(11) NOT NULL auto_increment,
  `goods_goodsname` varchar(255) default NULL,
  `goods_userId` int(11) default NULL,
  PRIMARY KEY  (`goods_id`)
) ENGINE=InnoDB DEFAULT CHARSET=gbk;

-- ----------------------------
-- Records of hibernate_goods_info
-- ----------------------------
INSERT INTO `hibernate_goods_info` VALUES ('1', '暖宝宝', '1');
INSERT INTO `hibernate_goods_info` VALUES ('2', '皮大衣', '2');
INSERT INTO `hibernate_goods_info` VALUES ('3', '雪地靴', '3');
INSERT INTO `hibernate_goods_info` VALUES ('4', '哈哈哈', '1');

-- ----------------------------
-- Table structure for hibernate_relationship_classroom
-- ----------------------------
DROP TABLE IF EXISTS `hibernate_relationship_classroom`;
CREATE TABLE `hibernate_relationship_classroom` (
  `roomId` int(11) NOT NULL auto_increment,
  `roomName` varchar(255) default NULL,
  PRIMARY KEY  (`roomId`)
) ENGINE=InnoDB DEFAULT CHARSET=gbk;

-- ----------------------------
-- Records of hibernate_relationship_classroom
-- ----------------------------
INSERT INTO `hibernate_relationship_classroom` VALUES ('1', '英语教室');
INSERT INTO `hibernate_relationship_classroom` VALUES ('2', '数学教室');
INSERT INTO `hibernate_relationship_classroom` VALUES ('3', '语文教室');
INSERT INTO `hibernate_relationship_classroom` VALUES ('4', '电脑教室');

-- ----------------------------
-- Table structure for hibernate_relationship_person
-- ----------------------------
DROP TABLE IF EXISTS `hibernate_relationship_person`;
CREATE TABLE `hibernate_relationship_person` (
  `personCode` varchar(255) NOT NULL,
  `personName` varchar(255) default NULL,
  PRIMARY KEY  (`personCode`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of hibernate_relationship_person
-- ----------------------------
INSERT INTO `hibernate_relationship_person` VALUES ('0003', '001');
INSERT INTO `hibernate_relationship_person` VALUES ('0004', 'Lucy');
INSERT INTO `hibernate_relationship_person` VALUES ('0005', '赵云');

-- ----------------------------
-- Table structure for hibernate_relationship_personinform
-- ----------------------------
DROP TABLE IF EXISTS `hibernate_relationship_personinform`;
CREATE TABLE `hibernate_relationship_personinform` (
  `id` int(11) NOT NULL auto_increment,
  `age` int(11) default NULL,
  `mailBox` varchar(255) default NULL,
  `personCode` varchar(255) NOT NULL,
  PRIMARY KEY  (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=gbk;

-- ----------------------------
-- Records of hibernate_relationship_personinform
-- ----------------------------
INSERT INTO `hibernate_relationship_personinform` VALUES ('12', '54', '1234567@qq.com', '0003');
INSERT INTO `hibernate_relationship_personinform` VALUES ('18', '23', '1234567@qq.com', '0004');
INSERT INTO `hibernate_relationship_personinform` VALUES ('19', '44', '1234567@qq.com', '0005');

-- ----------------------------
-- Table structure for hibernate_relationship_student
-- ----------------------------
DROP TABLE IF EXISTS `hibernate_relationship_student`;
CREATE TABLE `hibernate_relationship_student` (
  `id` int(11) NOT NULL auto_increment,
  `studentName` varchar(255) default NULL,
  `age` int(11) default NULL,
  `roomId` int(11) NOT NULL,
  PRIMARY KEY  (`id`),
  KEY `FKE21E3101BFCE6B5C` (`roomId`),
  CONSTRAINT `FKE21E3101BFCE6B5C` FOREIGN KEY (`roomId`) REFERENCES `hibernate_relationship_classroom` (`roomId`)
) ENGINE=InnoDB DEFAULT CHARSET=gbk;

-- ----------------------------
-- Records of hibernate_relationship_student
-- ----------------------------
INSERT INTO `hibernate_relationship_student` VALUES ('1', 'Bob', '20', '1');
INSERT INTO `hibernate_relationship_student` VALUES ('2', 'Tom', '21', '1');
INSERT INTO `hibernate_relationship_student` VALUES ('3', 'Jack', '22', '1');
INSERT INTO `hibernate_relationship_student` VALUES ('4', '小明', '20', '2');
INSERT INTO `hibernate_relationship_student` VALUES ('5', '小红', '21', '2');
INSERT INTO `hibernate_relationship_student` VALUES ('6', '小花', '19', '2');
INSERT INTO `hibernate_relationship_student` VALUES ('7', '小胖', '20', '2');
INSERT INTO `hibernate_relationship_student` VALUES ('8', '小薇', '20', '3');
INSERT INTO `hibernate_relationship_student` VALUES ('9', '小哈', '21', '4');
INSERT INTO `hibernate_relationship_student` VALUES ('10', '小小', '23', '4');

-- ----------------------------
-- Table structure for hibernate_user_info
-- ----------------------------
DROP TABLE IF EXISTS `hibernate_user_info`;
CREATE TABLE `hibernate_user_info` (
  `user_id` int(255) NOT NULL auto_increment,
  `user_username` varchar(255) default NULL,
  `user_password` varchar(255) default NULL,
  PRIMARY KEY  (`user_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of hibernate_user_info
-- ----------------------------
INSERT INTO `hibernate_user_info` VALUES ('1', 'admin', 'admin');
INSERT INTO `hibernate_user_info` VALUES ('2', 'Tom', 'admin');
INSERT INTO `hibernate_user_info` VALUES ('3', '诸葛亮', 'admin');
INSERT INTO `hibernate_user_info` VALUES ('4', '刘备', 'admin');
INSERT INTO `hibernate_user_info` VALUES ('5', 'Lili', 'admin');
INSERT INTO `hibernate_user_info` VALUES ('6', 'Tom', 'admin');
INSERT INTO `hibernate_user_info` VALUES ('7', 'Jack', 'admin');
INSERT INTO `hibernate_user_info` VALUES ('8', 'Lucy', 'admin');

-- ----------------------------
-- Table structure for info
-- ----------------------------
DROP TABLE IF EXISTS `info`;
CREATE TABLE `info` (
  `id` int(11) NOT NULL auto_increment,
  `type` varchar(20) default NULL,
  `url` varchar(50) default NULL,
  `title` varchar(200) default NULL,
  `content` text,
  `enable` bit(1) default NULL,
  PRIMARY KEY  (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=12 DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of info
-- ----------------------------

-- ----------------------------
-- Table structure for jbpm_action
-- ----------------------------
DROP TABLE IF EXISTS `jbpm_action`;
CREATE TABLE `jbpm_action` (
  `ID_` bigint(20) NOT NULL auto_increment,
  `class` char(1) NOT NULL,
  `NAME_` varchar(255) default NULL,
  `ISPROPAGATIONALLOWED_` bit(1) default NULL,
  `ACTIONEXPRESSION_` varchar(255) default NULL,
  `ISASYNC_` bit(1) default NULL,
  `REFERENCEDACTION_` bigint(20) default NULL,
  `ACTIONDELEGATION_` bigint(20) default NULL,
  `EVENT_` bigint(20) default NULL,
  `PROCESSDEFINITION_` bigint(20) default NULL,
  `TIMERNAME_` varchar(255) default NULL,
  `DUEDATE_` varchar(255) default NULL,
  `REPEAT_` varchar(255) default NULL,
  `TRANSITIONNAME_` varchar(255) default NULL,
  `TIMERACTION_` bigint(20) default NULL,
  `EXPRESSION_` mediumtext,
  `EVENTINDEX_` int(11) default NULL,
  `EXCEPTIONHANDLER_` bigint(20) default NULL,
  `EXCEPTIONHANDLERINDEX_` int(11) default NULL,
  PRIMARY KEY  (`ID_`),
  KEY `FK_ACTION_REFACT` (`REFERENCEDACTION_`),
  KEY `FK_CRTETIMERACT_TA` (`TIMERACTION_`),
  KEY `FK_ACTION_PROCDEF` (`PROCESSDEFINITION_`),
  KEY `FK_ACTION_EVENT` (`EVENT_`),
  KEY `FK_ACTION_ACTNDEL` (`ACTIONDELEGATION_`),
  KEY `FK_ACTION_EXPTHDL` (`EXCEPTIONHANDLER_`)
) ENGINE=MyISAM DEFAULT CHARSET=gbk;

-- ----------------------------
-- Records of jbpm_action
-- ----------------------------

-- ----------------------------
-- Table structure for jbpm_bytearray
-- ----------------------------
DROP TABLE IF EXISTS `jbpm_bytearray`;
CREATE TABLE `jbpm_bytearray` (
  `ID_` bigint(20) NOT NULL auto_increment,
  `NAME_` varchar(255) default NULL,
  `FILEDEFINITION_` bigint(20) default NULL,
  PRIMARY KEY  (`ID_`),
  KEY `FK_BYTEARR_FILDEF` (`FILEDEFINITION_`)
) ENGINE=MyISAM DEFAULT CHARSET=gbk;

-- ----------------------------
-- Records of jbpm_bytearray
-- ----------------------------

-- ----------------------------
-- Table structure for jbpm_byteblock
-- ----------------------------
DROP TABLE IF EXISTS `jbpm_byteblock`;
CREATE TABLE `jbpm_byteblock` (
  `PROCESSFILE_` bigint(20) NOT NULL,
  `BYTES_` blob,
  `INDEX_` int(11) NOT NULL,
  PRIMARY KEY  (`PROCESSFILE_`,`INDEX_`),
  KEY `FK_BYTEBLOCK_FILE` (`PROCESSFILE_`)
) ENGINE=MyISAM DEFAULT CHARSET=gbk;

-- ----------------------------
-- Records of jbpm_byteblock
-- ----------------------------

-- ----------------------------
-- Table structure for jbpm_comment
-- ----------------------------
DROP TABLE IF EXISTS `jbpm_comment`;
CREATE TABLE `jbpm_comment` (
  `ID_` bigint(20) NOT NULL auto_increment,
  `VERSION_` int(11) NOT NULL,
  `ACTORID_` varchar(255) default NULL,
  `TIME_` datetime default NULL,
  `MESSAGE_` mediumtext,
  `TOKEN_` bigint(20) default NULL,
  `TASKINSTANCE_` bigint(20) default NULL,
  `TOKENINDEX_` int(11) default NULL,
  `TASKINSTANCEINDEX_` int(11) default NULL,
  PRIMARY KEY  (`ID_`),
  KEY `FK_COMMENT_TOKEN` (`TOKEN_`),
  KEY `FK_COMMENT_TSK` (`TASKINSTANCE_`)
) ENGINE=MyISAM DEFAULT CHARSET=gbk;

-- ----------------------------
-- Records of jbpm_comment
-- ----------------------------

-- ----------------------------
-- Table structure for jbpm_decisionconditions
-- ----------------------------
DROP TABLE IF EXISTS `jbpm_decisionconditions`;
CREATE TABLE `jbpm_decisionconditions` (
  `DECISION_` bigint(20) NOT NULL,
  `TRANSITIONNAME_` varchar(255) default NULL,
  `EXPRESSION_` varchar(255) default NULL,
  `INDEX_` int(11) NOT NULL,
  PRIMARY KEY  (`DECISION_`,`INDEX_`),
  KEY `FK_DECCOND_DEC` (`DECISION_`)
) ENGINE=MyISAM DEFAULT CHARSET=gbk;

-- ----------------------------
-- Records of jbpm_decisionconditions
-- ----------------------------

-- ----------------------------
-- Table structure for jbpm_delegation
-- ----------------------------
DROP TABLE IF EXISTS `jbpm_delegation`;
CREATE TABLE `jbpm_delegation` (
  `ID_` bigint(20) NOT NULL auto_increment,
  `CLASSNAME_` mediumtext,
  `CONFIGURATION_` mediumtext,
  `CONFIGTYPE_` varchar(255) default NULL,
  `PROCESSDEFINITION_` bigint(20) default NULL,
  PRIMARY KEY  (`ID_`),
  KEY `FK_DELEGATION_PRCD` (`PROCESSDEFINITION_`)
) ENGINE=MyISAM DEFAULT CHARSET=gbk;

-- ----------------------------
-- Records of jbpm_delegation
-- ----------------------------

-- ----------------------------
-- Table structure for jbpm_event
-- ----------------------------
DROP TABLE IF EXISTS `jbpm_event`;
CREATE TABLE `jbpm_event` (
  `ID_` bigint(20) NOT NULL auto_increment,
  `EVENTTYPE_` varchar(255) default NULL,
  `TYPE_` char(1) default NULL,
  `GRAPHELEMENT_` bigint(20) default NULL,
  `PROCESSDEFINITION_` bigint(20) default NULL,
  `NODE_` bigint(20) default NULL,
  `TRANSITION_` bigint(20) default NULL,
  `TASK_` bigint(20) default NULL,
  PRIMARY KEY  (`ID_`),
  KEY `FK_EVENT_PROCDEF` (`PROCESSDEFINITION_`),
  KEY `FK_EVENT_TRANS` (`TRANSITION_`),
  KEY `FK_EVENT_NODE` (`NODE_`),
  KEY `FK_EVENT_TASK` (`TASK_`)
) ENGINE=MyISAM DEFAULT CHARSET=gbk;

-- ----------------------------
-- Records of jbpm_event
-- ----------------------------

-- ----------------------------
-- Table structure for jbpm_exceptionhandler
-- ----------------------------
DROP TABLE IF EXISTS `jbpm_exceptionhandler`;
CREATE TABLE `jbpm_exceptionhandler` (
  `ID_` bigint(20) NOT NULL auto_increment,
  `EXCEPTIONCLASSNAME_` text,
  `TYPE_` char(1) default NULL,
  `GRAPHELEMENT_` bigint(20) default NULL,
  `PROCESSDEFINITION_` bigint(20) default NULL,
  `GRAPHELEMENTINDEX_` int(11) default NULL,
  `NODE_` bigint(20) default NULL,
  `TRANSITION_` bigint(20) default NULL,
  `TASK_` bigint(20) default NULL,
  PRIMARY KEY  (`ID_`)
) ENGINE=MyISAM DEFAULT CHARSET=gbk;

-- ----------------------------
-- Records of jbpm_exceptionhandler
-- ----------------------------

-- ----------------------------
-- Table structure for jbpm_id_group
-- ----------------------------
DROP TABLE IF EXISTS `jbpm_id_group`;
CREATE TABLE `jbpm_id_group` (
  `ID_` bigint(20) NOT NULL auto_increment,
  `CLASS_` char(1) NOT NULL,
  `NAME_` varchar(255) default NULL,
  `TYPE_` varchar(255) default NULL,
  `PARENT_` bigint(20) default NULL,
  PRIMARY KEY  (`ID_`),
  KEY `FK_ID_GRP_PARENT` (`PARENT_`)
) ENGINE=MyISAM DEFAULT CHARSET=gbk;

-- ----------------------------
-- Records of jbpm_id_group
-- ----------------------------

-- ----------------------------
-- Table structure for jbpm_id_membership
-- ----------------------------
DROP TABLE IF EXISTS `jbpm_id_membership`;
CREATE TABLE `jbpm_id_membership` (
  `ID_` bigint(20) NOT NULL auto_increment,
  `CLASS_` char(1) NOT NULL,
  `NAME_` varchar(255) default NULL,
  `ROLE_` varchar(255) default NULL,
  `USER_` bigint(20) default NULL,
  `GROUP_` bigint(20) default NULL,
  PRIMARY KEY  (`ID_`),
  KEY `FK_ID_MEMSHIP_GRP` (`GROUP_`),
  KEY `FK_ID_MEMSHIP_USR` (`USER_`)
) ENGINE=MyISAM DEFAULT CHARSET=gbk;

-- ----------------------------
-- Records of jbpm_id_membership
-- ----------------------------

-- ----------------------------
-- Table structure for jbpm_id_permissions
-- ----------------------------
DROP TABLE IF EXISTS `jbpm_id_permissions`;
CREATE TABLE `jbpm_id_permissions` (
  `ENTITY_` bigint(20) NOT NULL,
  `CLASS_` varchar(255) default NULL,
  `NAME_` varchar(255) default NULL,
  `ACTION_` varchar(255) default NULL
) ENGINE=MyISAM DEFAULT CHARSET=gbk;

-- ----------------------------
-- Records of jbpm_id_permissions
-- ----------------------------

-- ----------------------------
-- Table structure for jbpm_id_user
-- ----------------------------
DROP TABLE IF EXISTS `jbpm_id_user`;
CREATE TABLE `jbpm_id_user` (
  `ID_` bigint(20) NOT NULL auto_increment,
  `CLASS_` char(1) NOT NULL,
  `NAME_` varchar(255) default NULL,
  `EMAIL_` varchar(255) default NULL,
  `PASSWORD_` varchar(255) default NULL,
  PRIMARY KEY  (`ID_`)
) ENGINE=MyISAM DEFAULT CHARSET=gbk;

-- ----------------------------
-- Records of jbpm_id_user
-- ----------------------------

-- ----------------------------
-- Table structure for jbpm_log
-- ----------------------------
DROP TABLE IF EXISTS `jbpm_log`;
CREATE TABLE `jbpm_log` (
  `ID_` bigint(20) NOT NULL auto_increment,
  `CLASS_` char(1) NOT NULL,
  `INDEX_` int(11) default NULL,
  `DATE_` datetime default NULL,
  `TOKEN_` bigint(20) default NULL,
  `PARENT_` bigint(20) default NULL,
  `MESSAGE_` mediumtext,
  `EXCEPTION_` mediumtext,
  `ACTION_` bigint(20) default NULL,
  `NODE_` bigint(20) default NULL,
  `ENTER_` datetime default NULL,
  `LEAVE_` datetime default NULL,
  `DURATION_` bigint(20) default NULL,
  `NEWLONGVALUE_` bigint(20) default NULL,
  `TRANSITION_` bigint(20) default NULL,
  `CHILD_` bigint(20) default NULL,
  `SOURCENODE_` bigint(20) default NULL,
  `DESTINATIONNODE_` bigint(20) default NULL,
  `VARIABLEINSTANCE_` bigint(20) default NULL,
  `OLDBYTEARRAY_` bigint(20) default NULL,
  `NEWBYTEARRAY_` bigint(20) default NULL,
  `OLDDATEVALUE_` datetime default NULL,
  `NEWDATEVALUE_` datetime default NULL,
  `OLDDOUBLEVALUE_` double default NULL,
  `NEWDOUBLEVALUE_` double default NULL,
  `OLDLONGIDCLASS_` varchar(255) default NULL,
  `OLDLONGIDVALUE_` bigint(20) default NULL,
  `NEWLONGIDCLASS_` varchar(255) default NULL,
  `NEWLONGIDVALUE_` bigint(20) default NULL,
  `OLDSTRINGIDCLASS_` varchar(255) default NULL,
  `OLDSTRINGIDVALUE_` varchar(255) default NULL,
  `NEWSTRINGIDCLASS_` varchar(255) default NULL,
  `NEWSTRINGIDVALUE_` varchar(255) default NULL,
  `OLDLONGVALUE_` bigint(20) default NULL,
  `OLDSTRINGVALUE_` mediumtext,
  `NEWSTRINGVALUE_` mediumtext,
  `TASKINSTANCE_` bigint(20) default NULL,
  `TASKACTORID_` varchar(255) default NULL,
  `TASKOLDACTORID_` varchar(255) default NULL,
  `SWIMLANEINSTANCE_` bigint(20) default NULL,
  PRIMARY KEY  (`ID_`),
  KEY `FK_LOG_SOURCENODE` (`SOURCENODE_`),
  KEY `FK_LOG_DESTNODE` (`DESTINATIONNODE_`),
  KEY `FK_LOG_TOKEN` (`TOKEN_`),
  KEY `FK_LOG_TRANSITION` (`TRANSITION_`),
  KEY `FK_LOG_TASKINST` (`TASKINSTANCE_`),
  KEY `FK_LOG_CHILDTOKEN` (`CHILD_`),
  KEY `FK_LOG_OLDBYTES` (`OLDBYTEARRAY_`),
  KEY `FK_LOG_SWIMINST` (`SWIMLANEINSTANCE_`),
  KEY `FK_LOG_NEWBYTES` (`NEWBYTEARRAY_`),
  KEY `FK_LOG_ACTION` (`ACTION_`),
  KEY `FK_LOG_VARINST` (`VARIABLEINSTANCE_`),
  KEY `FK_LOG_NODE` (`NODE_`),
  KEY `FK_LOG_PARENT` (`PARENT_`)
) ENGINE=MyISAM DEFAULT CHARSET=gbk;

-- ----------------------------
-- Records of jbpm_log
-- ----------------------------

-- ----------------------------
-- Table structure for jbpm_message
-- ----------------------------
DROP TABLE IF EXISTS `jbpm_message`;
CREATE TABLE `jbpm_message` (
  `ID_` bigint(20) NOT NULL auto_increment,
  `CLASS_` char(1) NOT NULL,
  `DESTINATION_` varchar(255) default NULL,
  `EXCEPTION_` mediumtext,
  `ISSUSPENDED_` bit(1) default NULL,
  `TOKEN_` bigint(20) default NULL,
  `TEXT_` varchar(255) default NULL,
  `ACTION_` bigint(20) default NULL,
  `NODE_` bigint(20) default NULL,
  `TRANSITIONNAME_` varchar(255) default NULL,
  `TASKINSTANCE_` bigint(20) default NULL,
  PRIMARY KEY  (`ID_`),
  KEY `FK_CMD_ACTION` (`ACTION_`),
  KEY `FK_MSG_TOKEN` (`TOKEN_`),
  KEY `FK_CMD_NODE` (`NODE_`),
  KEY `FK_CMD_TASKINST` (`TASKINSTANCE_`)
) ENGINE=MyISAM DEFAULT CHARSET=gbk;

-- ----------------------------
-- Records of jbpm_message
-- ----------------------------

-- ----------------------------
-- Table structure for jbpm_moduledefinition
-- ----------------------------
DROP TABLE IF EXISTS `jbpm_moduledefinition`;
CREATE TABLE `jbpm_moduledefinition` (
  `ID_` bigint(20) NOT NULL auto_increment,
  `CLASS_` char(1) NOT NULL,
  `NAME_` mediumtext,
  `PROCESSDEFINITION_` bigint(20) default NULL,
  `STARTTASK_` bigint(20) default NULL,
  PRIMARY KEY  (`ID_`),
  KEY `FK_MODDEF_PROCDEF` (`PROCESSDEFINITION_`),
  KEY `FK_TSKDEF_START` (`STARTTASK_`)
) ENGINE=MyISAM DEFAULT CHARSET=gbk;

-- ----------------------------
-- Records of jbpm_moduledefinition
-- ----------------------------

-- ----------------------------
-- Table structure for jbpm_moduleinstance
-- ----------------------------
DROP TABLE IF EXISTS `jbpm_moduleinstance`;
CREATE TABLE `jbpm_moduleinstance` (
  `ID_` bigint(20) NOT NULL auto_increment,
  `CLASS_` char(1) NOT NULL,
  `PROCESSINSTANCE_` bigint(20) default NULL,
  `TASKMGMTDEFINITION_` bigint(20) default NULL,
  `NAME_` varchar(255) default NULL,
  PRIMARY KEY  (`ID_`),
  KEY `FK_MODINST_PRCINST` (`PROCESSINSTANCE_`),
  KEY `FK_TASKMGTINST_TMD` (`TASKMGMTDEFINITION_`)
) ENGINE=MyISAM DEFAULT CHARSET=gbk;

-- ----------------------------
-- Records of jbpm_moduleinstance
-- ----------------------------

-- ----------------------------
-- Table structure for jbpm_node
-- ----------------------------
DROP TABLE IF EXISTS `jbpm_node`;
CREATE TABLE `jbpm_node` (
  `ID_` bigint(20) NOT NULL auto_increment,
  `CLASS_` char(1) NOT NULL,
  `NAME_` varchar(255) default NULL,
  `PROCESSDEFINITION_` bigint(20) default NULL,
  `ISASYNC_` bit(1) default NULL,
  `ACTION_` bigint(20) default NULL,
  `SUPERSTATE_` bigint(20) default NULL,
  `SUBPROCESSDEFINITION_` bigint(20) default NULL,
  `DECISIONEXPRESSION_` varchar(255) default NULL,
  `DECISIONDELEGATION` bigint(20) default NULL,
  `SIGNAL_` int(11) default NULL,
  `CREATETASKS_` bit(1) default NULL,
  `ENDTASKS_` bit(1) default NULL,
  `NODECOLLECTIONINDEX_` int(11) default NULL,
  PRIMARY KEY  (`ID_`),
  KEY `FK_DECISION_DELEG` (`DECISIONDELEGATION`),
  KEY `FK_NODE_PROCDEF` (`PROCESSDEFINITION_`),
  KEY `FK_NODE_ACTION` (`ACTION_`),
  KEY `FK_PROCST_SBPRCDEF` (`SUBPROCESSDEFINITION_`),
  KEY `FK_NODE_SUPERSTATE` (`SUPERSTATE_`)
) ENGINE=MyISAM DEFAULT CHARSET=gbk;

-- ----------------------------
-- Records of jbpm_node
-- ----------------------------

-- ----------------------------
-- Table structure for jbpm_pooledactor
-- ----------------------------
DROP TABLE IF EXISTS `jbpm_pooledactor`;
CREATE TABLE `jbpm_pooledactor` (
  `ID_` bigint(20) NOT NULL auto_increment,
  `ACTORID_` varchar(255) default NULL,
  `SWIMLANEINSTANCE_` bigint(20) default NULL,
  PRIMARY KEY  (`ID_`),
  KEY `IDX_PLDACTR_ACTID` (`ACTORID_`),
  KEY `FK_POOLEDACTOR_SLI` (`SWIMLANEINSTANCE_`)
) ENGINE=MyISAM DEFAULT CHARSET=gbk;

-- ----------------------------
-- Records of jbpm_pooledactor
-- ----------------------------

-- ----------------------------
-- Table structure for jbpm_processdefinition
-- ----------------------------
DROP TABLE IF EXISTS `jbpm_processdefinition`;
CREATE TABLE `jbpm_processdefinition` (
  `ID_` bigint(20) NOT NULL auto_increment,
  `NAME_` varchar(255) default NULL,
  `VERSION_` int(11) default NULL,
  `ISTERMINATIONIMPLICIT_` bit(1) default NULL,
  `STARTSTATE_` bigint(20) default NULL,
  PRIMARY KEY  (`ID_`),
  KEY `FK_PROCDEF_STRTSTA` (`STARTSTATE_`)
) ENGINE=MyISAM DEFAULT CHARSET=gbk;

-- ----------------------------
-- Records of jbpm_processdefinition
-- ----------------------------

-- ----------------------------
-- Table structure for jbpm_processinstance
-- ----------------------------
DROP TABLE IF EXISTS `jbpm_processinstance`;
CREATE TABLE `jbpm_processinstance` (
  `ID_` bigint(20) NOT NULL auto_increment,
  `VERSION_` int(11) NOT NULL,
  `START_` datetime default NULL,
  `END_` datetime default NULL,
  `ISSUSPENDED_` bit(1) default NULL,
  `PROCESSDEFINITION_` bigint(20) default NULL,
  `ROOTTOKEN_` bigint(20) default NULL,
  `SUPERPROCESSTOKEN_` bigint(20) default NULL,
  PRIMARY KEY  (`ID_`),
  KEY `FK_PROCIN_PROCDEF` (`PROCESSDEFINITION_`),
  KEY `FK_PROCIN_ROOTTKN` (`ROOTTOKEN_`),
  KEY `FK_PROCIN_SPROCTKN` (`SUPERPROCESSTOKEN_`)
) ENGINE=MyISAM DEFAULT CHARSET=gbk;

-- ----------------------------
-- Records of jbpm_processinstance
-- ----------------------------

-- ----------------------------
-- Table structure for jbpm_runtimeaction
-- ----------------------------
DROP TABLE IF EXISTS `jbpm_runtimeaction`;
CREATE TABLE `jbpm_runtimeaction` (
  `ID_` bigint(20) NOT NULL auto_increment,
  `VERSION_` int(11) NOT NULL,
  `EVENTTYPE_` varchar(255) default NULL,
  `TYPE_` char(1) default NULL,
  `GRAPHELEMENT_` bigint(20) default NULL,
  `PROCESSINSTANCE_` bigint(20) default NULL,
  `ACTION_` bigint(20) default NULL,
  `PROCESSINSTANCEINDEX_` int(11) default NULL,
  PRIMARY KEY  (`ID_`),
  KEY `FK_RTACTN_PROCINST` (`PROCESSINSTANCE_`),
  KEY `FK_RTACTN_ACTION` (`ACTION_`)
) ENGINE=MyISAM DEFAULT CHARSET=gbk;

-- ----------------------------
-- Records of jbpm_runtimeaction
-- ----------------------------

-- ----------------------------
-- Table structure for jbpm_swimlane
-- ----------------------------
DROP TABLE IF EXISTS `jbpm_swimlane`;
CREATE TABLE `jbpm_swimlane` (
  `ID_` bigint(20) NOT NULL auto_increment,
  `NAME_` varchar(255) default NULL,
  `ACTORIDEXPRESSION_` varchar(255) default NULL,
  `POOLEDACTORSEXPRESSION_` varchar(255) default NULL,
  `ASSIGNMENTDELEGATION_` bigint(20) default NULL,
  `TASKMGMTDEFINITION_` bigint(20) default NULL,
  PRIMARY KEY  (`ID_`),
  KEY `FK_SWL_ASSDEL` (`ASSIGNMENTDELEGATION_`),
  KEY `FK_SWL_TSKMGMTDEF` (`TASKMGMTDEFINITION_`)
) ENGINE=MyISAM DEFAULT CHARSET=gbk;

-- ----------------------------
-- Records of jbpm_swimlane
-- ----------------------------

-- ----------------------------
-- Table structure for jbpm_swimlaneinstance
-- ----------------------------
DROP TABLE IF EXISTS `jbpm_swimlaneinstance`;
CREATE TABLE `jbpm_swimlaneinstance` (
  `ID_` bigint(20) NOT NULL auto_increment,
  `NAME_` varchar(255) default NULL,
  `ACTORID_` varchar(255) default NULL,
  `SWIMLANE_` bigint(20) default NULL,
  `TASKMGMTINSTANCE_` bigint(20) default NULL,
  PRIMARY KEY  (`ID_`),
  KEY `FK_SWIMLANEINST_TM` (`TASKMGMTINSTANCE_`),
  KEY `FK_SWIMLANEINST_SL` (`SWIMLANE_`)
) ENGINE=MyISAM DEFAULT CHARSET=gbk;

-- ----------------------------
-- Records of jbpm_swimlaneinstance
-- ----------------------------

-- ----------------------------
-- Table structure for jbpm_task
-- ----------------------------
DROP TABLE IF EXISTS `jbpm_task`;
CREATE TABLE `jbpm_task` (
  `ID_` bigint(20) NOT NULL auto_increment,
  `NAME_` varchar(255) default NULL,
  `PROCESSDEFINITION_` bigint(20) default NULL,
  `DESCRIPTION_` mediumtext,
  `ISBLOCKING_` bit(1) default NULL,
  `ISSIGNALLING_` bit(1) default NULL,
  `DUEDATE_` varchar(255) default NULL,
  `ACTORIDEXPRESSION_` varchar(255) default NULL,
  `POOLEDACTORSEXPRESSION_` varchar(255) default NULL,
  `TASKMGMTDEFINITION_` bigint(20) default NULL,
  `TASKNODE_` bigint(20) default NULL,
  `STARTSTATE_` bigint(20) default NULL,
  `ASSIGNMENTDELEGATION_` bigint(20) default NULL,
  `SWIMLANE_` bigint(20) default NULL,
  `TASKCONTROLLER_` bigint(20) default NULL,
  PRIMARY KEY  (`ID_`),
  KEY `FK_TASK_STARTST` (`STARTSTATE_`),
  KEY `FK_TASK_PROCDEF` (`PROCESSDEFINITION_`),
  KEY `FK_TASK_ASSDEL` (`ASSIGNMENTDELEGATION_`),
  KEY `FK_TASK_SWIMLANE` (`SWIMLANE_`),
  KEY `FK_TASK_TASKNODE` (`TASKNODE_`),
  KEY `FK_TASK_TASKMGTDEF` (`TASKMGMTDEFINITION_`),
  KEY `FK_TSK_TSKCTRL` (`TASKCONTROLLER_`)
) ENGINE=MyISAM DEFAULT CHARSET=gbk;

-- ----------------------------
-- Records of jbpm_task
-- ----------------------------

-- ----------------------------
-- Table structure for jbpm_taskactorpool
-- ----------------------------
DROP TABLE IF EXISTS `jbpm_taskactorpool`;
CREATE TABLE `jbpm_taskactorpool` (
  `TASKINSTANCE_` bigint(20) NOT NULL,
  `POOLEDACTOR_` bigint(20) NOT NULL,
  PRIMARY KEY  (`TASKINSTANCE_`,`POOLEDACTOR_`),
  KEY `FK_TASKACTPL_TSKI` (`TASKINSTANCE_`),
  KEY `FK_TSKACTPOL_PLACT` (`POOLEDACTOR_`)
) ENGINE=MyISAM DEFAULT CHARSET=gbk;

-- ----------------------------
-- Records of jbpm_taskactorpool
-- ----------------------------

-- ----------------------------
-- Table structure for jbpm_taskcontroller
-- ----------------------------
DROP TABLE IF EXISTS `jbpm_taskcontroller`;
CREATE TABLE `jbpm_taskcontroller` (
  `ID_` bigint(20) NOT NULL auto_increment,
  `TASKCONTROLLERDELEGATION_` bigint(20) default NULL,
  PRIMARY KEY  (`ID_`),
  KEY `FK_TSKCTRL_DELEG` (`TASKCONTROLLERDELEGATION_`)
) ENGINE=MyISAM DEFAULT CHARSET=gbk;

-- ----------------------------
-- Records of jbpm_taskcontroller
-- ----------------------------

-- ----------------------------
-- Table structure for jbpm_taskinstance
-- ----------------------------
DROP TABLE IF EXISTS `jbpm_taskinstance`;
CREATE TABLE `jbpm_taskinstance` (
  `ID_` bigint(20) NOT NULL auto_increment,
  `CLASS_` char(1) NOT NULL,
  `NAME_` varchar(255) default NULL,
  `DESCRIPTION_` mediumtext,
  `ACTORID_` varchar(255) default NULL,
  `CREATE_` datetime default NULL,
  `START_` datetime default NULL,
  `END_` datetime default NULL,
  `DUEDATE_` datetime default NULL,
  `PRIORITY_` int(11) default NULL,
  `ISCANCELLED_` bit(1) default NULL,
  `ISSUSPENDED_` bit(1) default NULL,
  `ISOPEN_` bit(1) default NULL,
  `ISSIGNALLING_` bit(1) default NULL,
  `ISBLOCKING_` bit(1) default NULL,
  `TASK_` bigint(20) default NULL,
  `TOKEN_` bigint(20) default NULL,
  `SWIMLANINSTANCE_` bigint(20) default NULL,
  `TASKMGMTINSTANCE_` bigint(20) default NULL,
  PRIMARY KEY  (`ID_`),
  KEY `IDX_TASK_ACTORID` (`ACTORID_`),
  KEY `FK_TASKINST_TMINST` (`TASKMGMTINSTANCE_`),
  KEY `FK_TASKINST_TOKEN` (`TOKEN_`),
  KEY `FK_TASKINST_SLINST` (`SWIMLANINSTANCE_`),
  KEY `FK_TASKINST_TASK` (`TASK_`)
) ENGINE=MyISAM DEFAULT CHARSET=gbk;

-- ----------------------------
-- Records of jbpm_taskinstance
-- ----------------------------

-- ----------------------------
-- Table structure for jbpm_timer
-- ----------------------------
DROP TABLE IF EXISTS `jbpm_timer`;
CREATE TABLE `jbpm_timer` (
  `ID_` bigint(20) NOT NULL auto_increment,
  `NAME_` varchar(255) default NULL,
  `DUEDATE_` datetime default NULL,
  `REPEAT_` varchar(255) default NULL,
  `TRANSITIONNAME_` varchar(255) default NULL,
  `EXCEPTION_` mediumtext,
  `ISSUSPENDED_` bit(1) default NULL,
  `ACTION_` bigint(20) default NULL,
  `TOKEN_` bigint(20) default NULL,
  `PROCESSINSTANCE_` bigint(20) default NULL,
  `TASKINSTANCE_` bigint(20) default NULL,
  `GRAPHELEMENTTYPE_` varchar(255) default NULL,
  `GRAPHELEMENT_` bigint(20) default NULL,
  PRIMARY KEY  (`ID_`),
  KEY `FK_TIMER_PRINST` (`PROCESSINSTANCE_`),
  KEY `FK_TIMER_TOKEN` (`TOKEN_`),
  KEY `FK_TIMER_ACTION` (`ACTION_`),
  KEY `FK_TIMER_TSKINST` (`TASKINSTANCE_`)
) ENGINE=MyISAM DEFAULT CHARSET=gbk;

-- ----------------------------
-- Records of jbpm_timer
-- ----------------------------
